{% extends "base.html" %}
{% block content %}
<h1>My Profile</h1>

<section>
  <h2>Account</h2>
  <p><strong>Username:</strong> {{ request.user.username }}</p>
  <p><strong>Name:</strong> {{ request.user.first_name }} {{ request.user.last_name }}</p>
  <p><strong>Email:</strong> {{ request.user.email }}</p>
  <a class="primary" href="{% url 'accounts:edit_account' %}"><button class="primary-button">Edit</button></a>
</section>

<section>
  <h2>Date of birth</h2>
  <p>{% if profile.date_of_birth %}{{ profile.date_of_birth }}{% else %}Not set{% endif %}</p>
  <a href="{% url 'accounts:edit_dob' %}"><button class="primary-button">Edit</button></a>
</section>

<section>
  <h2>Event Preferences</h2>
  <p>
    <strong>Presets:</strong>
    {% if profile.presets %}
      {% for p in profile.presets %}{{ p }}{% if not forloop.last %}, {% endif %}{% endfor %}
    {% else %}
      none
    {% endif %}
  </p>
  <p>
    <strong>Custom:</strong>
    {% if profile.custom_preferences %}
      {% for c in profile.custom_preferences %}{{ c }}{% if not forloop.last %}, {% endif %}{% endfor %}
    {% else %}
      none
    {% endif %}
  </p>
  <a href="{% url 'accounts:edit_preferences' %}"><button class="primary-button">Edit</button></a>
</section>

<hr>

<section>
  <h2>Security</h2>
  <a href="{% url 'accounts:password_change' %}"><button class="primary-button">Change password</button></a>
</section>
{% endblock %}
