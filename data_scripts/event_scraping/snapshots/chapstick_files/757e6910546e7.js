//15.140.1-es2019 2025-10-30T13:45:08.204Z (757e6910546e7)
var CS_CONF={"collectionEnabled":true,"useSentry":false,"projectId":143336,"status":1,"hostnames":["www.eventbrite.com","eventbrite.com"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":0,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":0,"validationRate":10,"lastTrackingDraw":1751381409,"trackerDomain":"c.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":0,"jsErrorsEnabled":1,"customErrorsEnabled":1,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":1,"customHashIdEnabled":0,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":null,"whitelistedAttributes":null,"replayRecordingUnmaskedUrlRegex":"","replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":"","anonymisationMethod":null,"tagDeploymentMode":"CONTENTSQUARE","experimental":null,"iframesTracking":0,"textVisibilityEnabled":0,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":1,"pathComputationRules":{},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withResource":false,"withNavigation":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":1,"collectHierarchy":0,"collectSubmit":0,"collectTargetText":1,"apiErrors":{"collectStandardHeaders":0,"collectionRules":[]},"customErrors":{"consoleMessageLogLevels":[]},"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-aus1.contentsquare.net","malkaRecordingDomain":"k-aus1.contentsquare.net","staticResourceManagerDomain":"srm.bf.contentsquare.net","voc":{"siteId":6433701,"enabled":1},"heapEnvironment":{"env_id":"1404198904","heap_tag_status":"heap_sideloads_cs"},"implementations":[{"template":{"name":"ElementUnmasking","args":{"selector":"#search-autocomplete-input"}},"triggers":[{"name":"PageState","args":{"state":"Any"}}]}]};
(()=>{var Qu=Object.defineProperty;var Zu=(s,n,t)=>n in s?Qu(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var Es=(s,n,t)=>Zu(s,typeof n!="symbol"?n+"":n,t);var Qe={};Qe.d=(s,n)=>{for(var t in n)Qe.o(n,t)&&!Qe.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:n[t]})};Qe.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Qe.o=(s,n)=>Object.prototype.hasOwnProperty.call(s,n);Qe.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var Xa={};Qe.r(Xa);Qe.d(Xa,{getRequestParameters:()=>aE});function Ei(s,n){let t;return window.Zone&&typeof window.Zone.__symbol__=="function"&&(t=s[window.Zone.__symbol__(n)]),t!=null?t:s[n]}function Ht(s){return dt(s)&&(typeof s=="number"||s instanceof Number)&&!isNaN(s)}function zi(s){return s===parseInt(s,10)}function L(s){return dt(s)&&(typeof s=="string"||s instanceof csString)}function Rr(s){return typeof s=="boolean"}function Js(s){return typeof s=="object"}function dt(s){return typeof s!="undefined"}function Nt(s){return dt(s)&&s!==null}function ut(s){return typeof s=="object"&&s!==null}function td(s,n,t){return zi(s)&&s>=n&&s<=t}function ma(s){for(let n in s)return!1;return!0}function ts(s){return typeof s=="function"}function Rs(s){return s instanceof Element}function Cs(s){return s instanceof Error}function Ka(s){let n=s.length;for(let t=0;t<n;t++)switch(csString.prototype.charCodeAt.call(s,t)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}var Ln=typeof window=="undefined";function ed(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Qe.g!="undefined"?Qe.g:typeof process!="undefined"?process:Function("return this")()}var yt=ed();var Ot=(()=>{let s;return function(n){n.debug="debug",n.warn="warn",n.implementation="implementation",n.error="error",n.critical="critical"}(s||(s={})),s})(),jo={[Ot.debug]:0,[Ot.warn]:1,[Ot.implementation]:1,[Ot.error]:2,[Ot.critical]:3},Ct={debug(...s){},warn(...s){},implementation(...s){},error(...s){},critical(...s){},isPerfLoggingActive(){return!1}};function sd(s){Ct=s}var B=s=>(n,t,e)=>{let i=(t==null?void 0:t.toString())||"",r=s||`${n.constructor&&n.constructor.name}.${i}`;if(e){let o=e.value;e.value=function(...c){return Qs(r,o.bind(this))(...c)}}};function Qs(s,n){return function(...t){try{let e=n.apply(this,t);return dt(yt.Promise)&&e instanceof yt.Promise?e.then(i=>i,i=>Ct.error(Cs(i)?i:new Error(i),s)):e}catch(e){try{Ct.error(Cs(e)?e:new Error(e),s)}catch{}}}}function Et(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(r=(i<3?o(r):i>3?o(n,t,r):o(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}function Ja(s){let n=new ArrayBuffer(s.length),t=new Uint8Array(n);for(let e=0,i=s.length;e<i;e+=1)t[e]=csString.prototype.charCodeAt.call(s,e);return n}function Lc(s){let n=new Uint8Array(s),t="";for(let e=0;e<n.byteLength;e+=1)t+=csString.fromCodePoint(n[e]);return t}function ah(s){let n=self.atob(s);return Ja(n)}function ya(s){let n=csArray.from(new Uint8Array(s));return csArray.prototype.join.call(csArray.prototype.map.call(n,t=>csString.prototype.padStart.call(t.toString(16),2,"0")),"")}function Uc(s){let n=csString.prototype.indexOf.call(s,";base64,")!==-1,t=csString.prototype.indexOf.call(s,","),e=n?[csString.prototype.substring.call(s,0,t-7),csString.prototype.substring.call(s,t+1)]:[csString.prototype.substring.call(s,0,t),csString.prototype.substring.call(s,t+1)];if(!n&&/^%3Csvg/i.test(e[1]))try{e[1]=decodeURIComponent(e[1])}catch(o){Ct.warn(`${o}, calling decodeURIComponent on: ${e[1]}`)}let r=n?ah(e[1]):Ja(e[1]);return new Blob([r],{type:csString.prototype.replace.call(e[0],"data:","")})}var ch=typeof performance!="undefined"&&!!performance.now,Vc=ch?()=>performance.now():()=>csDate.now(),id=(()=>{var s,n;return ch?(n=(s=performance.timing)===null||s===void 0?void 0:s.navigationStart)!==null&&n!==void 0?n:Math.floor(performance.timeOrigin):0})(),Qa=34164e6,F={now(){return Math.round(Vc()+id)},elapsed(){return Vc()}};function jc(){return Math.floor(F.now()/1e3)}function lh(){return typeof window.Promise=="function"}function nd(){var s;return typeof crypto!="undefined"&&ts((s=crypto.subtle)===null||s===void 0?void 0:s.digest)}function Hc(){var s,n;return typeof((s=window.navigation)===null||s===void 0?void 0:s.addEventListener)=="function"&&typeof((n=window.navigation)===null||n===void 0?void 0:n.removeEventListener)=="function"}function Xt(s,n){return csString.prototype.lastIndexOf.call(s,n,0)===0}function Qi(s,n){return csString.prototype.indexOf.call(s,n,s.length-n.length)!==-1}var rd=Number.MAX_SAFE_INTEGER||9007199254740991,gi={percentage(){return Math.floor(Math.random()*1e4)/100},boolean(s){return this.percentage()<s},integer(s=rd){return Math.floor(Math.random()*s)}};function Gi(s,n){let t,e,i,r,o,c=null,u=v=>{let f=F.elapsed();if(!v&&c!==null){let _=n-(f-c);if(_>=1){i=yt.csSetTimeout(u,_);return}}let w=f-r;i=null,c=null,r=null,o=s.apply(t,[w,...e])},p=function(){if(t=this,e=arguments,r){c=F.elapsed();return}return r=F.elapsed(),i=yt.csSetTimeout(u,n),o};return p.flushPending=()=>{i&&(yt.csClearTimeout(i),u(!0))},p.cancel=()=>{c=null,r=null,i&&(yt.csClearTimeout(i),i=null)},p}function od(s=0){return(n,t,e)=>{e.value=Gi(e.value,s)}}var Nn=(()=>{class s{static setGlobalService(t){s.globalService=t}constructor(t){this.name=t,this.values={}}reset(){this.values={}}flush(){if(!s.globalService)return!1;let t=this.values,e=Object.keys(t);if(!e.length)return!1;let i=csArray.prototype.map.call(e,r=>({name:this.name,parameter:r,value:Math.round(t[r])}));return s.globalService.push(i),this.reset(),i.length>0}}return s.globalService=null,Et([B()],s.prototype,"flush",null),s})(),ee=(()=>{class s extends Nn{constructor(t,e=100){super(t),this.yy=e,this.values={},e&&(this.debouncedFlush=Gi(()=>this.flush(),this.yy))}count(t,e=1){Nn.globalService&&(this.values[t]=(this.values[t]||0)+e,this.debouncedFlush())}}return s})(),Bc=(()=>{class s extends Nn{constructor(){super(...arguments),this.values={average:0,count:0,max:0,total:0}}get average(){return this.values.average}get count(){return this.values.count}get max(){return this.values.max}get total(){return this.values.total}push(t){this.values.count++,this.values.total+=t,this.values.max=Math.max(this.values.max,t),this.values.average=this.values.total/this.values.count}reset(){this.values={count:0,total:0,max:0,average:0}}}return s})(),ad=(()=>{class s extends Nn{add(t,e){var i,r,o,c,u,p,v;let f=w=>this.values[`${t}.${w}`];(i=(c=this.values)[u=`${t}.count`])!==null&&i!==void 0||(c[u]=0),(r=(p=this.values)[v=`${t}.total`])!==null&&r!==void 0||(p[v]=0),this.values[`${t}.count`]++,this.values[`${t}.total`]+=e,this.values[`${t}.max`]=Math.max((o=f("max"))!==null&&o!==void 0?o:0,e),this.values[`${t}.average`]=f("total")/f("count")}}return s})(),ot={counters:{commandsFromIntegrations:new ee("commands-from-integrations"),commandsFromCSTC:new ee("commands-from-cstc"),commandsFromIframe:new ee("commands-from-iframe"),commandApplied:new ee("command-applied"),commandError:new ee("command-error"),commandMisuse:new ee("command-misuse"),CSTCSnippetUsed:new ee("cstc-snippet-used"),redactedPII:new ee("redacted-pii"),pageAnonymisation:new ee("page-anonymisation"),patchedNativeFunctions:new ee("patched-native-functions"),pureWindowState:new ee("pure-window-state"),sensitiveElements:new ee("sensitive-elements"),cspErrors:new ee("csp-errors"),networkRequests:new ee("network-requests"),webVitalsErrors:new ee("web-vitals-errors"),trackedFeatures:new ee("tracked-features"),longTasks:new Bc("longTasks"),tasks:new Bc("tasks"),errors:new ee("errors"),methodPerformance:new ad("perf")},setService(s){Nn.setGlobalService(s)}},Un=(()=>{class s{constructor(){this._o=0}get length(){return this._o}get isEmpty(){return!this.Ls}pushAll(t){for(let e=0;e<t.length;e++)this.push(t[e])}push(t){this._o++,this.Yn?this.Yn=this.Yn[1]=[t,void 0]:this.Yn=this.Ls=[t,void 0]}pop(){if(!this.Ls)return null;this._o--;let t=this.Ls[0];return this.Ls=this.Ls[1],this.Ls||(this.Yn=void 0),t}forEach(t){let e=this.Ls;for(;e!=null&&e.length;)t(e[0]),e=e[1]}clear(){this._o=0,this.Ls=this.Yn=void 0}}return s})(),Ea=0,Za=s=>{Ea++,csQueueMicrotask(()=>Si(()=>{try{s()}finally{Ea--}},es.MicroTask))},Cr=new Un,Ir=new Un;function ye(s,n="high"){Cr.isEmpty&&Ir.isEmpty&&hh(cd),n==="high"?Ir.push(Fc(s)):Cr.push(Fc(s))}function hh(s,n=10){n===0?Za(s):csQueueMicrotask(()=>hh(s,n-1))}function cd(){for(;!Ir.isEmpty;)Ir.pop()();for(;!Cr.isEmpty;)Cr.pop()()}async function uh(s=1){for(let n=0;n<s;n++)await new Promise(t=>ye(t))}function Fc(s){return function(){try{s.apply(window,arguments)}catch(n){Ct.critical(n)}}}var _r="null",Gs=null,dh=[],ld=()=>{var s;return Ln||!!(!((s=document.body)===null||s===void 0)&&s.getAttribute("data-cs-tag-extension"))};!Ln&&ld()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],Gs=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",s=>{Sa({type:"UXA_EVENT",event:s.detail})}),Gs.addEventListener("message",s=>{if(s.data.type==="CONNECT"){if(s.data.sessionId===_r)return;_r=s.data.sessionId,csArray.prototype.forEach.call(dh,n=>n()),Gs==null||Gs.postMessage({type:"CONNECTED",sessionId:_r})}}));function hd(s){Ln||(_r!==null&&csSetTimeout(s),csSetTimeout(()=>csArray.prototype.push.call(dh,s)))}function Sa(s){Gs==null||Gs.postMessage(s)}function qi(s){var n;let t=(n=s.length)!==null&&n!==void 0?n:0,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=s[i];return e}function Ge(s,n){let t=s.length,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=n(s[i]);return e}function ud(s,n,t){let e=[],i=0;for(let r=0;r<s.length;r+=1){let o=n(s[r]);for(let c=0;c<o.length;c++)t(o[c],i++)}return e}function tc(s,n){let t=[];return ud(s,n,e=>csArray.prototype.push.call(t,e)),t}function ft(s,n){if(dd(s)){let t=s.length;for(let e=0;e<t;e++)n(s[e],e)}else{let t=0,e=s.next();for(;!e.done;)n(e.value,t++),e=s.next()}}function dd(s){return s.length>=0}function Je(s,n){let t=s.length;for(let e=0;e<t;e++)if(n(s[e],e))return s[e]}function Pr(s,n){let t=s.length;for(let e=0;e<t;e++)if(n(s[e],e))return!0;return!1}function ec(s,n){let t=s.length;for(let e=0;e<t;e++)if(!n(s[e],e))return!1;return!0}function Mn(s,n){let t=s.length,e=[];for(let i=0;i<t;i+=1){let r=s[i];n(r)&&csArray.prototype.push.call(e,r)}return e}function pd(s,n,t){let e=s.length+n.length+((t==null?void 0:t.length)||0),i=new csArray(e),r=0;for(let o=0;o<s.length;o++)i[r++]=s[o];for(let o=0;o<n.length;o++)i[r++]=n[o];if(!t)return i;for(let o=0;o<t.length;o++)i[r++]=t[o];return i}function $c(s,n){for(let t=0;t<s.length;t++)csArray.prototype.push.call(n,s[t])}function Zs(s){let n=s instanceof Map,t=[];return s.forEach((e,i)=>csArray.prototype.push.call(t,n?[i,e]:e)),t}function fd(s){return csArray.isArray(s)&&s.length>0}var Vn=(()=>{class s{constructor(t,e=""){this.name=t,this.format=e}}return s})(),Ss=(()=>{class s extends Vn{constructor(t){super(t,"Value: {count}"),this.count=0}increase(t=1){this.count+=t}decrease(){this.count>0&&this.count--}clear(){this.count=0}getData(){return{count:this.count}}}return s})();var zc=(()=>{class s extends Vn{constructor(t){super(t,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}"),this.added=0,this.removed=0}get value(){return this.added-this.removed}increase(){this.added++}decrease(){this.removed++}getData(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}}}return s})(),vs=(()=>{class s extends Vn{constructor(t){super(t,"Count: {count}<br/>Average: {average}ms<br/>Max: {max}ms<br/>Total: {total}ms"),this.total=0,this.count=0,this.max=0}get average(){return this.count?this.total/this.count:0}elapsed(t){return this.count++,this.max=Math.max(this.max,t),this.total+=t,t}measure(t){let e=F.elapsed();t(),this.count++;let i=F.elapsed()-e;return this.max=Math.max(this.max,i),this.total+=i,i}asyncMeasure(){let t=F.elapsed();return()=>{this.count++;let e=F.elapsed()-t;return this.max=Math.max(this.max,e),this.total+=e,e}}getData(){return{total:this.total,count:this.count,average:this.average,max:this.max}}}return s})(),gd=(()=>{class s extends Vn{constructor(){super("INP","Value: {value}")}getData(){return{value:Ut.tasks.eventListener.max}}}return s})(),Ut={general:{category:"General",nbEvents:new Ss("Nb of Events"),pendingTasks:new Ss("Pending Tasks"),pendingEvents:new Ss("Pending Tasks"),nbOfMutationObservers:new zc("Nb of Mutation Observers"),inp:new gd},mutations:{category:"Mutations",initialDOM:new vs("Initial DOM"),pendingMutations:new Ss("Nb of Mutations scheduled"),serializedMutations:new vs("Serialized Mutations"),count:new Ss("Mutation Count"),elementMutationObserved:new zc("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new vs("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new Ss("Nb of Hidden Elements "),nbElements:new Ss("Nb of  Elements")},tasks:{category:"Tasks",tasks:new Ss("Tasks"),errors:new Ss("Errors"),timer:new vs("Timers"),microtask:new vs("Microtasks"),mutationObserver:new vs("MutationObserver"),monkeyPatch:new vs("MonkeyPatch"),eventListener:new vs("EventListener"),intersectionObserver:new vs("Intersection")}};function md(){let s=null;hd(()=>{let n=r=>Object.keys(r),t=csArray.prototype.map.call(n(Ut),r=>Ut[r]),e=csArray.prototype.map.call(t,r=>csArray.prototype.filter.call(csArray.prototype.map.call(n(r),o=>r[o]),o=>o instanceof Vn));Sa({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:csArray.prototype.map.call(t,(r,o)=>({category:r.category,performanceCounters:csArray.prototype.map.call(e[o],c=>({name:c.name,format:c.format}))}))}),!s&&(s=csSetInterval(()=>{Si(()=>{let r=tc(Ge(e,o=>Ge(o,c=>c.getData())),o=>o);Sa({type:"UXA_PERFORMANCE_COUNTER",event:r})},es.Timer)},1e3))})}var es=(()=>{let s;return function(n){n.Timer="timer",n.MonkeyPatch="monkeyPatch",n.MutationObserver="mutationObserver",n.EventListener="eventListener",n.IntersectionObserver="intersectionObserver",n.MicroTask="microtask"}(s||(s={})),s})(),ke=null;async function Si(s,n,t=null){if(ke&&n!==es.MicroTask)return s();t&&(ke=t),ke||(ke={type:n,elapsed:0},Ut.tasks.tasks.increase());try{ke.elapsed+=yd(s)}catch(e){Ut.tasks.errors.increase(),Ct.critical(new Error(`Task error:  ${n}/${s.name}.
${e.message}
${e.stack}`,e),"TASK_ERROR")}finally{Ea<=0&&(Ut.tasks[ke.type].elapsed(ke.elapsed),ke.elapsed>50?ot.counters.longTasks.push(ke.elapsed):ot.counters.tasks.push(ke.elapsed),ke=null)}}function yd(s){let n=F.elapsed();return s(),F.elapsed()-n}var Ho,Ed="cs-native-frame";var Ls={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function ph(s,n){let t=Ei(window,s);return function(e,i){return t(()=>Si(e,n),i)}}window.csSetTimeout=ph("setTimeout",es.Timer);window.csSetInterval=ph("setInterval",es.Timer);window.csQueueMicrotask=(Ho=Ei(window,"queueMicrotask"))!==null&&Ho!==void 0?Ho:setTimeout;window.csClearTimeout=Ei(window,"clearTimeout");window.csClearInterval=Ei(window,"clearInterval");window.csFileReader=Ei(window,"FileReader");(()=>{var s;let n=0;function t(i){return"cs$Symbol_"+i}function e(i){return t(i)+ ++n}e.for=t,window.csSymbol=(s=window.Symbol)!==null&&s!==void 0?s:e})();function Sd(){let s=document.createElement("iframe");s.id=Ed,s.setAttribute("hidden",""),s.setAttribute("title","Intentionally blank"),s.setAttribute("sandbox","allow-same-origin");let n=document.createElement("cs-native-frame-holder");if(n.setAttribute("hidden",""),document.body.appendChild(n),!!Element.prototype.attachShadow){let e=n.attachShadow({mode:"closed"});return e.innerHTML=s.outerHTML,e.firstElementChild.contentWindow}return n.innerHTML=s.outerHTML,n.firstElementChild.contentWindow}function vd(s,n){let t,e=s;for(;e&&!(t=Object.getOwnPropertyDescriptor(e,n));)e=Object.getPrototypeOf(e);return t}function _d(s,n,t){let e=vd(s,n);if(!e)return function(){return this[n]};switch(t){case"get":return e.get;case"set":return e.set;case"value":return e.value}}function fh(s){var n,t;Object.keys(Ls.constructors).forEach(i=>{window[Ls.constructors[i]]=s[i]instanceof Function&&s[i].prototype==null?s[i].bind(window):s[i]}),Td(s);let e=s.MutationObserver;("Prototype"in window||bd())&&(e=(t=(n=Ei(window,"MutationObserver"))!==null&&n!==void 0?n:window.WebKitMutationObserver)!==null&&t!==void 0?t:window.MutationObserver),window.csIntersectionObserver=Gc(window.IntersectionObserver,es.IntersectionObserver),window.csMutationObserver=Gc(e,es.MutationObserver),xi("csNode",Ls.nodeProperties,s.Node.prototype,"get"),xi("csElement",Ls.elementProperties,s.Element.prototype,"get"),xi("csElement",Ls.elementPropertiesValues,s.Element.prototype,"value",!1),xi("csHTMLImageElement",Ls.imageProperties,s.HTMLImageElement.prototype,"set"),xi("csEvent",Ls.eventProperties,s.Event.prototype,"get"),xi("csNavigator",Ls.navigatorProperties,s.navigator,"value")}function xi(s,n,t,e,i=!0){n.forEach(r=>{let o=typeof r!="string"&&"binding"in r,c=o?r.propertyName:r;(i||c in t)&&(window[`${s+c}`]=_d(t,c,e),o&&(window[`${s+c}`]=window[`${s+c}`].bind(r.binding)))})}function sc(s,n){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[s]=n}function wd(){try{let s=Sd();return s?(window.CSPureWindow=s,fh(window.CSPureWindow),!0):!1}catch(s){return sc("Warning",`failed to copy references from pure iframe: ${s.message}`),!1}}if(!wd())try{fh(yt)}catch(s){sc("Critical",`failed to copy references from window: ${s.message}`)}function bd(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Td(s){window.csquerySelector={1:s.Element.prototype.querySelector,9:s.Document.prototype.querySelector,11:s.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:s.Element.prototype.querySelectorAll,9:s.Document.prototype.querySelectorAll,11:s.DocumentFragment.prototype.querySelectorAll}}function Gc(s,n){try{let t=function(e,i){return new s((o,c)=>{Si(()=>e(o,c),n)},i)};return t.base=s,t}catch{return sc("Warning",`failed to extends ${s.name}`),s}}var _t=(()=>{let s;return function(n){n.ELLIPSIS="\u2026";function t(o){return csString.prototype.replace.call(o,/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(o){return csString.prototype.replace.call(o,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}n.escapeInvalidCharacters=e;function i(o,c,u){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(o,c,u);let p=new csRegExp(t(c),"g");return csString.prototype.replace.call(o,p,u)}n.stringReplaceAll=i;function r(o,c,u=""){return o.length<=c?o:csString.prototype.slice.call(o,0,c-u.length)+u}n.truncate=r}(s||(s={})),s})();function va(s){return _t.escapeInvalidCharacters(csString.prototype.toLowerCase.call(s.localName))}function Ad(s){let n=s.getAttribute("id");return n&&_t.escapeInvalidCharacters(n)}function It(s){return s.nodeType===1}function Or(s){return s.nodeType===3}function Rd(s){return s.nodeType===8}function gh(s){return It(s)&&s.localName==="link"}function Cd(s){return It(s)&&s.localName==="source"}function mh(s){return It(s)&&s.localName==="a"}function ic(s){return gh(s)&&csString.prototype.indexOf.call(s.rel,"stylesheet")!==-1}function Id(s){return It(s)&&s.localName==="img"}function jr(s){return It(s)&&s.localName==="style"}function Hr(s){return It(s)&&s.localName==="input"}function nc(s){return It(s)&&s.localName==="textarea"}function Br(s){return It(s)&&s.localName==="script"}function Pd(s){return It(s)&&s.localName==="button"}function Zi(s){return It(s)&&"ownerSVGElement"in s}function rc(s){return It(s)&&s.localName==="select"}function Od(s){return It(s)&&s.localName==="details"}function Nd(s){return It(s)&&s.localName==="summary"}function Md(s){return Zi(s)&&s.localName==="image"}function kd(s){return Zi(s)&&s.localName==="use"}function Dd(s){return Zi(s)&&s.localName==="feImage"}function xd(s){switch(s.nodeType){case 9:case 11:return!0;default:return!1}}function Ld(s){switch(s.nodeType){case 9:case 11:case 1:return!0;default:return!1}}function Nr(s){return s.nodeType===9}function Wi(s){return xd(s)&&"host"in s&&"mode"in s}function yh(s){return It(s)&&!!csElementshadowRoot.apply(s)&&Wi(csElementshadowRoot.apply(s))}var Ud=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];function Vd(s){return It(s)&&Nt(s.tagName)&&csString.prototype.indexOf.call(s.tagName,"-")>0&&csString.prototype.indexOf.call(s.tagName,":")===-1&&csString.prototype.indexOf.call(s.tagName,'"')===-1&&csString.prototype.indexOf.call(s.tagName,",")===-1&&csArray.prototype.indexOf.call(Ud,csString.prototype.toLocaleLowerCase.call(s.tagName))<0}var jn="detached";function Eh(s){let n=s,t=[n];for(;csNodeparentNode.apply(n)!==null;)n=csNodeparentNode.apply(n),csArray.prototype.push.call(t,n);return Mr(n)&&csArray.prototype.push.call(t,jn),{ancestors:t,selectionRoot:n}}function jd(s){let n=s,t=[n],e=null;for(;csNodeparentNode.apply(n)!==null;)e===null&&mh(n)&&(e=n),csArray.prototype.push.call(t,csNodeparentNode.apply(n)),n=csNodeparentNode.apply(n);return Mr(n)&&csArray.prototype.push.call(t,jn),{firstAnchorParent:e,ancestors:t,selectionRoot:n}}function Mr(s){return As.isValidElement(s)}var di=(()=>{var s,n;return(n=(s=yt.Element)===null||s===void 0?void 0:s.prototype)!==null&&n!==void 0?n:{}})(),Ae=di.matches||di.matchesSelector||di.mozMatchesSelector||di.msMatchesSelector||di.oMatchesSelector||di.webkitMatchesSelector,qc=di.closest,Sh=9;function Hd(s,n){return n?csArray.prototype.some.call(n,t=>Ae.call(s,t)):!1}function Bd(s,n,t){if(s===jn||s.nodeType===Sh)return 0;let e=t.dynamicElementNameRegex,i=!!(e!=null&&e.test(n.localName)),r=va(n),o=0,c=n.previousElementSibling;for(;c;)(va(c)===r||i&&(e!=null&&e.test(c.localName)))&&!Hd(c,t.reliableSelectors)&&(o+=1),c=c.previousElementSibling;return o}function Fd(s,n,t){if(s===jn||s.nodeType===Sh)return 0;let e=0,i=n.previousElementSibling;for(;i;)Ae.call(i,t)&&(e+=1),i=i.previousElementSibling;return e}var $d=[/\d{4}/,/^ember\d+$/],zd="@",oc="data-cs-override-id",Gd="data-cs-dynamic-id";function vh(s,n,t,e){let i=e.dynamicIdRegex||null,r=e.dynamicElementNameRegex,o=va(s);if(r&&r.test(s.localName)&&(o=csString.prototype.replace.call(o,r,`$1${zd}`)),Yd(s,t)){let w=ac(s);return{hasUniqueIdentifier:!0,elementSelector:`${o}[${oc}="${w}"]`}}let c=ep(s,t,e);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:`${o}#UA[${c.attributeName}="${c.attributeValue}"]`};let u=qd(s,t,e);if(u)return{hasUniqueIdentifier:!0,elementSelector:`${o}#UCS[${u}]`};let p=Ad(s);if(Kd(s,p,t,i))return{hasUniqueIdentifier:!0,elementSelector:`${o}#${p}`};let v=Wd(s,e);if(v){let w=Fd(n,s,v);return{hasUniqueIdentifier:!1,elementSelector:`${o}[${v}](${w})`}}let f=Bd(n,s,e);return{hasUniqueIdentifier:!1,elementSelector:`${o}:eq(${f})`}}function qd(s,n,t){if(t.uniqueCssSelectors){for(let e of t.uniqueCssSelectors)if(Ae.call(s,e)&&tp(e,n))return e}}function Wd(s,n){if(n.reliableSelectors){for(let t of n.reliableSelectors)if(Ae.call(s,t))return t}}function Yd(s,n){let t=ac(s);return t&&csString.prototype.match.call(t,/^[\w-]+$/)&&cc(oc,t,n)}function Xd(s){return ac(s)!==null}function ac(s){return s.getAttribute(oc)}function Kd(s,n,t,e){return n&&!Xd(s)&&!Jd(s,n,e)&&Zd(n,t)}function Jd(s,n,t){return s.hasAttribute(Gd)||Qd(n,t)}function Qd(s,n){let t=!1;return s&&n&&(t=n.test(s)),s&&(csArray.prototype.some.call($d,e=>e.test(s))||t)}function Zd(s,n){return s&&cc("id",s,n)}function cc(s,n,t){try{return window.csquerySelectorAll[t.nodeType].call(t,`[${s}="${n}"]`).length===1}catch(e){if(e.name!=="SyntaxError")throw e}return!1}function tp(s,n){try{return window.csquerySelectorAll[n.nodeType].call(n,s).length===1}catch(t){if(t.name!=="SyntaxError")throw t}return!1}function ep(s,n,t){if(!t.uniqueAttributes)return{success:!1};for(let e of t.uniqueAttributes){let i=s.getAttribute(e);if(i!==null&&cc(e,i,n))return{attributeName:e,attributeValue:i,success:!0}}return{success:!1}}var _a=11;function kr(s,n,t){let e=csArray.prototype.shift.call(s);if(s.length===0)return Wc(e,t);let i=e,r=s[0],{elementSelector:o,hasUniqueIdentifier:c}=vh(i,r,n,t);if(!t.fullPath&&c){let p=s[s.length-1];return`${Wc(p,t)}${o}`}let u=kr(s,n,t);return`${u?`${u}>`:""}${o}`}function Wc(s,n){if(s===jn)return"|detached|";if(s.host){let{ancestors:t,selectionRoot:e}=Eh(s.host);return`${kr(t,e,n)}|shadow-root|`}return s.nodeType===_a?"|fragment|":""}var _h=(()=>{class s{constructor(t){this.options=t,this.done=!1,this.path=null}getPath(){if(this.path===null)throw new Error("getPath was called before serializeElement");return this.path}isDone(){return this.done}}return s})(),sp=(()=>{class s extends _h{constructor(){super(...arguments),this.wo=!1,this.bo=!1,this.Ec=!1}Ey(t,e){return this.wo&&!(e===null&&Mr(t))&&t.nodeType!==_a&&!t.host}Sy(t){return!t.localName}serializeElement(t,e,i){var r;if((r=this.path)!==null&&r!==void 0||(this.path=""),this.Ey(t,e))return;let o=!1;e===null&&Mr(t)&&(o=!0,this.done=!0);let c=this.bo&&!this.options.fullPath?"":">",u=!!t.host;if(u&&this.path&&(this.path="|shadow-root|"+c+this.path,this.Ec=!0,this.wo=!1,this.bo=!1),!u&&e===null&&t.nodeType===_a){this.path="|fragment|"+c+this.path,this.done=!0;return}if(this.Sy(t))return;let p=e!=null?e:"detached",{elementSelector:v,hasUniqueIdentifier:f}=vh(t,p,i,this.options);f&&(this.bo=!0,this.wo=!this.options.fullPath);let w=`${o?`|detached|${c}`:""}${this.wo&&!f?"":v}`,R=!f&&this.bo&&!this.options.fullPath?"":this.path&&!this.Ec?">":"";this.Ec=!1,this.path=`${w}${R}${this.path}`}}return s})();function Te(s,n=de.SHOW_ALL){let t=n|de.SHOW_ELEMENT,e=[document.createTreeWalker(s,t,null,!1)],i=Yc(s);i&&csArray.prototype.push.call(e,document.createTreeWalker(i,t,null,!1));let r=null;return{root:s,nextNode(){if(i){let o=i;return i=null,o}for(;e.length>0;){if(r){let p=r;return r=null,p}let c=e[e.length-1].nextNode();if(!c){csArray.prototype.pop.call(e);continue}let u=Yc(c);if(n&de.SHOW_DOCUMENT_FRAGMENT&&u&&(r=u),u&&csArray.prototype.push.call(e,document.createTreeWalker(u,t,null,!1)),(Fo[c.nodeType]&n)!==0)return c}return null},visitAll(o){Fo[s.nodeType]&n&&o(s);let c=this.nextNode();for(;c;){if((Fo[c.nodeType]&n)===0){c=this.nextNode();continue}o(c),c=this.nextNode()}},find(o){let c;return this.visitAll(u=>o(u)&&(c=u)),c},collectAll(o){let c=[];return this.visitAll(u=>csArray.prototype.push.call(c,o?o(u):u)),c}}}function Yc(s){return s&&yh(s)?s.shadowRoot:null}var Bo=(()=>{var s;return(s=yt.Node)!==null&&s!==void 0?s:{}})(),de=(()=>{var s;return(s=yt.NodeFilter)!==null&&s!==void 0?s:{}})(),Fo={2:de.SHOW_ATTRIBUTE,4:de.SHOW_CDATA_SECTION,8:de.SHOW_COMMENT,11:de.SHOW_DOCUMENT_FRAGMENT,9:de.SHOW_DOCUMENT,10:de.SHOW_DOCUMENT_TYPE,1:de.SHOW_ELEMENT,[Bo.ENTITY_NODE]:de.SHOW_ENTITY,[Bo.ENTITY_REFERENCE_NODE]:de.SHOW_ENTITY_REFERENCE,[Bo.NOTATION_NODE]:de.SHOW_NOTATION,7:de.SHOW_PROCESSING_INSTRUCTION,3:de.SHOW_TEXT},wh=!1,wa=5;function ip(s=5){wh=Ct.isPerfLoggingActive(),wa=s}function vi(s,n){return function(){if(!wh)return s.apply(this,arguments);let t=F.elapsed(),e=s.apply(this,arguments);if(e!=null&&e.then)e.then(()=>{let i=F.elapsed()-t;i>=wa&&ot.counters.methodPerformance.add(n,i)});else{let i=F.elapsed()-t;i>=wa&&ot.counters.methodPerformance.add(n,i)}return e}}var te=function(s){return function(n,t,e){let i=e.value;e.value=vi(i,s)}},fi=(()=>{let s;return function(n){function t(){return!!Element.prototype.attachShadow}n.isSupported=t;function e(r){return r&&yh(r)?r.shadowRoot:null}n.getShadowRoot=e;function i(r){return Te(r,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll(o=>o.host)}n.getAllShadowHosts=vi(i,"getAllShadowHosts")}(s||(s={})),s})(),Yt=(()=>{let s;return function(n){function t(){let f=[i()];return document.documentElement&&csArray.prototype.push.call(f,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(f,document.body.scrollHeight,document.body.offsetHeight),Math.max(...f)}n.documentHeight=t;function e(){return document.documentElement.scrollWidth}n.documentWidth=e;function i(){return window.innerHeight}n.windowHeight=i;function r(){return window.innerWidth}n.windowWidth=r;function o(){let f=window.csScreen.width;return zi(f)&&f>0?f:window.screen.width}n.screenWidth=o;function c(){let f=window.csScreen.height;return zi(f)&&f>0?f:window.screen.height}n.screenHeight=c;function u(){return window.pageXOffset}n.windowOffsetX=u;function p(){return window.pageYOffset}n.windowOffsetY=p;function v(){return{dw:`${e()}`,dh:`${t()}`,ww:`${r()}`,wh:`${i()}`,sw:`${o()}`,sh:`${c()}`}}n.getRequestParameters=v}(s||(s={})),s})(),$o=(()=>{var s;return(s=yt.Node)!==null&&s!==void 0?s:Object})(),At=(()=>{let s;return function(n){let t="isConnected"in $o.prototype?N=>N.isConnected:N=>!N.ownerDocument||!(N.ownerDocument.compareDocumentPosition(N)&N.DOCUMENT_POSITION_DISCONNECTED);function e(N,z){for(let Y=N;Y;Y=csNodenextSibling.apply(Y))z(N)}n.forEachChild=e;function i(N){return t(N)}n.isConnected=i;function r(N,z){let Y=[];for(let st of u(N,z))csArray.prototype.push.call(Y,st);return Y}n.getAncestors=r;let o=(N,z)=>{var Y;return(Y=csNodeparentNode.apply(N))!==null&&Y!==void 0?Y:z&&Wi(N)?N.host:null};function c(N,z,Y=!1){let st=N;for(;st;){if(z(st))return st;let Pt=o(st,Y);if(Pt&&Pt!==st)st=Pt;else break}return null}n.findAncestor=c;function*u(N,z=!1){let Y=N;for(;Y;){yield Y;let st=o(Y,z);if(st&&st!==Y)Y=st;else break}}n.walkUp=u;function p(N,z){if(N===z||z.contains(N))return!0;let Y=n.getParentElement(N);return Y&&Y!==N?p(Y,z):!1}n.isDescendantOf=p;function v(N){var z;return N.parentElement?N.parentElement:n.getRootNode(N)?(z=n.getRootNode(N))===null||z===void 0?void 0:z.host:null}n.getParentElement=v;function f(N,z=document){let Y=qi(window.csquerySelectorAll[z.nodeType].call(z,N)),st=fi.getAllShadowHosts(z);for(let Pt of st){let $t=fi.getShadowRoot(Pt);if(!$t)continue;let ae=qi(window.csquerySelectorAll[$t.nodeType].call($t,N));csArray.prototype.push.call(Y,...ae)}return Y}n.findAllElements=f,n.getRootNode=(()=>{if("getRootNode"in $o.prototype)return(Y,st)=>Y.getRootNode(st);function N(Y){let st=z(Y);return Wi(st)?N(st.host):st}function z(Y){return csNodeparentNode.apply(Y)!=null?z(csNodeparentNode.apply(Y)):Y}return(Y,st)=>typeof st=="object"&&!!st.composed?N(Y):z(Y)})();function w(N){return N==="transparent"||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(N)}function _(N){let z=N.getBoundingClientRect();return z.right+Yt.windowOffsetX()<0||z.bottom+Yt.windowOffsetY()<0}function R(N){var z,Y;if(((z=N.checkVisibility)===null||z===void 0?void 0:z.call(N,{checkOpacity:!0,checkVisibilityCSS:!0}))===!1)return!0;if(!N.offsetParent){if(!N.getBoundingClientRect)return Ct.warn(`SUP-11432: Element doesn't have getBoundingClientRect. Node: ${N instanceof $o} Ctor: ${(Y=N==null?void 0:N.constructor)===null||Y===void 0?void 0:Y.name}`),!1;let $t=N.getBoundingClientRect();if($t.width==0&&$t.height==0)return!0}let st=window.getComputedStyle(N);return st?st.display==="none"||st.visibility==="hidden"||st.visibility==="collapse"||st.opacity==="0"||st.filter==="opacity(0)"||st.width==="0px"&&st.height==="0px"||w(st.color):!0}n.isHiddenByCSS=R;function H(N){if(R(N))return!0;let Y=v(N);return Y!=null&&H(Y)}n.areAncestorsHiddenByCSS=H;function U(N){let z=null,Y=N;do if(R(Y))z=Y;else break;while(Y=v(Y));return z}n.getTopAncestorHiddenByCSS=U;function I(N){let z=P(N);return z!==null&&!N.contains(z)&&!z.contains(N)}function P(N){let z=N.getBoundingClientRect(),Y=z.left+.5*z.width,st=z.top+.5*z.height;return q(document,Y,st)}n.getTopElement=P;function $(N){if(!N.getBoundingClientRect)return null;let z=N.getBoundingClientRect(),Y=z.x+z.width/2,st=z.y+z.height/2;return n.getTopElementFromPoint(document,Y,st)}n.getElementOnTop=$;function q(N,z,Y){let st=N.elementFromPoint(z,Y);if(!st)return null;let Pt=fi.getShadowRoot(st);return Pt&&Pt!=n.getRootNode(document.body)&&Pt!==N?q(Pt,z,Y):st}n.getTopElementFromPoint=q;function M(N){return!_(N)&&!R(N)&&!I(N)}n.isVisibleInDocument=M;function Z(N){return R(N)?!1:at(N)}n.isVisibleInViewportInForeground=Z;function at(N){let z=P(N);return z===null?!1:N===z?!0:Ft(N)?N.textContent!==""&&z.contains(N):N.contains(z)}n.isInViewPort=at;function gt(N,z,Y){let st=N.getAttributeNS(z,Y);return st===""?N.hasAttributeNS(z,Y)?st:null:st}n.getAttributeNS=gt;function Vt(N){return!!(N.hasAttribute("tabIndex")||N.getAttribute("contentEditable")==="true"||mh(N)&&N.hasAttribute("href")||(rc(N)||nc(N)||Hr(N)||Pd(N))&&!N.hasAttribute("disabled")||Od(N)||Nd(N))}n.isElementFocusable=Vt;function Ft(N){return N.localName==="span"||N.localName==="a"||N.localName==="b"||N.localName==="i"||N.localName==="button"||N.localName==="input"||N.localName==="label"||N.localName==="cite"||N.localName==="small"||N.localName==="strong"||N.localName==="code"||N.localName==="abbr"||N.localName==="em"||N.localName==="dfn"||N.localName==="time"||N.localName==="output"||N.localName==="object"||N.localName==="sub"}n.isInlineElement=Ft}(s||(s={})),s})(),np=(()=>{class s{constructor(t){this.vy=t}run(t){let e=[...this.vy],i=At.getAncestors(t,!1),r=i[i.length-1];for(;e.length>0&&i.length>0;){let o=csArray.prototype.shift.call(i),c=i[0]||null;if(this._y(e,o,c,r),this.wy(e),e.length===0)break;i.length===0&&o.host&&(i=At.getAncestors(o.host,!1),r=i[i.length-1])}}_y(t,e,i,r){for(let o of t)o.serializeElement(e,i,r)}wy(t){for(let e=0;e<t.length;e++)t[e].isDone()&&(csArray.prototype.splice.call(t,e,1),e--)}}return s})(),rp=(()=>{class s extends _h{serializeElement(t){var e;if((e=this.path)!==null&&e!==void 0||(this.path=""),(t==="detached"||t.localName==="body")&&(this.done=!0,this.path.length>0))return;let i=this.by(t);if(i+=i.length>0?"|":"",this.path.length+i.length>this.options.hierarchyMaxLength){this.done=!0;return}this.path=i+this.path}by(t){if(!t.localName)return"";let e=`@${t.localName};`;return e+=this.Ty(t.id),t.classList&&(e+=this.Ay(csArray.from(t.classList))),t.attributes&&(e+=this.Ry(t)),e}Ty(t){return t?`#${t};`:""}Ay(t){return t.length>0?`.${csArray.prototype.join.call(csArray.prototype.sort.call(t),";.")};`:""}Cy(t,e){var i,r;return((r=(i=this.options).isAttributeSensitive)===null||r===void 0?void 0:r.call(i,t,e))||csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,e)!==-1||Zi(t)&&csString.prototype.indexOf.call(e,"data-")===-1&&e!=="aria-label"||Hr(t)&&e==="value"}Iy(t,e){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(t)||e.length>this.options.attrMaxLength}Py(t){let e={};for(let i of csArray.from(t.attributes))this.Cy(t,i.name)||(e[i.name]=i.value);return e}Ry(t){var e,i;if(!((i=(e=this.options).isNodeSensitive)===null||i===void 0)&&i.call(e,t))return"";let r=Object.entries(this.Py(t));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(r,([o])=>o.length<this.options.attrMaxLength),([o,c])=>this.Iy(o,c)?`[${o}]`:`[${o}=${c}]`)),";")+(r.length>0?";":"")}}return s})(),As=(()=>{let s;return function(n){n.INVALID_ELEMENT="INVALID_ELEMENT";function t(c){return!!c&&"localName"in c&&"getAttribute"in c&&"hasAttribute"in c&&"parentNode"in c}n.isValidElement=t;function e(c,u,p={fullPath:!1,dynamicIdRegex:null}){let v=o(c);if(v===document)return{path:"",hierarchy:""};if(!t(v))return{path:n.INVALID_ELEMENT,hierarchy:n.INVALID_ELEMENT};let f=new sp(p),w=new rp(u);return new np([f,w]).run(v),{path:f.getPath(),hierarchy:w.getPath()}}n.getElementPathAndHierarchy=e;function i(c,u={fullPath:!1,dynamicIdRegex:null}){let p=o(c);if(p===document)return"";if(!t(p))return n.INVALID_ELEMENT;let{ancestors:v,selectionRoot:f}=Eh(p);return kr(v,f,u)}n.getElementPath=i;function r(c,u={fullPath:!1,dynamicIdRegex:null}){let p=o(c);if(p===document)return{path:"",firstAnchorParent:null};if(!t(p))return{path:n.INVALID_ELEMENT,firstAnchorParent:null};let{firstAnchorParent:v,ancestors:f,selectionRoot:w}=jd(p);return{path:kr(f,w,u),firstAnchorParent:v}}n.getElementPathAndFirstAnchorParent=r;function o(c){return c&&"jquery"in c&&c.length===1?c[0]:c}}(s||(s={})),s})();window.CSPathComputation=window.CSPathComputation||As;var bh=["t.contentsquare.net","clicktale"],op=s=>{var n;if(typeof s.filename=="string"&&csArray.prototype.some.call(bh,t=>csString.prototype.indexOf.call(s.filename,t)>-1)&&!(csString.prototype.indexOf.call(s.filename,"blob")>-1&&(s.message==null?void 0:csString.prototype.indexOf.call(s.message,"importScripts"))>-1)){let t=new Error(s.message);t.stack=(n=s.error)===null||n===void 0?void 0:n.stack,J.critical(t)}};window.addEventListener("error",op);var J=(()=>{class s{constructor(){}static whiteListFilename(t){csArray.prototype.push.call(bh,t)}static setStrategy(t){s.Qi=t}static computeIsActive(t){s.Fe=gi.boolean(t),s.Fe?s.Sc=gi.boolean(10):s.Sc=!1}static isLoggingActive(){return s.Fe}static getStrategy(){return s.Qi}static debug(t,e=""){s.Fe&&this.Qi.send(t,e,Ot.debug)}static warn(t,e=!0,i=""){var r;ot.counters.errors.count("warning"),s.Fe&&e&&this.Qi.send(t,i,Ot.warn),(r=window.UXAnalytics.Console)===null||r===void 0||r.warn(t)}static implementation(t,e=""){ot.counters.errors.count("implementation"),s.Fe&&this.Qi.send(t,e,Ot.implementation)}static error(t,e=""){var i;ot.counters.errors.count("error"),s.Fe&&this.Qi.send(t,e,Ot.error),(i=window.UXAnalytics.Console)===null||i===void 0||i.error(t)}static critical(t,e=""){ot.counters.errors.count("critical"),this.Qi.send(t,e,Ot.critical)}static tryToExecute(t,e){return function(...i){try{let r=e.apply(this,i);return dt(yt.Promise)&&r instanceof yt.Promise?r.then(o=>o,o=>s.error(Cs(o)?o:new Error(o),t)):r}catch(r){try{s.error(Cs(r)?r:new Error(r),t)}catch{}}}}static isPerfLoggingActive(){return s.Sc}}return s.Fe=!1,s.Sc=!1,s})(),ap=function(){"use strict";var s={d:function(i,r){for(var o in r)s.o(r,o)&&!s.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:r[o]})},o:function(i,r){return Object.prototype.hasOwnProperty.call(i,r)}},n={};s.d(n,{H:function(){return t}});var t=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=i.tryCatch,o=i.exception,c=i.scriptDomain,u=i.hjHost,p=i.askUrl,v=i.surveysHost,f=i.surveyImagesHost,w=i.surveyImpressionsEndpoint;window.hj=window.hj||function(){(window.hj.q=window.hj.q||[]).push(arguments)},hj.q=window.hj.q||[],window._hjSettings=window._hjSettings||{},hj.isPreview=!!_hjSettings.preview,hj.settings=hj.isPreview||!window.hjSiteSettings?{}:window.hjSiteSettings,hj.scriptDomain=window.hj.scriptDomain||c||"https://script.hotjar.com/",hj.defaults={environment:"live",host:"in.hotjar.com",insightsHost:"insights.hotjar.com",identifyEndpoint:"https://identify.hotjar.com",surveysHost:"surveys.hotjar.com",surveyImagesHost:"survey-images.hotjar.com",surveyImpressionsEndpoint:"https://surveystats.hotjar.io/hit",askUrl:"https://ask.hotjar.io/"},hj.environment=_hjSettings.environment||hj.defaults.environment,hj.host=u||_hjSettings.host||hj.defaults.host,hj.insightsHost=_hjSettings.insightsHost||hj.defaults.insightsHost,hj.surveysHost=v||_hjSettings.surveysHost||hj.defaults.surveysHost,hj.surveyImagesHost=f||hj.defaults.surveyImagesHost,hj.apiUrlBase="https://"+hj.host+"/api/v1",hj.insightsHost=_hjSettings.insightsHost||hj.defaults.insightsHost,hj.identifyEndpoint=_hjSettings.identifyEndpoint||hj.defaults.identifyEndpoint,hj.askUrl=_hjSettings.askUrl||p||hj.defaults.askUrl,hj.surveyImpressionsEndpoint=w||_hjSettings.surveyImpressionsEndpoint||hj.defaults.surveyImpressionsEndpoint,hj.userDeviceType=null,hj.tryCatch=r||window.hj.tryCatch;var _=o&&{log:o};hj.exceptions=_||window.hj.exceptions},e=n.H;return{n:e}}(),cp=ap.n,lp="https://script.hj.contentsquare.net/",hp="https://ask.hj.contentsquare.net/",up="in.hj.contentsquare.net",dp="surveystats.hj.contentsquare.net",pp="survey-images.hj.contentsquare.net",fp="https://surveystats.hj.contentsquare.net/hit",gp={tryCatch:(s,n)=>J.tryToExecute(n,s),exception:(s,n)=>J.error(s,n),scriptDomain:lp,hjHost:up,askUrl:hp,surveysHost:dp,surveyImagesHost:pp,surveyImpressionsEndpoint:fp};cp(gp);var mp=/^\d+\.\d+(?:\.\d+)?$/,yp=s=>{if(!mp.test(s))return;let[n,t,e]=csArray.prototype.map.call(csString.prototype.split.call(s,"."),Number);return{major:n,minor:t,patch:!e||Number.isNaN(e)?0:e}},Ep=(s,n)=>s.major!==n.major?s.major-n.major:s.minor!==n.minor?s.minor-n.minor:s.patch-n.patch,Sp=(s,n)=>Ep(s,n)>=0;function xe(s){return Xt(s,"data:")}function vp(s){return Xt(s,"#")}function _p(s){return!!s&&(Qi(s,".css")||Xt(s,"https://fonts.googleapis.com/css"))}var Xc=/\bhttps?:\/\/[^\s<>"')\]]*[^\s<>"'),.;:â€¦\])]/gi;function wp(s){Xc.lastIndex=0;let n,t=0,e=[];for(;(n=Xc.exec(s))!==null;){let i=n.index,r=n.index+n[0].length;if(i>t){let c=csString.prototype.slice.call(s,t,i);csArray.prototype.push.call(e,{content:c,isUrl:!1})}let o=csString.prototype.slice.call(s,i,r);csArray.prototype.push.call(e,{content:o,isUrl:!0}),t=r}if(t<s.length){let i=csString.prototype.slice.call(s,t);csArray.prototype.push.call(e,{content:i,isUrl:!1})}return e}var bp=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],Th=s=>{let n=new Set(bp);return csArray.prototype.forEach.call(s,t=>{n.add(t)}),n},Tp=["svg","slot"],Ap=(s,n,t)=>t==="radio"&&s==="input"&&n==="name"||csArray.prototype.indexOf.call(Tp,s)>-1,Ah={href:new Set(["a"]),src:new Set(["iframe"])},Rp=s=>Ah.hasOwnProperty(s),Cp=(s,n,t)=>{var e;return((e=Ah[n])===null||e===void 0?void 0:e.has(s))&&!xe(t)},Ip=(s,n,t)=>(t==="submit"||t==="button")&&s==="input"&&n==="value";function zo(s){return s?Pp(s):null}function Pp(s){try{let n=/^\/(.*)\/([gim]*)$/.exec(s);if(n){let[,t,e]=n;return new csRegExp(`^${t}$`,e)}return new csRegExp(`^${s}$`)}catch{return null}}var Op=1,Np="f553e78fb58e051e51fe8074c4c6e73e",ba=(()=>{let s;return function(n){n[n.Disabled=0]="Disabled",n[n.ButtonAndLinkOnly=1]="ButtonAndLinkOnly",n[n.Enabled=2]="Enabled"}(s||(s={})),s})(),Mp=(()=>{class s{constructor(t){var e,i,r,o,c,u,p,v,f,w,_,R,H,U;this.isChild=!1,this.isSMB=(e=t.isSMB)!==null&&e!==void 0?e:!1,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.settingsFileUri=t.settingsFileUri,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||Qa,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.collectionEnabled=!!(!((o=(i=t.collectionEnabled)!==null&&i!==void 0?i:(r=t.smbConfig)===null||r===void 0?void 0:r.record)!==null&&o!==void 0)||o),this.useSentry=!!((c=t.useSentry)!==null&&c!==void 0?c:!((u=t.smbConfig)===null||u===void 0)&&u.useSentry),this.apiErrors={enabled:(p=t.apiErrorsEnabled)!==null&&p!==void 0?p:0,...t.apiErrors},this.customErrors={enabled:(v=t.customErrorsEnabled)!==null&&v!==void 0?v:0,...t.customErrors},this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=zo(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=zo(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=zo(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.recordingUrlRules=(f=t.recordingUrlRules)!==null&&f!==void 0?f:[],this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex===""&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions={...t.taskSchedulerOptions,enabled:!!t.taskSchedulerOptions.enabled}),this.uxaDomain=t.uxaDomain,this.environment=((w=t.uxaDomain)===null||w===void 0?void 0:w.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc={...t.voc,enabled:!!t.voc.enabled}),this.vocData=t.vocData,t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=(_=t.anonymizeDigits)!==null&&_!==void 0?_:null,this.isHeapPresent=window.heap!==void 0,this.recordTargetingRules=(R=t.recordTargetingRules)!==null&&R!==void 0?R:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=t.emitRecordInfoEvents!=!1,this.collectHierarchy=!!t.collectHierarchy,this.collectSubmit=!!t.collectSubmit,this.collectTargetText=(H=t.collectTargetText)!==null&&H!==void 0?H:ba.Disabled,this.identityEncryptionKey=t.identityEncryptionKey||null,this.tagVerificationDomain=t.tagVerificationDomain,this.tagVerificationEnabled=!!t.tagVerificationEnabled,this.trackingCodeVerified=!!t.trackingCodeVerified,this.quotas=(U=t.quotas)!==null&&U!==void 0?U:null}getTrackerUri(){return`${this.ds()}://${this.trackerDomain}`}getSentryFileUri(){return`${this.ds()}://${this.tagDomain}/uxa/smb/errors.js`}getSentryDSNUri(){return`https://${Np}@${this.loggerDomain}/4508608369131520`}getRecordingUri(){return`${this.ds()}://${this.malkaRecordingDomain}`}getLoggerUri(){return`${this.ds()}://${this.loggerDomain}`}getMetricsUri(){return`${this.ds()}://${this.loggerDomain}/metrics`}getStaticResourceManagerUri(){return`${this.ds()}://${this.staticResourceManagerDomain}`}getVerificationEndpoint(){return`${this.ds()}://${this.tagVerificationDomain}`}getSettingsFileUri(){return this.settingsFileUri?this.settingsFileUri:`${this.ds()}://${this.dynamicConfDomain}/${this.projectId}.json`}isQuotaEnabled(){return this.isSMB||this.quotas!==null}getPaProxyDomainUri(){return`${this.ds()}://${this.paProxyDomainUri}`}ds(){return this.useHttps?"https":"http"}isProjectActive(){return this.status===Op}processOptionOverrides(t){t&&t.forEach&&t.forEach(([e,...i])=>{if(e==="setOption"){let[r,o]=i;this.Oy(r,o)}})}Oy(t,e){t==="trackerDomain"&&(this.trackerDomain=e),t==="loggerDomain"&&(this.loggerDomain=e),t==="malkaRecordingDomain"&&(this.malkaRecordingDomain=e),t==="staticResourceManagerDomain"&&(this.staticResourceManagerDomain=e),t==="minLogLevel"&&(this.minLogLevel=e),t==="useHttps"&&(this.useHttps=!!e),t==="isWebView"&&(this.isWebView=e),t==="dynamicConfDomain"&&(this.dynamicConfDomain=e),t==="paProxyDomainUri"&&(this.paProxyDomainUri=e)}getRequestParameters(){return{pid:`${this.projectId}`}}updateDynamicFields(t,e){t==="emitDebugEvents"&&(this.emitDebugEvents=e),t==="minLogLevel"&&(this.minLogLevel=e)}isCsSideloadingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_sideloads_heap"&&!this.isHeapPresent}isHeapSideloadsCs(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"}isHeapSideloadsCsV5(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"&&this.ud()}isHeapSideloadsStartDataCollection(){if(this.isHeapSideloadsCs()){if(this.ud())return!0;let t=yp(this.getHeapVersion()||"");if(t&&t.major===4&&Sp(t,{major:4,minor:23,patch:5}))return!0}return!1}ud(){var t;return typeof((t=window.heap)===null||t===void 0?void 0:t.getUserId)=="function"}getHeapVersion(){var t,e,i,r,o,c;return typeof((t=window.heap)===null||t===void 0?void 0:t.getConfig)=="function"&&((r=(i=(e=window.heap)===null||e===void 0?void 0:e.getConfig())===null||i===void 0?void 0:i.sdk)===null||r===void 0?void 0:r.version)||((c=(o=window.heap)===null||o===void 0?void 0:o.version)===null||c===void 0?void 0:c.heapJsVersion)||void 0}isCsCrosswritingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_crosswrites_heap"}getHeapStorageLocation(){var t,e;return(e=(t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_storage_location)!==null&&e!==void 0?e:null}getHeapWebAppUri(){return this.getHeapStorageLocation()==="eu-west-1"?"https://eu.heapanalytics.com":"https://heapanalytics.com"}isCollectTargetTextEnabled(){return this.isSMB||this.collectTargetText!==ba.Disabled}isNetworkDetailsEnabled(){return this.performanceTimingOptions?this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation:!1}hasRecordingUrlRules(){var t;return!!(!((t=this.recordingUrlRules)===null||t===void 0)&&t.length)}hasTargetingRules(){var t;return!!(!((t=this.recordTargetingRules)===null||t===void 0)&&t.length)}getHeapEnvId(){return this.heapEnvironment?this.heapEnvironment.env_id:""}}return s})(),kp=(()=>{class s{constructor(t,e){this.To=t,this.dd=e}init(){this.pd=this.To!==this.To.top,this.gd=this.dd.isWebView&&this.To===this.To.top,this.dd.iframesTracking&&this.pd||this.gd?this.md=!1:this.md=!0}isInIframeContext(){return this.pd}isTopWindowTracker(){return this.md}isInWebViewContext(){return this.gd}}return s})();function Kc(){}function Dr(s,n){return csString.prototype.lastIndexOf.call(s,n,0)===0}function Dp(s,n){return csString.prototype.indexOf.call(s,n,s.length-n.length)!==-1}var Go=csSymbol("cachedJson");function xp(s){if(s[Go])return s[Go];if(csArray.isArray(s)){if(s.length===0)return"[]";let n="["+mi(s[0]);for(let t=1;t<s.length;t++)n+=","+mi(s[t]);return n+="]"}return s[Go]=csJSON.stringify(s)}var mi=typeof window.Symbol!="undefined"?xp:csJSON.stringify;function Rh(s,n){return csArray.prototype.reduce.call(Object.keys(s),(t,e)=>(n(s[e])||(t[e]=s[e]),t),{})}var kn=(()=>{let s;return function(n){function t(e){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(e),i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`),"&")}n.toQuery=t}(s||(s={})),s})(),lc=(()=>{class s{constructor(t,e){this.domainUri=t,this.path=e,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}setRequestParametersProviders(...t){this.requestParametersProviders=t}before(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)}after(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)}retrieveParameters(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,t=>t.getRequestParameters()),(t,e)=>({...t,...e})):{}}}return s})(),Yi=(()=>{class s extends lc{constructor(t,e){super(t,e)}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,i=>i());let t=this.retrieveParameters();this.vc(t);let e=kn.toQuery(t);this.Ny(e),csArray.prototype.forEach.call(this.afterRequestCallbacks,i=>i())}Ny(t){let e=new window.Image(1,1);e.onload=Kc,e.onerror=Kc,csHTMLImageElementsrc.call(e,`${this.domainUri}${this.path?`/${this.path}`:""}?${t}`)}vc(t){t.r=csString.prototype.slice.call(`${Math.random()}`,2,8)}}return s})(),Lp=(()=>{class s extends lc{constructor(){super("")}send(){}}return s})(),Up=(()=>{class s{constructor(t,e){this.ps=t,this.My=e}init(){this.fs=new Yi(this.ps.getLoggerUri()),this.fs.setRequestParametersProviders(this,this.My)}send(t){this.Ao=t,this.fs.send()}getRequestParameters(){return{a:this.Ao.app,l:this.Ao.level,m:this.Ao.message,s:this.Ao.stacktrace}}}return s})(),Vp=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,jp=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,Hp="CS_ANONYMIZED_EMAIL",qo="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",Bp=new csRegExp(`(ey${qo}\\.ey${qo}\\.${qo})`,"g"),Fp="CS_ANONYMIZED_JWT",$p=/[0-9]{4}/,zp=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Gp="CS_ANONYMIZED_PII",qp="\u2022",Wp=/\d/g,Yp=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,Xp=/(?:\d{1,3}\.){3}\d{1,3}/,Kp=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,$e=(()=>{let s;return function(n){function t(v){return csString.prototype.replace.call(v,Vp,Hp)}n.replaceEmail=t;function e(v){return csString.prototype.replace.call(v,Bp,Fp)}n.replaceJWT=e;function i(v,f){return csString.prototype.replace.call(v,zp,f)}n.replaceCreditCardNumber=i;function r(v){return csString.prototype.replace.call(v,Wp,qp)}n.replaceDigits=r;function o(v){return Xp.test(v)||Kp.test(v)}n.mayHaveIPAddress=o;function c(v){return Yp.test(v)}n.mayHaveNumberSequence=c;function u(v){return $p.test(v)}n.mayHaveCreditCardNumber=u;function p(v){return jp.test(v)}n.mayHaveEmail=p}(s||(s={})),s})(),Hn=(()=>{class s{hasPII(t,e){let i=this.checkAndAnonymizePII(t,e);return t!==i}checkAndAnonymizePII(t,e=null){let i=this.ky(this._c(t));return e===!0?i=this.Dy(i):e===!1&&(i=this.xy(i)),i}anonymizePII(t){return this._c(t)}anonymizeJwt(t){return $e.replaceJWT(t)}anonymizeFields(t,e){return csArray.prototype.forEach.call(e,i=>{t[i]=this._c(t[i])}),t}_c(t){if($e.mayHaveEmail(t)){let e=$e.replaceEmail(t);return e!==t&&ot.counters.redactedPII.count("email"),e}return t}Dy(t){return $e.replaceDigits(t)}xy(t){return $e.mayHaveNumberSequence(t)?$e.replaceDigits(t):t}ky(t){return $e.mayHaveCreditCardNumber(t)?$e.replaceCreditCardNumber(t,(e,i,r,o,c)=>{if(csString.prototype.indexOf.call(r,"*")===-1){let p=o.length?csArray.prototype.join.call(csString.prototype.split.call(r,o),""):r;if(!this.Ly(p))return e;ot.counters.redactedPII.count("cc")}else ot.counters.redactedPII.count("cc-partial");return`${i}${Gp}${c}`}):t}Ly(t){let e=parseInt(t[t.length-1]),i=0;for(let r=t.length-2;r>=0;r--){let o=parseInt(t[r]);r%2===0&&(o*=2),i+=Math.floor(o/10)+o%10}return 10-i%10===e}}return s})(),Ch="15.140.1";function hc(){return{v:Ch}}var Jp=(()=>{class s{constructor(t,e){this.f=t,this.N=e}getRequestParameters(){return{d:`${F.now()}`,p:this.N.anonymizePII(window.location.href),...this.f.getRequestParameters(),...hc()}}}return s})(),Qp="uxa",Jc=5,Zp="No stacktrace",Ih="snippet-",Ph="implementation-snippet-",Qc=(()=>{let s;return function(n){n.IMPLEMENTATION="implementation",n.DYNAMIC="dynamic"}(s||(s={})),s})(),tf=(()=>{class s{constructor(t,e,i){this.gs=e,this.N=new Hn,this.yd=jo[Ot.warn],this.yd=jo[t.minLogLevel||Ot.warn],this.fs=i||new Up(t,new Jp(t,this.N)),this.Ed={[Ot.debug]:[],[Ot.warn]:[],[Ot.implementation]:[],[Ot.error]:[],[Ot.critical]:[]},this.Ro={implementation:{},dynamic:{}},this.fs.init()}send(t,e="",i=Ot.warn){if(!this.Uy(i,e))return;csArray.prototype.push.call(this.Ed[i],e||"");let r={message:this.Vy(t,e),stacktrace:this.jy(t),app:Qp,level:i};this.fs.send(r)}Vy(t,e){let i=Cs(t)?this.N.anonymizePII(t.message||t.toString()):t;return e&&(i+=` ErrorCode: ${e}`),i}jy(t){return Cs(t)?`${t.stack||Zp} ${this.Xn()}`:this.Xn()}Xn(){let t=this.gs.getVisitorService(),e=t==null?void 0:t.getVisitor();if(!e)return"No context";let i=this.gs.getSessionService(),r=i&&i.getSession(),o={userId:e.id,sessionNumber:e.visitsCount,pageNumber:r&&r.pageNumber};return csJSON.stringify(o)}Uy(t,e){if(jo[t]<this.yd)return!1;if((e==null?void 0:csString.prototype.indexOf.call(e,Ph,0))===0)return this.Sd(e,Qc.IMPLEMENTATION);if((e==null?void 0:csString.prototype.indexOf.call(e,Ih,0))===0)return this.Sd(e,Qc.DYNAMIC);let i=this.Ed[t];return i.length>=Jc?!1:!(e&&csArray.prototype.some.call(i,r=>r===e))}Sd(t,e){return t in this.Ro[e]?this.Ro[e][t]>=Jc?!1:(this.Ro[e][t]+=1,!0):(this.Ro[e][t]=1,!0)}}return s})(),ie=!Ln&&document.createElement("a"),ef=/(:443|:80)$/;function Ze(s){return ie?(ie.href=s,ie.href):""}function sf(s,n){return new csURL(s,n).href}function nf(s,n){return csArray.prototype.some.call(n,t=>Qi(s,`.${t}`)||s===t||t==="")}function rf(s){return s[0]==="/"?s:`/${s}`}function Zc(s){return csString.prototype.replace.call(s,ef,"")}function Oh(s){return!ie||!Xt(s,"http://")&&!Xt(s,"https://")?null:(ie.href=s,{hash:ie.hash,host:Zc(ie.host),hostname:ie.hostname,href:ie.href,origin:ie.origin?ie.origin:Zc(`${ie.protocol}//${ie.host}`),pathname:rf(ie.pathname),port:ie.port,protocol:ie.protocol,search:ie.search})}var se=(()=>{let s;return function(n){n.Discovery="discovery",n.Stop="stop",n.RecordingContext="recordingContext",n.SensitiveStatus="sensitiveStatus",n.RecordingEvent="recordingEvent",n.EndOfBufferedMessages="endOfBufferedMessages",n.ChildLogMessage="childLogMessage",n.AnalysisEvent="analysisEvent",n.JavascriptError="javascriptError",n.ApiError="apiError",n.Assets="assets",n.DetailedApiError="detailedApiError",n.EmerchandisingMessage="emerchandisingMessage",n.Commands="commands",n.IntegrationCallback="integrationCallback",n.StaticResource="staticResource",n.TrackingContextResultMessage="trackingContextResultMessage",n.TrackingContextRequestMessage="trackingContextRequestMessage",n.CustomError="customError"}(s||(s={})),s})();var of=(()=>{class s{setContext(t,e){this.O=t,this.R=e}getVisitorService(){return this.O}getSessionService(){return this.R}}return s})(),Ta=!1;function af(){Ta=!0}function Rt(){return(s,n,t)=>{if(t){let e=t.value;t.value=function(i,r){(i==null?void 0:i.isTrusted)===!1&&Ta||e.call(this,i,r)}}else{let e=s[n];if(typeof e!="function")return;s[n]=function(i,...r){(i==null?void 0:i.isTrusted)===!1&&Ta||e.call(this,i,r)}}}}function cf(s){if(document!=null&&document.prerendering){document.addEventListener("prerenderingchange",s,{once:!0});return}s()}function tt(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(r=(i<3?o(r):i>3?o(n,t,r):o(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}function lf(){let s=new MutationObserver(n=>{n.forEach(t=>{ft(t.removedNodes,e=>{e instanceof HTMLElement&&e.tagName==="CS-NATIVE-FRAME-HOLDER"&&(ot.counters.pureWindowState.count("iframe-deletion"),Ct.warn("<cs-native-frame-holder> deleted"),s.disconnect())})})});s.observe(document.body,{childList:!0})}function tl(s){return typeof s!="function"?!1:s.toString().indexOf("[native code]")!==-1}function hf(){(!tl(MutationObserver)||!tl(MutationObserver.prototype.observe))&&ot.counters.patchedNativeFunctions.count("MutationObserver")}function uf(){try{window.CSPureWindow&&lf(),hf()}catch{}}var jt=(()=>{let s;return function(n){n.CURRENT_DOMAIN="CURRENT_DOMAIN";function t(u){let v=new csRegExp(`(^|;)[ ]*${u}=([^;]*)`).exec(document.cookie);return v?decodeURIComponent(v[2]):null}n.get=t;function e(u,p,v,f,w,_){let R=encodeURIComponent(`${p}`),H=v===n.CURRENT_DOMAIN?void 0:v,U=i(f),I=U?`;expires=${U.toUTCString()}`:"",P=";path=/",$=Nt(H)?`;domain=${H}`:"",q=`${u}=${R}${I}${P}${$}`;return dt(w)&&w!==qs.NotSet&&(q=`${q};SameSite=${w}`),dt(_)&&_===Ke.Yes&&(q=`${q};Secure`),document.cookie=q,!0}n.set=e;function i(u){return Ht(u)?new csDate(F.now()+u):u}n.toExpireDate=i;function r(u,p){t(u)&&e(u,"",p,new csDate(0)),t(u)&&e(u,"",p,new csDate(0),qs.None,Ke.Yes)}n.remove=r;function o(){return document.cookie.length>0}n.isCookiePresent=o;function c(u,p){let v="_cs_root-domain",f=t(v);if(f!==null&&f!=="1")return f;let w=csString.prototype.split.call(window.location.hostname,"."),_=csArray.prototype.pop.call(w);for(;w.length&&(f===null||f==="1");)_=csArray.prototype.join.call([csArray.prototype.pop.call(w),_],"."),e(v,_,_,void 0,u,p),f=t(v);return r(v,_),_}n.getRootDomain=c}(s||(s={})),s})(),df=(()=>{let s;return function(n){function t(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}n.browserIsSafariV12=t}(s||(s={})),s})(),qs=(()=>{let s;return function(n){n.None="None",n.Lax="Lax",n.NotSet="X"}(s||(s={})),s})(),Ke=(()=>{let s;return function(n){n[n.Yes=1]="Yes",n[n.No=0]="No"}(s||(s={})),s})(),Fr=(()=>{class s{constructor(t,e,i){this.f=t,this.w=e,this.yi=i,this.wc=!1,this.vd=qs.NotSet,this.bc=Ke.No}getSameSiteFlag(){return this.vd}getSecureFlag(){return this.bc}getDomain(){return this.Tc}getRootDomain(){return this._d}init(){if(this.f.cookielessTrackingEnabled)return;let t=this.Hy(),e=this.By();this.wc=this.Fy(t,e),this.wc?(this.vd=t,this.bc=e):this.f.secureCookiesEnabled&&this.w.getUrlProtocol()==="https:"&&(this.bc=Ke.Yes),this._d=this.$y(),this.Tc=this.zy(this._d)}Fy(t,e){return df.browserIsSafariV12()?!1:(jt.set(s.COOKIE_TEST_FOR_SAME_SITE,"Test same site",s.CURRENT_DOMAIN,void 0,t,e),jt.get(s.COOKIE_TEST_FOR_SAME_SITE)?(jt.remove(s.COOKIE_TEST_FOR_SAME_SITE,s.CURRENT_DOMAIN),!0):!1)}Hy(){return this.w.getUrlProtocol()==="http:"?qs.Lax:this.yi.isSameSiteNoneSecureNeeded()||this.f.crossDomainTracking?qs.None:qs.Lax}By(){return this.w.getUrlProtocol()==="http:"?Ke.No:this.f.secureCookiesEnabled||this.f.crossDomainTracking||this.yi.isSameSiteNoneSecureNeeded()?Ke.Yes:Ke.No}isSameSiteSupported(){return this.wc}set(t,e,i,r){let o=jt.toExpireDate(i),c=r?Ke.Yes:this.getSecureFlag();jt.set(t,e,this.Tc,o,this.getSameSiteFlag(),c)}get(t){let i=new csRegExp(`(^|;)[ ]*${t}=([^;]*)`).exec(document.cookie);return i?decodeURIComponent(i[2]):null}delete(t,e){let i=e||this.Tc;jt.remove(t,i)}$y(){let t=this.yi.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),e=t?qs.None:void 0,i=t?Ke.Yes:void 0;return jt.getRootDomain(e,i)}zy(t){return this.f.allowSubdomains?t:jt.CURRENT_DOMAIN}}return s.CURRENT_DOMAIN="CURRENT_DOMAIN",s.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",s})(),Li="_cs_t",el="1",pf=(()=>{class s{constructor(t,e){this.Tt=t,this.f=e,this.Co=!1,this.Io=!1}init(){if(!this.f.cookielessTrackingEnabled&&this.Tt.isTopWindowTracker()&&"cookie"in document){if(!this.Tt.isInIframeContext()&&jt.isCookiePresent()){this.Co=!0,this.Io=!1;return}if(jt.set(Li,el,jt.CURRENT_DOMAIN),jt.get(Li)!==null){this.Co=!0,this.Io=!1,jt.remove(Li,jt.CURRENT_DOMAIN);return}jt.set(Li,el,jt.CURRENT_DOMAIN,void 0,qs.None,Ke.Yes),jt.get(Li)!==null&&(this.Co=!0,this.Io=!0,jt.remove(Li,jt.CURRENT_DOMAIN))}}areCookiesEnabled(){return this.Co}isSameSiteNoneSecureNeeded(){return this.Io}}return s})();function ff(){let s="CSSessionStorageTest";try{return sessionStorage.setItem(s,s),sessionStorage.getItem(s)!==s?!1:(sessionStorage.removeItem(s),!0)}catch{return!1}}var gf=(()=>{class s{constructor(t,e){this.f=t,this.yi=e}canTrack(){return this.f.isProjectActive()&&this.Gy()&&this.wd()&&this.qy()}canTrackInChild(){return this.f.isProjectActive()&&this.Wy()&&(this.wd()||this.Yy())}qy(){return this.f.cookielessTrackingEnabled?ff():this.yi.areCookiesEnabled()}wd(){return nf(window.location.hostname,this.f.hostnames)}Gy(){return!this.bd()&&this.Xy()}Wy(){return!this.bd()&&this.Ky()}Yy(){return window.location.protocol==="about:"&&window.location.hostname===""}bd(){return"visibilityState"in document&&document.visibilityState==="prerender"}Xy(){return this.Td()&&this.Jy()}Ky(){return this.Td()}Jy(){try{return!!window.localStorage}catch{return!1}}Td(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window}}return s})(),mf=(()=>{class s{constructor(t,e){this.Ac=!1,this.Ad=new Map,this.Rd=new Map,this.Cd=new Map,this.Id="CS_WORKER_SIGNATURE";let i=`
    const algorithm = ${t.algorithm};
    const compressor = (${t.getCompressorSourceCode()})();
    (()=>{"use strict";function e(e,t,r,s){return new(r||(r=Promise))((function(o,a){function i(e){try{c(s.next(e))}catch(e){a(e)}}function n(e){try{c(s.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}c((s=s.apply(e,t||[])).next())}))}var t,r;Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.UNCOMPRESSED="0",e.GZIP="2"}(t||(t={})),function(e){e.debug="debug",e.warn="warn",e.implementation="implementation",e.error="error",e.critical="critical"}(r||(r={})),r.debug,r.warn,r.implementation,r.error,r.critical;let s={debug(...e){},warn(...e){},implementation(...e){},error(...e){},critical(...e){},isPerfLoggingActive:()=>!1};class o{constructor(e){var t;this.queryParams={},this.headers={},this.handleRecoveredRequests=e=>{for(const t of e){const{metadata:e,events:r}=t;this.send(r,e)}},this.endpoint=e.endpoint,this.compressionOpts=e.compressionOpts,this.recoveryStorage=e.recoveryStorage,this.mandatoryParameters=null!==(t=e.mandatoryParameters)&&void 0!==t?t:[],this.contentType=e.contentType,this.worker=!!e.worker,this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests)}setQueryParams(e){Object.keys(e).forEach((t=>{this.queryParams[t]=e[t]}))}removeQueryParams(e){e?e.forEach((e=>{delete this.queryParams[e]})):this.queryParams={}}send(e,r){const o=r||Object.assign({},this.queryParams),a=!("ct"in o),i="application/json"===this.contentType||"string"!=typeof e&&!this.isArrayBuffer(e);"ct"in o||(this.compressionOpts&&a?o.ct=this.compressionOpts.compressionType:o.ct=t.UNCOMPRESSED);const n=i?JSON.stringify(e):e,c=Object.keys(o).map((e=>\`\${encodeURIComponent(e)}=\${encodeURIComponent(o[e])}\`)).join("&"),h=\`\${this.endpoint}?\${c}\`;!function(e,t){const r=e.length;for(let s=0;s<r;s++)if(t(e[s],s))return!0;return!1}(this.mandatoryParameters,(e=>null==o[e]))?this.compressionOpts&&a&&"string"==typeof n?this.compressionOpts.compressor(n,this.compressionOpts.compressionOutputType,(e=>this.doSend(h,o,e))):this.doSend(h,o,n):s.warn(\`[\${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on \${h}\`)}onLoad(e){this.onLoadCallback=e}onError(e){this.onErrorCallback=e}onTimeout(e,t){this.onTimeoutCallback=e,this.timeout=t}abort(){this.abortCurrentXhrCall&&this.abortCurrentXhrCall()}setRequestHeader(e,t){this.headers[e]=t}getQueryParams(){return this.queryParams}isArrayBuffer(e){return e&&void 0!==e.byteLength}doSend(e,t,r){const s=new XMLHttpRequest,o=Object.keys(t).map((e=>\`\${encodeURIComponent(e)}=\${encodeURIComponent(t[e])}\`)).join("&");s.open("POST",e),this.contentType&&s.setRequestHeader("Content-Type",this.contentType),s.onload=()=>{if(this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests),this.onLoadCallback){const e={params:t,responseText:s.responseText,status:s.status};this.onLoadCallback(e)}},s.onerror=()=>{this.recoveryStorage&&this.recoveryStorage.save({key:o,metadata:t,events:r}),this.onErrorCallback&&this.onErrorCallback({params:t})},this.timeout&&this.onTimeoutCallback&&(s.timeout=this.timeout,s.ontimeout=()=>{this.onTimeoutCallback()}),this.abortCurrentXhrCall=()=>s.abort(),Object.keys(this.headers).forEach((e=>{s.setRequestHeader(e,this.headers[e])})),s.send(r)}}class a{constructor(e){this.maxStoredBytes=e,this.storageBytesUsed=0}addString(e){this.storageBytesUsed+=2*e.length}addArrayBuffer(e){this.storageBytesUsed+=e.byteLength}isThresholdReached(){return this.storageBytesUsed>this.maxStoredBytes}reset(){this.storageBytesUsed=0}}class i{constructor(e){this.ramStorage={},this.byteSizeCounter=new a(e)}save({key:e,metadata:t,events:r}){this.byteSizeCounter.isThresholdReached()||(this.byteSizeCounter.addString(e),"string"==typeof r?this.byteSizeCounter.addString(r):this.byteSizeCounter.addArrayBuffer(r),this.byteSizeCounter.isThresholdReached()||(this.ramStorage[e]={metadata:t,events:r}))}recover(e){const t=[];this.getStorageKeys().forEach((e=>{const r=this.ramStorage[e];void 0!==r&&(delete r.metadata.datatype,t.push(r),this.removeItem(e))})),0!==t.length&&(e(t),this.byteSizeCounter.reset())}getStorageKeys(){return Object.keys(this.ramStorage)}removeItem(e){delete this.ramStorage[e]}}var n;!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.READY=3]="READY"}(n||(n={}));class c{constructor(e,t,r){this.storageName=e,this.onOpenError=r,this.cacheState=n.NOT_STARTED,this.toBeSavedBuffer=[],this.recoveryInProgress=0,this.origin=self.origin,this.context="object"==typeof window?"":"worker-",this.byteSizeCounter=new a(t),this.init()}init(){return e(this,void 0,void 0,(function*(){yield this.openCache(),this.cacheState===n.READY?this.flushToBeSavedBuffer():this.onOpenError(this.toBeSavedBuffer)}))}flushToBeSavedBuffer(){this.toBeSavedBuffer.forEach((e=>{this.save(e)})),this.toBeSavedBuffer=[]}save(t){return e(this,void 0,void 0,(function*(){try{if(this.cacheState===n.OPEN_IN_PROGRESS)return void this.toBeSavedBuffer.push(t);if(this.cacheState!==n.READY)return;if(this.byteSizeCounter.isThresholdReached())return;const{key:e,metadata:r,events:s}=t;if(this.byteSizeCounter.addString(e),"string"==typeof s?this.byteSizeCounter.addString(s):this.byteSizeCounter.addArrayBuffer(s),this.byteSizeCounter.isThresholdReached())return;yield this.cache.put(\`\${this.origin}/\${e}\`,new Response(s,{headers:r}))}catch(e){}}))}recover(t){return e(this,void 0,void 0,(function*(){(this.cache||(yield this.openCache(),this.cacheState===n.READY))&&this.doRecover(t)}))}openCache(){return e(this,void 0,void 0,(function*(){try{this.cacheState=n.OPEN_IN_PROGRESS,this.cache=yield self.caches.open(\`\${this.context}\${this.storageName}\`),this.cacheState=n.READY}catch(e){this.cacheState=n.OPEN_FAILED}}))}doRecover(t){return e(this,void 0,void 0,(function*(){try{if(this.recoveryInProgress++,this.recoveryInProgress>1)return;const e=yield this.cache.keys();if(0===e.length)return;const r=(yield this.cache.matchAll()).map((e=>{const t={};e.headers.forEach(((e,r)=>{t[r]=e})),delete t["content-type"];const r=t.datatype;return delete t.datatype,"json"===r||"base64"===r?e.text().then((e=>({metadata:t,events:e}))):e.arrayBuffer().then((e=>({metadata:t,events:e})))})),s=yield Promise.all(r);yield Promise.all(e.map((e=>this.cache.delete(e)))),t(s),this.byteSizeCounter.reset()}catch(e){}finally{this.recoveryInProgress--}}))}}class h{constructor(e){try{this.initializeStorageStrategy(e)}catch(e){this.setRamStorageStrategy()}}initializeStorageStrategy(e){self.caches?this.setCachesStrategy(e):this.setRamStorageStrategy()}save(e){this.storageStrategy.save(e)}recover(e){this.storageStrategy.recover(e)}setCachesStrategy(e){this.storageStrategy=new c(e,h.MAX_SIZE,(e=>{this.setRamStorageStrategy(e)}))}setRamStorageStrategy(e){this.storageStrategy=new i(h.MAX_SIZE),e&&e.forEach((e=>{this.storageStrategy.save(e)}))}}h.MAX_SIZE=16777216,function(){const t="CS_WORKER_SIGNATURE",r=new Map,s=new h("csPersisted");function a(e){var a;if((a=e)&&a.WORKER_SIGNATURE===t)switch(e.type){case"CreatePostRequest":{const{endpoint:a,compressionOutputType:i,useRetry:n,mandatoryParameters:c}=e,h={endpoint:a,mandatoryParameters:c,worker:!0};i&&(h.compressionOpts={compressor,compressionOutputType:i,compressionType:algorithm}),n&&(h.recoveryStorage=s);const d=new o(h);r.set(a,d),d.onLoad((e=>{const r={type:"onLoad",endpoint:a,response:e,WORKER_SIGNATURE:t};self.postMessage(r)})),d.onError((e=>{const r={type:"onError",endpoint:a,response:e,WORKER_SIGNATURE:t};self.postMessage(r)}))}break;case"SetQueryParams":{const{endpoint:t,queryParams:s}=e,o=r.get(t);o&&o.setQueryParams(s)}break;case"RemoveQueryParams":{const{endpoint:t,queryParams:s}=e,o=r.get(t);o&&o.removeQueryParams(s)}break;case"Send":{const{endpoint:t,payload:s,queryParams:o}=e,a=r.get(t);a&&a.send(s,o)}break;case"Abort":{const{endpoint:t}=e,s=r.get(t);s&&s.abort()}break;case"SetHeader":{const{endpoint:t,headerName:s,headerValue:o}=e,a=r.get(t);a&&a.setRequestHeader(s,o)}break;case"SetTimeout":{const{endpoint:s,timeout:o}=e,a=r.get(s);a&&a.onTimeout((()=>{const e={type:"onTimeout",endpoint:s,WORKER_SIGNATURE:t};self.postMessage(e)}),o)}break;default:throw new Error(JSON.stringify(e))}}self.addEventListener("message",(function(t){t.data.getReader?function(t,r){e(this,void 0,void 0,(function*(){const e=t.getReader();for(;;){const{done:t,value:s}=yield e.read();if(t)break;r(s)}}))}(t.data,a):a(t.data)}))}()})();`;try{this.ms=this.Qy(e||i),this.Ac=!0,s.isTransferableStreamSupported()&&(this.Pd=new ReadableStream({start:r=>{this.Rc=r},cancel:()=>{this.Rc=null}}),this.ms.postMessage(this.Pd,[this.Pd]))}catch(r){r.name==="SecurityError"&&ot.counters.cspErrors.count("network-worker"),this.Ac=!1}}postMessage(t){t.WORKER_SIGNATURE=this.Id,this.Rc?this.Rc.enqueue(t):this.ms.postMessage(t)}Qy(t){let e=window.csURL||window.webkitURL,i=window.Blob,r=window.Worker,o=new i([t],{type:"application/javascript"}),c=e.createObjectURL(o);J.whiteListFilename(c);let u=new r(c);return u.onmessage=p=>{let{type:v,endpoint:f,WORKER_SIGNATURE:w}=p.data;if(w===this.Id){if(v==="onLoad"){let{response:_}=p.data,R=this.Ad.get(f);R&&R(_)}else if(v==="onError"){let{response:_}=p.data,R=this.Rd.get(f);R&&R(_)}else if(v==="onTimeout"){let _=this.Cd.get(f);_&&_()}}},u}registerOnLoadCallback(t,e){this.Ad.set(t,e)}registerOnErrorCallback(t,e){this.Rd.set(t,e)}registerOnTimeoutCallback(t,e){this.Cd.set(t,e)}isSupported(){return this.Ac}static isTransferableStreamSupported(){try{let t=new ReadableStream;return structuredClone(t,{transfer:[t]}),!0}catch{return!1}}}return s})(),yf=(()=>{class s{constructor(t){var e;this.Kt={},this.Jt=t.endpoint,this.be=t.networkWorker,this.Zy=t.compressionOutputType,this.tE=t.useRetry,this.be.postMessage({type:"CreatePostRequest",endpoint:this.Jt,compressionOutputType:this.Zy,useRetry:this.tE,mandatoryParameters:(e=t.mandatoryParameters)!==null&&e!==void 0?e:[]})}setQueryParams(t){this.be.postMessage({type:"SetQueryParams",endpoint:this.Jt,queryParams:t}),csArray.prototype.forEach.call(Object.keys(t),e=>{this.Kt[e]=t[e]})}getQueryParams(){return this.Kt}removeQueryParams(t){this.be.postMessage({type:"RemoveQueryParams",endpoint:this.Jt,queryParams:t}),t&&csArray.prototype.forEach.call(t,e=>{delete this.Kt[e]})}send(t,e){this.be.postMessage({type:"Send",endpoint:this.Jt,payload:t,queryParams:e})}abort(){this.be.postMessage({type:"Abort",endpoint:this.Jt})}onLoad(t){this.be.registerOnLoadCallback(this.Jt,t)}onError(t){this.be.registerOnErrorCallback(this.Jt,t)}setRequestHeader(t,e){this.be.postMessage({type:"SetHeader",endpoint:this.Jt,headerName:t,headerValue:e})}onTimeout(t,e){this.be.registerOnTimeoutCallback(this.Jt,t),this.be.postMessage({type:"SetTimeout",endpoint:this.Jt,timeout:e})}}return s})(),$r=(()=>{let s;return function(n){n.UNCOMPRESSED="0",n.GZIP="2"}(s||(s={})),s})(),Nh=(()=>{class s{constructor(t){this.onError=t}}return s})(),Ef=(()=>{class s{constructor(t){var e;this.Kt={},this.Cc={},this.Od=i=>{for(let r of i){let{metadata:o,events:c}=r;this.send(c,o)}},this.Jt=t.endpoint,this.Kn=t.compressionOpts,this.Qt=t.recoveryStorage,this.mandatoryParameters=(e=t.mandatoryParameters)!==null&&e!==void 0?e:[],this.Ic=t.contentType,this.worker=!!t.worker,this.Qt&&this.Qt.recover(this.Od)}setQueryParams(t){Object.keys(t).forEach(e=>{this.Kt[e]=t[e]})}removeQueryParams(t){t?t.forEach(e=>{delete this.Kt[e]}):this.Kt={}}send(t,e){let i=e||{...this.Kt},r=!("ct"in i),o=this.Ic==="application/json"||typeof t!="string"&&!this.eE(t);"ct"in i||(!this.Kn||!r?i.ct=$r.UNCOMPRESSED:i.ct=this.Kn.compressionType);let c=o?JSON.stringify(t):t,u=Object.keys(i).map(v=>`${encodeURIComponent(v)}=${encodeURIComponent(i[v])}`).join("&"),p=`${this.Jt}?${u}`;if(Pr(this.mandatoryParameters,v=>i[v]==null)){Ct.warn(`[${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on ${p}`);return}this.Kn&&r&&typeof c=="string"?this.Kn.compressor(c,this.Kn.compressionOutputType,v=>this.Nd(p,i,v)):this.Nd(p,i,c)}onLoad(t){this.Zi=t}onError(t){this.Jn=t}onTimeout(t,e){this.Ei=t,this.Qn=e}abort(){this.Md&&this.Md()}setRequestHeader(t,e){this.Cc[t]=e}getQueryParams(){return this.Kt}eE(t){return t&&t.byteLength!==void 0}Nd(t,e,i){let r=new XMLHttpRequest,o=Object.keys(e).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(e[c])}`).join("&");r.open("POST",t),this.Ic&&r.setRequestHeader("Content-Type",this.Ic),r.onload=()=>{if(this.Qt&&this.Qt.recover(this.Od),this.Zi){let c={params:e,responseText:r.responseText,status:r.status};this.Zi(c)}},r.onerror=()=>{this.Qt&&this.Qt.save({key:o,metadata:e,events:i}),this.Jn&&this.Jn({params:e})},this.Qn&&this.Ei&&(r.timeout=this.Qn,r.ontimeout=()=>{this.Ei()}),this.Md=()=>r.abort(),Object.keys(this.Cc).forEach(c=>{r.setRequestHeader(c,this.Cc[c])}),r.send(i)}}return s})(),Mh=(()=>{class s{constructor(t){this.Pc=t,this.be=new mf(this.Pc)}create(t,e,i,r,o=[]){if(this.be.isSupported()&&e)return new yf({networkWorker:this.be,endpoint:t,compressionOutputType:i,useRetry:!!r,mandatoryParameters:o});{let c=i?{compressor:this.Pc.compress,compressionOutputType:i,compressionType:this.Pc.algorithm}:void 0;return new Ef({endpoint:t,compressionOpts:c,recoveryStorage:r})}}}return s})(),Sf=(()=>{class s{constructor(t,e,i,r,o){this.O=t,this.R=e,this.Xe=i,this.vt=r,this.f=o}get(){return{exclusion:this.Xe.getAppliedTrackingDraw(),visitor:this.O.getVisitor(),session:this.R.getSession(),cvars:this.vt.getCustomVariablesSession()}}apply(t){t&&(t.exclusion?this.exclude():this.include(t))}exclude(){this.Xe.exclude(this.f),this.O.removeVisitor(),this.R.removeSession(),this.vt.removeCustomVariablesSession()}include(t){this.Xe.removeExclusion(),this.O.setVisitor(t.visitor),t.session?this.R.setSession(t.session):this.R.removeSession(),t.cvars?this.vt.setCustomVariableSession(t.cvars):this.vt.removeCustomVariablesSession()}}return s})(),xr=".",uc="__DOT__",vf=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,kh="x";function _f(s){let[n,t,e,i,r,o,c,u,p]=Rf(s);return{id:n,creationTimestamp:Number(t),visitsCount:Number(e),hitTimestamp:Number(i),lastVisitTimestamp:Number(r),appliedTrackingDraw:Number(o),expires:Number(c),allowSubdomains:u===void 0?void 0:!!Number(u),identityPrint:p===void 0||p===kh?null:p}}function wf(s){var n;return csArray.prototype.join.call(csArray.prototype.map.call(csArray.prototype.map.call([s.id,s.creationTimestamp,s.visitsCount,s.hitTimestamp,s.lastVisitTimestamp,s.appliedTrackingDraw,s.expires,s.allowSubdomains?1:0,(n=s.identityPrint)!==null&&n!==void 0?n:kh],csString),Tf),xr)}function bf(s){return vf.test(s)}function Tf(s){return csString.prototype.replace.call(s,/\./g,uc)}function Af(s){return csString.prototype.replace.call(s,new csRegExp(uc,"g"),xr)}function Rf(s){return csString.prototype.indexOf.call(s,uc)!==-1?csArray.prototype.map.call(csString.prototype.split.call(s,xr),Af):csString.prototype.split.call(s,xr)}var Q=(()=>{let s;return function(n){n.QUOTA_REACHED="X",n.RECORDING_RULES_TARGETING="8",n.ANALYTICS_ONLY_RULES_TARGETING="9",n.ANALYTICS_ONLY="0",n.RECORDING_GLOBAL_SAMPLING="5",n.RECORDING_TEMPORARILY="T",n.RECORDING_URL_SAMPLING="6",n.RECORDING_ETR_SAMPLING="7",n.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",n.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(s||(s={})),s})(),be=(()=>{let s;return function(n){n.ETR_OFF="0",n.ETR_ON="1"}(s||(s={})),s})(),Xs=(()=>{let s;return function(n){n.ETR_LEGACY="0",n.ETR_SESSION="1",n.ETR_PAGE="2"}(s||(s={})),s})(),De=(()=>{let s;return function(n){n.ETR_DISABLED="0",n.ETR_PENDING="1",n.ETR_SAVED_PAGE="2",n.ETR_SAVED_SESSION="3",n.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),Aa=(()=>{let s;return function(n){n.UNNECESSARY="U",n.NOT_EXPRESSED="N",n.WITHDRAWN="W",n.GRANTED="G"}(s||(s={})),s})();var Cf=(()=>{let s;return function(n){n.ETR_DISABLED="0",n.ETR_PENDING="1",n.ETR_SAVED_PAGE="2",n.ETR_SAVED_SESSION="3",n.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),Dh=/^(\d+\.[01356789TBWX](\.[01UNWG])?(\.[39])?)(\.\d+)?$/,xh=".";function If(s){return csArray.prototype.join.call([s.pageNumber,s.collectState,s.replayConsent,s.etrStatus],xh)}function Pf(s){if(!dc(s))return null;let n=Ra(s);return n!==null?Lh(n):null}function Lh(s){var n,t;let[e,i,r,o]=csString.prototype.split.call(s,xh);return{collectState:i,replayConsent:(n=r)!==null&&n!==void 0?n:Aa.UNNECESSARY,etrStatus:(t=o)!==null&&t!==void 0?t:Cf.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}}function dc(s){return Dh.test(s)}function Ra(s){if(!s)return null;let n=(()=>{var t;return(t=csString.prototype.match.call(s,Dh))===null||t===void 0?void 0:t[1]})();return n!=null?n:null}var ws="_cs_ex",sl=2592e6,Of=/^[0-9]+$/,Nf=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.K=i}onCookieToSet(t){this.Si=t}onCookieToRemove(t){this.vi=t}get(){return this.f.cookielessTrackingEnabled?Number(this.K.getItem(ws)):Number(this.M.get(ws))}set(t){var e;this.f.cookielessTrackingEnabled?this.K.setItem(ws,t):(this.M.set(ws,t,sl),(e=this.Si)===null||e===void 0||e.call(this,ws,t,sl))}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(ws):(this.M.delete(ws),(t=this.vi)===null||t===void 0||t.call(this,ws))}static isValidExclusionString(t){return Of.test(t)}}return s})(),Us="_cs_cvars",Mf=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.K=i}onCookieToSet(t){this.Si=t}onCookieToRemove(t){this.vi=t}get(){return this.f.cookielessTrackingEnabled?this.K.getItem(Us):this.M.get(Us)}set(t){var e;this.f.cookielessTrackingEnabled?this.K.setItem(Us,t):(this.M.set(Us,t),(e=this.Si)===null||e===void 0||e.call(this,Us,t))}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(Us):(this.M.delete(Us),(t=this.vi)===null||t===void 0||t.call(this,Us))}static isValidCustomVarString(t){return typeof t=="string"}}return s})();function Is(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(r=(i<3?o(r):i>3?o(n,t,r):o(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}var kf=1,il=csSymbol("nodeIdentifier");function bt(s){let n=s[il];return n!=null?n:s[il]=kf++}var zr=(()=>{class s{constructor(){this.set=new Set}add(t){this.set.add(t),this.set.size===1&&csSetTimeout(()=>{this.set.clear()})}has(t){return this.set.has(t)}del(t){this.set.delete(t)}clear(){this.set.clear()}values(){return Zs(this.set)}get count(){return this.set.size}}return s})(),Df=(()=>{class s extends zr{constructor(t="high"){super(),this.oE=t}add(t){this.set.add(t),this.set.size===1&&ye(()=>{this.set.clear()},this.oE)}}return s})();function Gr(s,n=!1){let t=new zr;return{push(e){t.count===0&&(n?ye:csSetTimeout)(()=>{s(t.values()),t.clear()}),t.add(e)}}}function xf(){let s=new Error,n=s.stack?csArray.prototype.filter.call(csString.prototype.split.call(s.stack,`
`),e=>e!=="Error"&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(e),"promise ")===-1&&csString.prototype.indexOf.call(e,"[native code]")===-1&&csString.prototype.indexOf.call(e,"(<anonymous>)")===-1):[];if(n.length===0)return"";let t=Uf(n);return t===""||(n=Vf(n,t),n.length===0)?"":Uh(n[0])}function Lf(s){return csString.prototype.indexOf.call(s,"@")!==-1}function Uf(s){return s.length>0?Uh(s[0]):""}function Vf(s,n){return csArray.prototype.filter.call(s,t=>csString.prototype.indexOf.call(t,n)===-1)}function Uh(s){let n="",t;Lf(s)?t=new csRegExp("@(.+):(\\d+):(\\d+)$"):t=new csRegExp("\\((.+):(\\d+):(\\d+)\\)");let e=t.exec(s);return e&&(n=e[1]),n}var jf=s=>s;function Hf(s,n,t,e){let i=csSymbol.for("propertyProxy");Object.defineProperty(s,n,{get(){var r;if(this[i])return this[i];let o=(r=t.get)===null||r===void 0?void 0:r.apply(this);return typeof o!="object"?o:(typeof Proxy=="function"?this[i]=new Proxy(o,{get(c,u){let p=Reflect.get(c,u);return typeof p=="function"?p.bind(c):p},set:(c,u,p)=>{let v=c[u],f=Reflect.set(c,u,p);return e.forEach(w=>w(this,p,v,"subproperty")),f}}):this[i]=o,this[i])},set(){var r;let o=arguments,c=this[n],u=(r=t.set)===null||r===void 0?void 0:r.apply(this,o);delete this[i];try{e.forEach(p=>p(this,o[0],c,"property"))}catch(p){Ct.error(p)}return u}})}function Bf(s,n,t){let e=Ff(s,n);if(!e)return null;let i=(r,o,c,u)=>t(r,o,c,u);return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function Ff(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,n);return i?i.configurable?(s[t]=e,Hf(s,n,i,e),e):(Ct.warn(`Cannot intercept non configurable property '${csString(n)}' of object '${s}'`),null):(Ct.warn(`Cannot intercept property '${csString(n)}' because it does not exist directly on the target object '${s}'`),null)}function $f(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=Object.getOwnPropertyDescriptor(s,n);if(!(e!=null&&e.writable)&&!(e!=null&&e.set))return Ct.warn(`Cannot intercept read only function '${csString(n)}' of object '${s}'`),null;let i=new Set;s[t]=i;let r=s[n];if(typeof r=="function"){let o=function(){let c=arguments,u=[];try{u=csArray.prototype.map.call(Zs(i),v=>v(c))}catch(v){Ct.critical(v)}let p=r.apply(this,c);return Si(()=>{let v={result:p,context:this,args:c};csArray.prototype.forEach.call(u,f=>f(v))},es.MonkeyPatch),p};Gf(o,r),s[n]=o}return i}function _e({target:s,methodName:n,hook:t,hookPrepareArgs:e=jf,options:i}){let r=$f(s,n);if(!r)return null;let o=c=>{let u=e(c),p=i!=null&&i.withCallerName?{callerName:xf()}:{};return v=>t({...v,...p,args:u})};return{activate:()=>{r.add(o)},deactivate:()=>{r.delete(o)}}}function zf(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,n);return i?i.configurable?(s[t]=e,Object.defineProperty(s,n,{set(){var r;let o=this[n],c=arguments;return Si(()=>{e.forEach(u=>u(this,c[0],o,"property"))},es.MonkeyPatch),(r=i.set)===null||r===void 0?void 0:r.apply(this,c)}}),e):(Ct.warn(`Cannot intercept read only property '${csString(n)}' of object '${s}'`),null):e}function Lr(s,n,t){let e=zf(s,n);if(!e)return null;let i=(r,o,c)=>t(r,o,c,"property");return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function Gf(s,n){s.prototype=n.prototype,Object.defineProperty(s,"toString",{value:()=>n.toString()})}var tn=(()=>{var s;class n{static aE(e){this.Us.forEach(i=>{e(i,"initial")})}static Zn(e){if(this.D||(this.D=new csMutationObserver(i=>{for(let r of i)r.target.isConnected&&ft(r.addedNodes,this.cE),ft(r.removedNodes,this.lE)})),csArray.prototype.push.call(this.Ae,e),!this.G){this.G=!0,this.D.observe(document,this.tr);for(let i of fi.getAllShadowHosts(document)){let r=csElementshadowRoot.apply(i);this.Us.add(r),this.D.observe(r,this.tr)}this.Dc||(this.Dc=_e({target:Element.prototype,methodName:"attachShadow",hook:i=>this.hE(i.result)&&this.xd(i.result)})),this.Dc.activate()}this.aE(e)}static hE(e){return e.isConnected&&e.ownerDocument===document}static er(e){var i,r;this.Ae=csArray.prototype.filter.call(this.Ae,o=>o!==e),this.Ae.length===0&&(this.Ae=[],this.G=!1,(i=this.D)===null||i===void 0||i.disconnect(),(r=this.Dc)===null||r===void 0||r.deactivate(),this.Us.clear())}constructor(e){this.A=e,this.A=Qs("DocumentShadowRootObserver:callback",(i,r)=>e(i,r))}get shadowRoots(){return Zs(s.Us)}takeRecords(){var e,i;return(i=(e=s.D)===null||e===void 0?void 0:e.takeRecords())!==null&&i!==void 0?i:[]}observe(){fi.isSupported()&&s.Zn(this.A)}disconnect(){fi.isSupported()&&s.er(this.A)}}return s=n,n.Ae=[],n.Us=new Set,n.G=!1,n.tr={childList:!0,subtree:!0},n.xd=t=>{s.Us.has(t)||(s.D.observe(t,s.tr),s.Us.add(t),ft(s.Ae,e=>e(t,"added")))},n.cE=t=>{Te(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(s.xd)},n.lE=t=>{t.isConnected||Te(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(e=>{s.Us.has(e)&&(s.Us.delete(e),ft(s.Ae,i=>i(e,"removed")))})},Et([B()],n.prototype,"observe",null),Et([B()],n.prototype,"disconnect",null),n})(),nl={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},ns=(()=>{var s;class n{static setShadowRootFilter(e){csArray.prototype.push.call(s.shadowRootFilters,e)}static xc(e){if(s.shadowRootFilters.length>0&&Wi(e))for(let i=0;i<s.shadowRootFilters.length;i++){let r=s.shadowRootFilters[i];if(r(e))return}this.observedTargets.add(e),this.mutationObserver.observe(e,nl)}static disconnectShadowRoot(e){this.observedTargets.has(e)&&(this.observedTargets.delete(e),this.isRefreshing||(this.isRefreshing=!0,ye(()=>{this.isRefreshing=!1;let i=this.mutationObserver.takeRecords();i.length&&s.mutationCallback(i),this.mutationObserver.disconnect(),this.observedTargets.forEach(r=>{this.mutationObserver.observe(r,nl)})})))}static observe(e,i){csArray.prototype.push.call(this.callbacks,e),i&&csArray.prototype.push.call(this.shadowRootCallbacks,i),this.started?i&&csArray.prototype.forEach.call(fi.getAllShadowHosts(document),r=>i(csElementshadowRoot.apply(r),"initial")):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.xc(document),this.shadowRootObserver=new tn(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,ft(this.shadowRootObserver.shadowRoots,r=>{this.xc(r)}))}static disconnect(e,i){var r,o;this.callbacks=csArray.prototype.filter.call(this.callbacks,c=>c!==e),i&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,c=>c!==i)),this.callbacks.length===0&&(this.callbacks=[],this.shadowRootCallbacks=[],s.shadowRootFilters=[],(r=this.shadowRootObserver)===null||r===void 0||r.disconnect(),(o=this.mutationObserver)===null||o===void 0||o.disconnect(),this.observedTargets.clear(),this.started=!1)}constructor(e,i){this.A=e,this.Ld=i;let r=Gr(o=>e(o,this),!0);this.A=Qs("DocumentMutationObserver:callback",o=>{ft(o,c=>r.push(c))})}get shadowRoots(){var e,i;return(i=(e=s.shadowRootObserver)===null||e===void 0?void 0:e.shadowRoots)!==null&&i!==void 0?i:[]}takeRecords(){var e;let i=(e=s.mutationObserver)===null||e===void 0?void 0:e.takeRecords(),r=s.shadowRootObserver.takeRecords();return i!=null&&i.length&&r.length?pd(i,r):i!=null?i:r}observe(){s.observe(this.A,this.Ld)}disconnect(){s.disconnect(this.A,this.Ld)}}return s=n,n.callbacks=[],n.shadowRootCallbacks=[],n.started=!1,n.observedTargets=new Set,n.shadowRootFilters=[],n.mutationCallback=t=>{Ut.mutations.count.increase(t.length),csArray.prototype.forEach.call(s.callbacks,e=>e(t,s.mutationObserver))},n.onShadowRoot=(t,e)=>{ft(s.shadowRootCallbacks,i=>i(t,e)),e!=="removed"?s.xc(t):s.disconnectShadowRoot(t)},n.isRefreshing=!1,Et([B()],n.prototype,"observe",null),Et([B()],n.prototype,"disconnect",null),n})(),Wo;function ne(s){if(Wo||(Wo=document.createElement("div")),!(!!s&&L(s)))return Ct.warn(`isValidSelector: invalid selector provided '${s}'`),!1;try{return Ae.call(Wo,s),!0}catch{return Ct.warn(`isValidSelector: invalid selector provided '${s}'`),!1}}function Xi(s,n){if(qc)return qc.call(s,n);let t=s;do{if(Ae.call(t,n))return t;t=t==null?void 0:t.parentElement}while(t!==null&&t.nodeType===1);return null}var qe=(()=>{class s{get selectors(){return this.$e===""?null:this.$e}constructor(t,e={closest:!1}){this.A=t,this.At=e,this.$e="",this.ir=new zr,this.Po=vi(i=>{if(this.$e==="")return;let r=[];for(let o of tc(i,c=>c.addedNodes)){if(!(Ld(o)||this.At.closest&&Or(o)))continue;let c=this.At.closest?this.uE(o,this.$e):this.findMatchingElements(o,this.$e);$c(c,r)}r.length&&this.A(r,"added")},"SelectorObserver.processMutations"),this.dE=(i,r)=>{if(this.$e===""||r!=="added")return;let o=this.findMatchingElements(i,this.$e);o.length&&this.A(o,"added")},this.W=new ns(this.Po,this.dE)}observe(t){this.$e===""?this.W.observe():this.$e+=",",this.$e+=t;let e=this.findMatchingElements(document,t);for(let i of this.W.shadowRoots){let r=this.findMatchingElements(i,t);$c(r,e)}e.length&&(ft(e,i=>{this.ir.add(i)}),this.A(e,"initial"))}processPendingMutations(){this.Po(this.W.takeRecords())}disconnect(){this.W.disconnect(),this.ir.clear(),this.$e=""}uE(t,e){let i=[];if(Or(t)){if(t.parentElement){let r=Xi(t.parentElement,e);r&&csArray.prototype.push.call(i,r)}return csArray.prototype.filter.call(i,r=>this.ir.has(r)===!1)}else{if(Rs(t)){let r=Xi(t,e);if(r)return csArray.prototype.push.call(i,r),csArray.prototype.filter.call(i,o=>this.ir.has(o)===!1)}return this.findMatchingElements(t,e)}}findMatchingElements(t,e){let i=qi(window.csquerySelectorAll[t.nodeType].call(t,e));return It(t)&&Ae.call(t,e)&&csArray.prototype.push.call(i,t),csArray.prototype.filter.call(i,r=>this.ir.has(r)===!1)}}return Et([B()],s.prototype,"observe",null),Et([B()],s.prototype,"disconnect",null),Et([te("SelectorObserver.findMatchingElements")],s.prototype,"findMatchingElements",null),s})();function qf(s){let n=null;return t=>t?n=t:n||(n=s())}var Ui=qf(()=>new WeakMap),wr=(()=>{let s;return function(n){function t(c){return Ui().get(c)}n.getAll=t;function e(c,u){var p;return(p=Ui().get(c))===null||p===void 0?void 0:p[u]}n.get=e;function i(c,u,p){let v=Ui().get(c);v||Ui().set(c,v={}),v[u]=p}n.set=i;function r(c,u){let p=Ui().get(c);p&&delete p[u]}n.remove=r;function o(){Ui(new WeakMap)}n.reset=o}(s||(s={})),s})(),pt=(()=>{let s;return function(n){function t(u,p,v){var f;if(typeof Node!="undefined"&&u instanceof Node)wr.set(u,p,v);else{let w=u;(f=w.props)!==null&&f!==void 0||(w.props={}),w.props[p]=v}}n.setProperty=t;function e(u,p){var v;return typeof Node!="undefined"&&u instanceof Node?wr.get(u,p):(v=u.props)===null||v===void 0?void 0:v[p]}n.getProperty=e;function i(u){return typeof Node!="undefined"&&u instanceof Node?wr.getAll(u):u.props}n.getProperties=i;function r(u,p){let v=null;return o(u,(f,w,_)=>p(f)&&(v=f)&&!!_()),v}n.findDescendant=r;function o(u,p){c(u,void 0,p)}n.traverse=o;function c(u,p,v){let f=!1;if(v(u,p,()=>f=!0),f)return;let _=u.shadowRoot;_&&c(_,u,v);let R=u.children;if(R!=null&&R.length){for(let H of R)if(H&&(c(H,u,v),f))break}}}(s||(s={})),s})(),rs=(()=>{class s{constructor(){this.ce=[],this.isStarted=!1}async produceEvent(t){var e;this.isStarted&&(t.timestamp=(e=t.timestamp)!==null&&e!==void 0?e:F.now(),t.timestamp==null&&(t.timestamp=F.now()),csArray.prototype.forEach.call(this.ce,i=>i(t)))}onStop(){}start(){this.isStarted||(this.isStarted=!0,this.onStart())}stop(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.ce=[])}stopForInactivity(){this.isStarted&&(this.isStarted=!1,this.onStop())}subscribe(t){return csArray.prototype.push.call(this.ce,t),()=>{let e=csArray.prototype.indexOf.call(this.ce,t);csArray.prototype.splice.call(this.ce,e,1)}}}return s})(),pe=(()=>{class s extends Error{constructor(t,e){let i=e?`Command misuse: ${t} - ${e}`:`Command misuse: ${t}`;super(i),this.name="MisusedCommandError"}}return s})(),W=(()=>{let s;return function(n){let t;(function(I){I[I.NotMasked=0]="NotMasked",I[I.Parent=1]="Parent",I[I.Child=2]="Child"})(t=n.MaskedElementState||(n.MaskedElementState={})),n.maskedProp="masked",n.maskedAttributeProp="maskedAttribute";function e(I){return Js(I)&&"Attributes"in I&&"PIISelectors"in I?I.Attributes instanceof Array&&I.PIISelectors instanceof Array:!1}n.isSelectorUserInput=e;function i(I){if(!Js(I)||I===null)throw new pe("setPIISelectors");return"Attributes"in I||(I.Attributes=[]),"PIISelectors"in I||(I.PIISelectors=[]),I}n.sanitizeSelectorUserInput=i;function r(I){var P;return(P=pt.getProperty(I,n.maskedProp))!==null&&P!==void 0?P:{state:t.NotMasked}}n.getMaskedElementDetails=r;function o(I){var P;return(P=pt.getProperty(I,n.maskedAttributeProp))!==null&&P!==void 0?P:{attributes:[]}}n.getMaskedAttributeDetails=o;function c(I){let P=pt.getProperty(I,n.maskedProp);return(P==null?void 0:P.state)===t.Parent}n.isMaskedElement=c;function u(I){let P=pt.getProperty(I,n.maskedProp);return(P==null?void 0:P.state)===t.Child}n.isMaskedElementChild=u;function p(I,P){let $=pt.getProperty(I,n.maskedAttributeProp);return(($==null?void 0:$.attributes)==null?void 0:csArray.prototype.indexOf.call($==null?void 0:$.attributes,P))>-1}n.isMaskedAttribute=p;function v(I,P){pt.setProperty(I,n.maskedProp,P)}n.setMaskedElementProperty=v;function f(I){pt.setProperty(I,n.maskedProp,void 0)}n.unsetMaskedElementProperty=f;function w(I,P){pt.setProperty(I,n.maskedAttributeProp,P)}n.setMaskedAttributeProperty=w;function _(I,P){let $=csArray.prototype.filter.call(I.PIISelectors,Z=>ne(Z));P.elementSelector.length>0&&csArray.prototype.push.call($,...csString.prototype.split.call(P.elementSelector,","));let q=U([...$]),M={elementSelector:csArray.prototype.join.call(q,","),attrSelector:P.attrSelector,attrSelectors:P.attrSelectors};return csArray.prototype.forEach.call(I.Attributes,Z=>{Z!=null&&Z.attrName&&(Z!=null&&Z.selector)&&ne(Z.selector)&&!R(M.attrSelectors,Z)&&csArray.prototype.push.call(M.attrSelectors,Z)}),M.attrSelector=H(M.attrSelectors),M}n.getComputedSelectorSettings=_;function R(I,P){return csArray.prototype.some.call(I,$=>$.selector===P.selector&&$.attrName===P.attrName)}function H(I){let P="";return csArray.prototype.forEach.call(I,$=>{let q=csString.prototype.split.call($.selector,",");csArray.prototype.forEach.call(q,M=>{ne(M)&&(P&&(P+=","),P+=M)})}),P}function U(I){if(I.length<=1)return I;let P=[];for(let $ of I){let q=csString.prototype.split.call($,",");for(let M of q)csArray.prototype.indexOf.call(P,M)===-1&&csArray.prototype.push.call(P,M)}return P}}(s||(s={})),s})(),Vh=(()=>{class s extends rs{constructor(t){super(),this.B=null,this.Oo=null,this.D=null,this.Vs=null,this.Ud=["value","checked","src","data","alt"],this.Mo={state:W.MaskedElementState.Child},this.pE=e=>{for(let i of e){if(W.isMaskedElement(i.target)||W.isMaskedElementChild(i.target))for(let r=0;r<i.addedNodes.length;r+=1){let o=i.addedNodes[r];W.isMaskedElement(o)||W.isMaskedElementChild(o)||It(o)&&this.Vd(o)}for(let r=0;r<i.removedNodes.length;r+=1){let o=i.removedNodes[r];At.isConnected(o)||this.jd(o)}}},this.fE=t}setMaskedElementSettings(t){this.ys=t}startIdentifier(){this.isStarted||(this.isStarted=!0,this.onStart())}stopIdentifier(){return this.isStarted=!1,this.onStop()}start(){}stop(){}onStart(){var t,e,i,r;this.ys||(Ct.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.ys={elementSelector:"",attrSelector:"",attrSelectors:[]});let{elementSelector:o,attrSelector:c,attrSelectors:u}=this.ys;(t=this.Vs)!==null&&t!==void 0||(this.Vs=this.gE()),o.length!==0&&((e=this.B)!==null&&e!==void 0||(this.B=this.mE()),this.B.observe(o)),c.length!==0&&((i=this.Oo)!==null&&i!==void 0||(this.Oo=this.yE(u)),this.Oo.observe(c)),(r=this.D)!==null&&r!==void 0||(this.D=new ns(this.pE,(p,v)=>v==="added"&&this.EE(p))),this.D.observe(),csSetTimeout(this.fE)}onStop(){var t,e,i;this.B&&(this.jd(document),this.B.disconnect()),(t=this.Oo)===null||t===void 0||t.disconnect(),(e=this.D)===null||e===void 0||e.disconnect(),(i=this.Vs)===null||i===void 0||i.disconnect()}gE(){return window.ResizeObserver?new ResizeObserver(t=>{csArray.prototype.forEach.call(t,e=>{this.resizeObserverCallback(e)})}):null}mE(){return new qe(t=>{csArray.prototype.forEach.call(t,e=>{this.SE(e)?this.Vd(e):(this.vE(e),this._E(e))})})}yE(t){return new qe(e=>{csArray.prototype.forEach.call(e,i=>this.wE(i,t))})}resizeObserverCallback(t){let e=t.target.getBoundingClientRect(),i=W.getMaskedElementDetails(t.target);if(i.state!==W.MaskedElementState.Parent||e.width===i.width&&e.height===i.height)return;let r={state:W.MaskedElementState.Parent,width:e.width,height:e.height};W.setMaskedElementProperty(t.target,r),this.produceEvent({type:"ResizeMaskedElement",target:bt(t.target),width:e.width,height:e.height})}_E(t){!this.Vs||!It(t)||Br(t)||this.Vs.observe(t)}SE(t){let e=csNodeparentNode.apply(t);return e?W.isMaskedElement(e)||W.isMaskedElementChild(e):Wi(t)?W.isMaskedElement(t.host)||W.isMaskedElementChild(t.host):!1}EE(t){(W.isMaskedElement(t.host)||W.isMaskedElementChild(t.host))&&W.setMaskedElementProperty(t,this.Mo)}jd(t){Te(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{W.unsetMaskedElementProperty(i)})}vE(t){let e=t.getBoundingClientRect(),i={state:W.MaskedElementState.Parent,width:e.width,height:e.height};W.setMaskedElementProperty(t,i),this.bE(t),Te(t).visitAll(r=>r!=t&&W.setMaskedElementProperty(r,this.Mo))}Vd(t){W.setMaskedElementProperty(t,this.Mo),Te(t).visitAll(e=>e!=t&&W.setMaskedElementProperty(e,this.Mo))}bE(t){var e;let i=(e=pt.getProperty(t,W.maskedAttributeProp))!==null&&e!==void 0?e:{attributes:[]};for(let r=0;r<this.Ud.length;r+=1){let o=this.Ud[r];csArray.prototype.indexOf.call(i.attributes,o)===-1&&csArray.prototype.push.call(i.attributes,o)}i.attributes.length!==0&&W.setMaskedAttributeProperty(t,i)}wE(t,e){var i;let r=(i=pt.getProperty(t,W.maskedAttributeProp))!==null&&i!==void 0?i:{attributes:[]};for(let o=0;o<t.attributes.length;o+=1){let c=t.attributes[o].name;csArray.prototype.indexOf.call(r.attributes,c)===-1&&csArray.prototype.some.call(e,u=>csString.prototype.indexOf.call(u.attrName,c)>-1&&Ae.call(t,u.selector))&&csArray.prototype.push.call(r.attributes,c)}r.attributes.length!==0&&W.setMaskedAttributeProperty(t,r)}}return Is([B()],s.prototype,"resizeObserverCallback",null),s})(),bs=(()=>{let s;return function(n){n.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",n.WHITELISTED_STATUS="whitelisted";function t(r){return pt.getProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP)===n.WHITELISTED_STATUS}n.isWhitelistedElement=t;function e(r){pt.setProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP,n.WHITELISTED_STATUS)}n.whitelistElement=e;function i(r){pt.setProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP,void 0)}n.removeWhitelistElement=i}(s||(s={})),s})(),jh=(()=>{class s{constructor(){this.Lc=0,this.U=!1,this.Hd="data-cs-capture",this.js=t=>{for(let e of t){if(bs.isWhitelistedElement(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let r=e.addedNodes[i];bs.isWhitelistedElement(r)||It(r)&&this.Bd(r)}for(let i=0;i<e.removedNodes.length;i+=1){let r=e.removedNodes[i];At.isConnected(r)||this.Fd(r)}}}}start(){this.Lc++,!this.U&&(this.U=!0,this.TE())}TE(){this.B||(this.B=new qe(e=>ft(e,i=>this.Bd(i))));let t=this.Uc?`[${this.Hd}], ${this.Uc}`:`[${this.Hd}]`;this.B.observe(t),this.D||(this.D=new ns(this.js,(e,i)=>i==="added"&&this.AE(e))),this.D.observe()}stop(){this.U&&(this.Lc--,this.Lc===0&&(this.U=!1,this.RE()))}RE(){this.B&&(this.Fd(document),this.B.disconnect()),this.D&&this.D.disconnect()}setWhitelistedElementsSelector(t,e=!0){if(ne(t))this.Uc=t;else if(e)throw new pe("setCapturedElementsSelector")}getWhitelistedElementsSelector(){return this.Uc}Bd(t){Te(t).visitAll(e=>{bs.whitelistElement(e)})}AE(t){bs.isWhitelistedElement(t.host)&&bs.whitelistElement(t)}Fd(t){Te(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{bs.removeWhitelistElement(i)})}}return s})(),zs=(()=>{let s;return function(n){n.EDITABLE_NODE_PROP="editableNode";function t(r){return pt.getProperty(r,n.EDITABLE_NODE_PROP)===!0}n.isEditableNode=t;function e(r){pt.setProperty(r,n.EDITABLE_NODE_PROP,!0)}n.markEditableNode=e;function i(r){pt.setProperty(r,n.EDITABLE_NODE_PROP,void 0)}n.unmarkEditableNode=i}(s||(s={})),s})(),Wf=(()=>{class s{constructor(){this.B=null,this.D=null,this.U=!1,this.js=t=>{for(let e of t)if(zs.isEditableNode(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let r=e.addedNodes[i];if(!zs.isEditableNode(r)){if(Or(r)||Rd(r)){zs.markEditableNode(r);continue}It(r)&&this.$d(r)}}}}start(){this.U||(this.U=!0,this.B=new qe(t=>ft(t,e=>{this.$d(e)})),this.B.observe("[contenteditable]"),this.D=new ns(this.js,(t,e)=>e==="added"&&this.CE(t)),this.D.observe())}stop(){var t,e;this.U&&(this.U=!1,(t=this.B)===null||t===void 0||t.disconnect(),this.B=null,(e=this.D)===null||e===void 0||e.disconnect(),this.D=null)}$d(t){Te(t).visitAll(e=>{zs.markEditableNode(e)})}CE(t){zs.isEditableNode(t.host)&&zs.markEditableNode(t)}}return s})(),Yf=(()=>{let s;return function(n){n.ENCRYPTED_NODE_PROP="encrypted";function t(r){return pt.getProperty(r,n.ENCRYPTED_NODE_PROP)===!0}n.shouldEncrypt=t;function e(r){pt.setProperty(r,n.ENCRYPTED_NODE_PROP,!0)}n.markEncryptedNode=e;function i(r){pt.setProperty(r,n.ENCRYPTED_NODE_PROP,void 0)}n.unmarkEncryptedNode=i}(s||(s={})),s})();var Xf="spki",rl="RSA-OAEP",Kf="SHA-256",ol="AES-CTR",Jf="SHA-1",al=190,An=(()=>{let s;return function(n){var t;let e=!1,i=null,r,o=typeof TextEncoder!="undefined"?new TextEncoder:null,c;n.crypto=(t=yt.crypto)===null||t===void 0?void 0:t.subtle,n.MAX_DIGEST_INPUT_SIZE=100;function u(){return!e}n.isKeyImported=u;function p(){return i}n.getCryptoKey=p;function v(){var q,M;return((M=(q=yt.self.crypto)===null||q===void 0?void 0:q.subtle)===null||M===void 0?void 0:M.encrypt)!=null&&yt.self.CryptoKey!=null}n.isSupported=v;async function f(q){r=n.crypto.importKey(Xf,ah(q),{name:rl,hash:Kf},!1,["encrypt"]).catch(()=>(e=!0,null)),i=await r,r=void 0,i||Ct.warn(`Fail to import public key '${q}'`)}n.importKey=f;async function w(q){if(!v()||e)return null;await r;let M=Ja(q);M.byteLength>al&&(M=M.slice(0,al));try{let Z=await n.crypto.encrypt({name:rl},i,M);return Lc(Z)}catch{return null}}n.asymmetricEncrypt=w;async function _(q,M){if(!v()||e)return null;let Z={counter:M.initializationVector,name:ol,length:64},at=o.encode(q);try{let gt=await n.crypto.encrypt(Z,M.cryptoKey,at);return Lc(gt)}catch{return null}}n.symmetricEncrypt=_;async function R(q){let M=await H(q);if(!M)throw new Error("Export secret failed");let Z=await w(M);if(!Z)throw new Error("Encrypt secret failed");return Z}n.encryptSecret=R;async function H(q){var M;if(!v())return null;try{return(M=(await n.crypto.exportKey("jwk",q)).k)!==null&&M!==void 0?M:null}catch{return null}}async function U(){if(!v()||e)return null;try{return{cryptoKey:await n.crypto.generateKey({name:ol,length:128},!0,["encrypt","decrypt"]),initializationVector:yt.crypto.getRandomValues(new Uint8Array(16))}}catch{return null}}n.generateSymmetricKey=U;function I(q){c=q}n.setDigestSalt=I;async function P(q){q=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(q)),c&&(q=`${q}:${c}`);let M=o.encode(q);try{let Z=await n.crypto.digest(Jf,M);return ya(Z)}catch{return null}}n.digest=P;function $(){return yt.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}n.generateKeyPair=$}(s||(s={})),s})(),_s=(()=>{let s;return function(n){n.REGEX="regex",n.START="start",n.NOT_START="not-start",n.END="end",n.NOT_END="not-end",n.CONTAIN="contain",n.NOT_CONTAIN="not-contain",n.EXACT="exact",n.NOT_EXACT="not-exact"}(s||(s={})),s})(),Vs=(()=>{let s;return function(n){n.START="start",n.NOT_START="not-start",n.END="end",n.NOT_END="not-end",n.CONTAIN="contain",n.NOT_CONTAIN="not-contain",n.EXACT="exact",n.NOT_EXACT="not-exact"}(s||(s={})),s})(),hi=(()=>{let s;return function(n){n.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",n.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",n.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",n.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(s||(s={})),s})(),qr=(()=>{class s{constructor(){this.jc=[]}setRegexRules(t){this.jc=csArray.prototype.filter.call(csArray.prototype.map.call(t,e=>this.PE(e)),e=>e!==null)}evaluateUrl(t){return csArray.prototype.some.call(this.jc,e=>this.Gd(t,e))}getMatchingRules(t){return csArray.prototype.map.call(csArray.prototype.filter.call(this.jc,e=>this.Gd(t,e)),e=>e.ruleInput)}Gd(t,e){var i,r;let o=this.OE(t,e);return!this.NE(e)||!this.ME(e)?!1:!!(e!=null&&e.notOperator?!(!((i=e.regex)===null||i===void 0)&&i.test(o)):!((r=e.regex)===null||r===void 0)&&r.test(o))}NE(t){let e=new csDate,i=t.startDate&&t.startDate>e,r=t.endDate&&t.endDate<e;return!i&&!r}ME(t){let e=t.samplingRate!==100,i=e&&gi.boolean(t.samplingRate);return!e||i}ko(t){return!Xt(t,"http://")&&!Xt(t,"https://")?`https://${t}`:t}OE(t,e){let i=Oh(this.ko(t));return i?e.ignoreQueryParams&&e.ignoreURIFragments?`${i.origin}${i.pathname}`:e.ignoreQueryParams?`${i.origin}${i.pathname}${i.hash}`:e.ignoreURIFragments?`${i.origin}${i.pathname}${i.search}`:t:t}Do(t){return t!=null&&t.ignoreCaseSensitivity?"i":""}PE(t){let e=null,i=!1;switch(t.operator){case Vs.NOT_START:case _s.NOT_START:i=!0;case Vs.START:case _s.START:e=new csRegExp(`^${t.value}`,this.Do(t));break;case Vs.NOT_END:case _s.NOT_END:i=!0;case Vs.END:case _s.END:e=new csRegExp(`${t.value}$`,this.Do(t));break;case Vs.NOT_CONTAIN:case _s.NOT_CONTAIN:i=!0;case Vs.CONTAIN:case _s.CONTAIN:case _s.REGEX:e=new csRegExp(`${t.value}`,this.Do(t));break;case Vs.NOT_EXACT:case _s.NOT_EXACT:i=!0;case Vs.EXACT:case _s.EXACT:e=new csRegExp(`^${t.value}$`,this.Do(t));break;default:Ct.warn(`compileRegexRule, unknown operator: ${t.operator}`)}if(e===null)return null;let r=t.startDate?this.qd(t.startDate):void 0,o=t.endDate?this.qd(t.endDate):void 0;return{regex:e,ignoreQueryParams:t.ignoreQueryParams,ignoreURIFragments:t.ignoreURIFragments,notOperator:i,samplingRate:t.samplingRate!==void 0?t.samplingRate:100,startDate:r,endDate:o,ruleInput:t}}qd(t){let e=new csDate(t);return isNaN(e.getTime())?void 0:e}}return s})(),Hh=(()=>{class s{constructor(t,e,i,r){this.le=t,this.nr=e,this.rr=i,this._t=r}init(){this.kE()}shouldMaskNonTextElements(){if(this.le.anonymisationMethod!==hi.replayRecordingMaskedUrlRegexRules)return!1;if(this.le.isSMB)return this.shouldUseAnonymization();let t=this.rr.getMatchingRules(this.nr.getAnonymizedUrl());return csArray.prototype.some.call(t,e=>e.maskMedia)}shouldUseAnonymization(){if(this._t&&!this._t.isReplayUnanonymizedAllowedByConsent()){switch(this.le.anonymisationMethod){case null:case hi.replayRecordingUnmaskedUrlRegex:return!(this.le.replayRecordingUnmaskedUrlRegex&&this.le.replayRecordingUnmaskedUrlRegex.test(this.nr.getAnonymizedUrl()));case hi.replayRecordingUnmaskedUrlRegexRules:return!this.rr.evaluateUrl(this.nr.getAnonymizedUrl())}return!0}else{switch(this.le.anonymisationMethod){case null:case hi.replayRecordingMaskedUrlRegex:return!!(this.le.replayRecordingMaskedUrlRegex&&this.le.replayRecordingMaskedUrlRegex.test(this.nr.getAnonymizedUrl()));case hi.replayRecordingMaskedUrlRegexRules:return this.rr.evaluateUrl(this.nr.getAnonymizedUrl())}return!1}}kE(){this.le.anonymisationMethod===hi.replayRecordingMaskedUrlRegexRules&&this.le.replayRecordingMaskedUrlRegexRules?this.rr.setRegexRules(this.le.replayRecordingMaskedUrlRegexRules):this.le.anonymisationMethod===hi.replayRecordingUnmaskedUrlRegexRules&&this.le.replayRecordingUnmaskedUrlRegexRules&&this.rr.setRegexRules(this.le.replayRecordingUnmaskedUrlRegexRules)}}return s})();function Qf(s){return s.nodeType===1}function Zt(s){let n=csEventtarget.apply(s);return n&&Qf(n)&&csElementshadowRoot.apply(n)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:n}function Zf(s){return s.composedPath&&Object.defineProperty(s,"__csOriginalTarget",{value:s.composedPath()[0],writable:!1,enumerable:!1}),s}function tg(){return(s,n,t)=>{let e=t.value;return e&&(t.value=function(i){if(Zt(i)===csEventtarget.apply(i))return e.call(this,i)}),t}}var Wt=(()=>{let s;return function(n){n[n.TAP=0]="TAP",n[n.LONG_PRESS=1]="LONG_PRESS",n[n.DRAG=2]="DRAG",n[n.FLICK=3]="FLICK",n[n.PINCH_IN=4]="PINCH_IN",n[n.PINCH_OUT=5]="PINCH_OUT"}(s||(s={})),s})(),ur=(()=>{let s;return function(n){n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n[n.LEFT=3]="LEFT",n[n.RIGHT=4]="RIGHT"}(s||(s={})),s})(),eg=(()=>{class s{compute(t,e){let i=this.Hs(e.x)-this.Hs(t.x),r=this.Hs(e.y)-this.Hs(t.y),o=e.time-t.time;return{duration:o,distance:this.Wd(i,r),direction:this.DE(i,r),velocity:this.xE(i,r,o)}}computePinchMetrics(t,e){let i=this.Hs(e.x)-this.Hs(t.x),r=this.Hs(e.y)-this.Hs(t.y);return{duration:e.time-t.time,distance:this.Wd(i,r)}}getScale(t,e){return Math.abs(e/t-1)}Hs(t){return t/window.devicePixelRatio}Wd(t,e){return Math.round(Math.sqrt(t*t+e*e))}xE(t,e,i){let r=i/1e3,o=t/r,c=e/r;return Math.round(Math.abs(o)+Math.abs(c))}DE(t,e){return Math.abs(t)>Math.abs(e)?t>0?ur.RIGHT:ur.LEFT:e>0?ur.DOWN:ur.UP}}return s})(),Bh=typeof performance!="undefined"&&!!performance.now,cl=Bh?()=>performance.now():()=>csDate.now(),sg=(()=>{var s;return Bh?(s=performance.timing)===null||s===void 0?void 0:s.navigationStart:0})(),dr={now(){return Math.round(cl()+sg)},elapsed(){return cl()}};function ll(s,n=0){let t=Math.pow(10,n);return Math.round(s*t)/t}var ig=1e3,ng=100,rg=.1,Ca=(()=>{class s{constructor(){this.Bt={},this.Hc=()=>{},this.xo=new eg,this.Re()}static isGestureDetectionSupported(){return typeof devicePixelRatio!="undefined"}onGesture(t){this.Hc=t}isValidTouchEvent(t){return"touches"in t&&"changedTouches"in t}processActionDown(t){if(!this.LE(t))return;this.UE(t)&&this.Re();let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:dr.now()};if(t.touches.length===1)this.Bt.startPinchTime=e.time,this.Bt.firstTouch=e;else if(t.touches.length===2&&(this.Bt.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:dr.now()},this.Bt.firstTouch&&this.Bt.secondTouch)){let i=this.xo.computePinchMetrics(this.Bt.firstTouch,this.Bt.secondTouch);this.tn=i.distance}csArray.prototype.push.call(this.or,e),this.Lo=Zt(t)}processActionMove(){this.Bc=!0}processActionUp(t){if(this.VE(t)){if(csArray.prototype.push.call(this.or,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:dr.now()}),this.jE(t)&&this.Bt.startPinchTime){let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Bt.startPinchTime},i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:dr.now()};this.Bt.firstTouch&&(this.Bt.firstTouch=e,this.Bt.secondTouch=i),this.HE(t)}this.tn||this.BE()&&this.FE(t)}}Re(){this.or=[],this.Lo=null,this.Bc=!1,this.tn=null,this.ar=!0}FE(t){let e=this.xo.compute(this.or[0],this.or[1]);this.ar=t.isTrusted;let i=this.Bc?this.$E(e):this.zE(e);if(this.GE(i.type,t.changedTouches)){let r=t.changedTouches[0];i.pageX=ll(r.pageX,1),i.pageY=ll(r.pageY,1)}this.Hc(i,t)}HE(t){if(!(this.Bt.firstTouch&&this.Bt.secondTouch))return;let e=this.xo.computePinchMetrics(this.Bt.firstTouch,this.Bt.secondTouch);this.ar=t.isTrusted;let i=this.qE(e);i&&this.Hc(i,t)}qE(t){return!this.tn||this.xo.getScale(this.tn,t.distance)<rg?void 0:{type:this.tn>t.distance?Wt.PINCH_IN:Wt.PINCH_OUT,target:this.Lo,distance:t.distance,isTrusted:this.ar}}$E(t){return{type:t.velocity<ng?Wt.DRAG:Wt.FLICK,target:this.Lo,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.ar}}zE(t){return{type:t.duration<ig?Wt.TAP:Wt.LONG_PRESS,target:this.Lo,isTrusted:this.ar}}GE(t,e){return t===Wt.TAP&&e&&e.length===1}UE(t){return t.touches.length===1}BE(){return this.or.length===2}LE(t){return t.touches.length>0}VE(t){return t.changedTouches.length>0}jE(t){return this.Bc&&!!this.tn&&t.changedTouches.length===1&&t.touches.length===1}}return s})(),pc=(()=>{class s{constructor(){this.subscriptions={}}subscribe(t,e){this.subscriptions[t]=e,Object.keys(this.subscriptions).length===1&&this.onStartTracking()}unsubscribe(t){delete this.subscriptions[t],Object.keys(this.subscriptions).length===0&&this.onStopTracking()}}return s})(),Fh=!0,br=csSymbol("safe"),hl=csSymbol("task");function Mt(s,n=Fh){var t;(t=s[br])!==null&&t!==void 0||(s[br]=function(e){let i=arguments;Si(()=>(e[hl]=ke,s.listener.apply(s.boundElement,i)),es.EventListener,e[hl])}),s.boundElement.addEventListener(s.type,s[br],n)}function kt(s,n=Fh){s.boundElement.removeEventListener(s.type,s[br],n)}var og=(()=>{class s extends pc{constructor(t){super(),this.WE=t,this.Bs=[{boundElement:document,type:"touchstart",listener:e=>this.J(e)},{boundElement:document,type:"touchmove",listener:e=>this.J(e)},{boundElement:document,type:"touchend",listener:e=>this.J(e)}],this.cr=new Ca,this.cr.onGesture((e,i)=>this.Fc(e,i))}Fc(t,e){for(let i in this.subscriptions){let r=this.subscriptions[i];r(t,e)}}onStartTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.Bs,t=>Mt(t))}onStopTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.Bs,t=>kt(t))}canDetectGesture(){return typeof devicePixelRatio!="undefined"}J(t){this.WE.tryToExecute("process gesture event",()=>{if(this.cr.isValidTouchEvent(t))switch(t.type){case"touchstart":this.cr.processActionDown(t);break;case"touchmove":this.cr.processActionMove();break;case"touchend":this.cr.processActionUp(t);break}})()}static isSwipe(t){return t.type===Wt.FLICK||t.type===Wt.DRAG}}return s})(),Ia=class{constructor(n){this.Ce=n}send(n){hj.log.debug(`Sending tags: ${csJSON.stringify(n)}`),this.Ce.pushInternalEvents(n)}tag(n,t,e,i,r){let o=this;return function(c){if(c){let u=csArray.prototype.reduce.call(e,function(p,v){let f=n,w="",_=Object.keys(v);return csArray.prototype.forEach.call(_,function(R){let H=v[R],U=c[H];U==null&&(U=""),i&&(U=i(H,U)),H===t&&(w=U),H===t&&!r?f+=`.${R}`:U!==""&&(f+=`.${R}:${U}`)}),csArray.prototype.push.call(p,{key:f,val:w}),p},[]);o.send(u)}}}setup({vocEnabled:n,integrationsEnabled:t}){let e=function(p,v){return typeof v=="string"?csString.prototype.replace.call(v,/\.|:/g,"_"):v},i=function(p,v){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.toString.call(v),".e:",".E:"),".v:",".V:"),".c:",".C:")},r=function(p,v){if(p==="answer"){let w=parseInt(v);return isNaN(w)?(J.warn(`Poll question answer should be a number type, received ${v} instead`),v):w}return p!=="type"?v:{"rating-scale-5":"rating5","rating-scale-7":"rating7","net-promoter-score":"nps","single-close-ended":"singleClose","multiple-close-ended":"multiClose","single-open-ended-multiple-line":"singleOpenMulti","single-open-ended-single-line":"singleOpenSingle"}[v]||v},o={"poll.show":this.tag("poll.show","id",[{id:"id"}]),"poll.send":this.tag("poll.send","response_id",[{id:"id",r_id:"response_id"}]),"poll.question":this.tag("poll.q","answer",[{t:"type",a:"answer",id:"id",qid:"questionUuid"}],r),"feedback.show":this.tag("feedback.show","id",[{id:"id"}]),"feedback.send":this.tag("feedback.send","id",[{id:"id"}]),"feedback.sentiment":this.tag("feedback.sentiment","emotion",[{e:"emotion",id:"id",r_id:"response_id"}]),"survey.show":this.tag("survey.show","id",[{id:"id"}]),"survey.open":this.tag("survey.open","id",[{id:"id"}])},c={"exp.opt":this.tag("exp.opt","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.ub":this.tag("exp.ub","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.abt":this.tag("exp.abt","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.go":this.tag("exp.go","variantId",[{e:"experimentId",v:"variantId",c:"containerId"}],i),"int.ga":this.tag("int.ga","action",[{a:"action"}],e,!0),"int.mp":this.tag("int.mp","event",[{event:"event"}],e,!0),"int.hubspot":this.tag("int.hubspot","utk",[{utk:"utk"}])};return Object.assign({},n?o:{},t?c:{})}listen(n){let t=this.setup(n);csArray.prototype.forEach.call(Object.keys(t),function(e){hj.event.listen(e,t[e])})}},$h=Ia,_i=function(){"use strict";var s={d:function(h,l){for(var d in l)s.o(l,d)&&!s.o(h,d)&&Object.defineProperty(h,d,{enumerable:!0,get:l[d]})}};s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=function(h,l){return Object.prototype.hasOwnProperty.call(h,l)};var n={};s.d(n,{u6:function(){return co},b2:function(){return ao},Vv:function(){return ko},pF:function(){return Oi},XA:function(){return Zn},fd:function(){return fs},ec:function(){return li}});var t=function(h){return h.replace(/%u[\dA-F]{4}|%[\dA-F]{2}/gi,function(l){return l.startsWith("%u")?String.fromCharCode(parseInt(l.slice(2),16)):String.fromCharCode(parseInt(l.slice(1),16))})};function e(h){return t(encodeURIComponent(h))}function i(h){return btoa(e(h))}function r(h){return function(l){return decodeURIComponent(function(d){return d.replace(/[^a-zA-Z0-9@*_+-./]/g,function(m){var y=m.charCodeAt(0);return y<256?"%"+y.toString(16).padStart(2,"0").toUpperCase():"%u"+y.toString(16).padStart(4,"0").toUpperCase()})}(l))}(atob(h))}var o={isOn:function(){var h;return _hjSettings.hjdebug===void 0&&(_hjSettings.hjdebug=((h=hj.bridge.storage.items.DEBUG_FLAG)===null||h===void 0?void 0:h.get())==="true"),_hjSettings.hjdebug},on:function(h){_hjSettings.hjdebug=!0,h&&hj.bridge.storage.items.DEBUG_FLAG.set(!0)},off:function(){_hjSettings.hjdebug=!1,hj.bridge.storage.items.DEBUG_FLAG.clear()},emit:function(h,l){typeof _hjEmitters!="undefined"&&_hjEmitters.includes&&_hjEmitters.includes(h)&&window.postMessage({data:l,message:hj.bridge.storage.items.DEBUG_FLAG.getKey(),type:h},"*")}};function c(h){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},c(h)}var u=!1,p="",v={autotag:"#ff0099",command:"#0079a4",cookies:"#5a2c22",data:"#009bd2",event:"#ff7000",events:"#ffc000",exception:"#e63946",heatmap:"#700000",init:"#6600cc",integration:"#2a9072",poll:"#00a000",property:"#ff33cc",recording:"#dd0000",rendering:"#bd00ea",sampling:"#efb0a1",survey:"#007000",targeting:"#00ee00",visitdata:"#00668a",websocket:"#0dc0ff"},f={init:function(){window.console===void 0&&(window.console={debug:function(){},trace:function(){},log:function(){},info:function(){},warn:function(){},error:function(){}})},debug:function(h,l,d){var m=l&&v[l.toLowerCase()]||"#2a9d8f";p!=h&&u&&(console.groupEnd(),u=!1),p=h,hj.debug!==void 0&&hj.debug.isOn()&&(c(h)==="object"?hj.hq.each(h,function(y,T){hj.log.debug(y+": "+T,l,null)}):(h=l&&typeof h=="string"?l.toUpperCase()+": "+h:h,h="%c"+new Date().toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")+":%c "+h,d?(u||(console.groupCollapsed(h+":","color: #999;","color: "+m+";"),u=!0),console.log(d)):console.log(h,"color: #999;","color: "+m+";")))},info:function(h){console.log("%c"+h,"color: #006EFF")},warn:function(h){console.log("%c"+h,"color: #E8910C")},error:function(h){console.error("Hotjar error: "+h)},warnIfEmpty:function(h,l){if(Array.isArray(h)?h.length===0:hj.hq.isNullOrUndefined(h)){var d=h===null?"null":h===void 0?"undefined":"no value";hj.log.debug("WARNING: [".concat(l,"] a value was expected but ").concat(d," was found!"))}}},w={},_={},R={};function H(h,l,d){var m;h[l]||(h[l]=[]),(m=h[l])===null||m===void 0||m.push(d)}w={listen:hj.tryCatch(function(h,l){H(_,h,l),function(d){var m;R[d]&&((m=R[d])===null||m===void 0||m.forEach(function(y){w.signal(d,y)}),delete R[d])}(h)},"hj.event.listen"),removeListener:hj.tryCatch(function(h,l){var d=_[h];if(d){var m=d.indexOf(l);m!==-1&&d.splice(m,1)}},"hj.event.removeListener"),signal:hj.tryCatch(function(h,l,d){var m;_[h]?(m=_[h])===null||m===void 0||m.forEach(function(y){y(l)}):d?H(R,h,l):R[h]=[l]},"hj.event.signal"),clearAllListeners:hj.tryCatch(function(){_={},R={}},"hj.event.clearAllListeners")};var U,I,P=((I=function(){return U()}).test=U=function(){var h;if(!navigator)return"No User-Agent Provided";if((h=navigator.userAgentData)!==null&&h!==void 0&&h.mobile)return"mobile";var l=function(d){return navigator.userAgent.match(d)};return l(/GoogleTV|SmartTV|Internet.TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE\-HTML/i)||l(/Xbox|PLAYSTATION.3|Wii/i)?"tv":l(/iPad/i)||l(/tablet/i)&&!l(/RX-34/i)||l(/FOLIO/i)||l(/Linux/i)&&l(/Android/i)&&!l(/Fennec|mobi|HTC.Magic|HTCX06HT|Nexus.One|SC-02B|fone.945|Chromebook/i)||l(/Kindle/i)||l(/Mac.OS/i)&&l(/Silk/i)||l(/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC(.Flyer|\_Flyer)|Sprint.ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos.S7|Dell.Streak.7|Advent.Vega|A101IT|A70BHT|MID7015|Next2|nook/i)||l(/MB511/i)&&l(/RUTEM/i)?"tablet":l(/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google.Wireless.Transcoder/i)||l(/Opera/i)&&l(/Windows.NT.5/i)&&l(/HTC|Xda|Mini|Vario|SAMSUNG\-GT\-i8000|SAMSUNG\-SGH\-i9/i)?"mobile":l(/Windows.(NT|XP|ME|9)/)&&!l(/Phone/i)||l(/Win(9|.9|NT)/i)||l(/Macintosh|PowerPC/i)&&!l(/Silk/i)||l(/Linux/i)&&l(/X11/i)||l(/Solaris|SunOS|BSD/i)||l(/Bot|Crawler|Spider|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|TinEye/i)&&!l(/Mobile/i)||l(/\b(CrOS|Chromebook)\b/i)?"desktop":"mobile"},I);function $(h){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},$(h)}var q=hj.tryCatch(function(h){var l,d,m;for(l=h.length-1;l>0;l-=1)d=Math.floor(Math.random()*(l+1)),m=h[l],h[l]=h[d],h[d]=m;return h},"utils.shuffle"),M=(hj.tryCatch(function(h){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(h)},"utils.validateEmail"),hj.tryCatch(function(){return hj.userDeviceType||(hj.userDeviceType=P(),hj.userDeviceType==="mobile"&&(hj.userDeviceType="phone")),hj.userDeviceType},"utils.deviceType")),Z=hj.tryCatch(function(){var h=function(){try{return window.self!==window.top}catch{return!0}}(),l={width:!h&&window.screen?window.screen.width:document.body.clientWidth,height:!h&&window.screen?window.screen.height:document.body.clientHeight};return{width:window.innerWidth||document.documentElement.clientWidth||l.width,height:window.innerHeight||document.documentElement.clientHeight||l.height}},"utils.getWindowSize"),at=function(h,l,d,m,y){var T=1;if(y!==void 0&&hj.log.debug("Retry iteration ".concat(T," of ").concat(y)),h())return l(!0);var x=setInterval(function(){return T++,h()?(clearInterval(x),l(!0)):T>=m?(clearInterval(x),l(!1)):void 0},d)},gt=function(h,l){return function(d,m){hj.log.debug("[".concat(h,"] ").concat(d),l,m)}},Vt=function(h){return h&&typeof h=="string"?h.replace(/[\W_]+/g,"-"):""};function Ft(h){try{return decodeURIComponent(h)}catch{return h}}function N(h){for(var l,d=[],m=new RegExp("[^?&]?"+h.replace(/\[/,"\\[").replace(/]/,"\\]")+"=([^&]+)","g");l=m.exec(location.search);)d.push(Ft(l[1]));switch(d.length){case 0:return"";case 1:return d[0];default:return d}}var z={},Y={};function st(h,l){var d;if(!z.matchOperations[h.match_operation])return hj.exceptions.log(new Error('Targeting error - "'.concat(h.match_operation,'" match operation does not exist.')),"hj.targeting.matchPatternWithRule"),!1;h.rule_type=h.rule_type||h.component;var m=function(y,T){return!T||y.rule_type!=="date"||y.match_operation!=="less_than"&&y.match_operation!=="greater_than"?T:(new Date(T).valueOf()/1e3).toFixed(0)}(h,l);return(d=z.matchOperations[h.match_operation](h,m)).error?(hj.exceptions.log(new Error("Targeting error - ".concat(h.match_operation," - ").concat(d.error)),"hj.targeting.matchPatternWithRule"),!1):(h.component!=="url"&&h.negate&&(d=!d),function(y,T,x){var D=x?"Match ":"No Match ";!x||y.component!=="url"&&y.component!=="device"||(D+=y.component+"|"+y.match_operation+"|"+y.pattern+(y.negate?" [NEGATE]":""),hj.log.debug(D,"targeting")),y.component!=="attribute"&&y.component!=="event"||(D+=y.component+"|"+y.name+" ("+y.rule_type+")|"+y.match_operation+"|"+y.pattern+"|compared with: "+T+(y.negate?" [NEGATE]":""),hj.log.debug(D,"targeting"))}(h,l,d),d)}function Pt(h){var l,d=M();return(l=h.length===0||h.length===3||h.some(function(m){return st(m,d)}))?hj.log.debug("Device match found","targeting"):hj.log.debug("No device match found","targeting"),l}var $t=function(h){var l,d,m;return h==null||(l=h.toLowerCase())===null||l===void 0||(d=l.split("#")[0])===null||d===void 0||(m=d.split("?")[0])===null||m===void 0?void 0:m.replace("http://www.","").replace("https://www.","").replace("http://","").replace("https://","").replace(/\/$/,"")},ae=function(h,l,d){return function(){return h.apply(null,arguments)?l.apply(null,arguments):d.apply(null,arguments)}},Ue=function(h,l){return h!==void 0&&l!==void 0&&h!==null&&l!==null},os=function(h,l){return!isNaN(h.pattern)&&!isNaN(l)&&l!==""&&typeof l!="boolean"},ce=function(h,l){if(!l||l.toString()===parseInt(l,10).toString())return!1;var d=new Date(l);return d!=="Invalid Date"&&!isNaN(d)},Dt=function(h){return ae(Ue,h,function(){return!1})},Ce=function(h){return Dt(ae(os,h,function(l,d){return{error:d?"Cannot compare non-numeric values (rule: { name: '".concat(l.name,`' },
                        pattern: '`).concat(d,"')."):void 0}}))},as=function(h){return Dt(ae(ce,h,function(l,d){return{error:"Cannot compare dates. Given pattern is not a date (rule: { name: '".concat(l.name,"' }, pattern: '").concat(d,"').")}}))};z.matchUrl=function(h,l){var d,m=!1,y=!1,T=!1;if(h.length===0)return hj.log.debug("No URL targeting rules set","targeting"),!1;for(var x=0;x<h.length;x+=1){var D,A;if(!(m=!!(d=h[x])&&st(d,l))||(D=d)!==null&&D!==void 0&&D.negate||(T=!0),m&&(A=d)!==null&&A!==void 0&&A.negate){y=!0;break}}return(m=T&&!y)?hj.log.debug("URL match found without any negate rules","targeting"):y?hj.log.debug("Negate URL rule match found","targeting"):hj.log.debug("No URL match found","targeting"),m},z.matchRules=hj.tryCatch(function(h,l,d){for(var m,y,T,x,D,A=h.rules,j=h.userAttributeMatchLogic,G={device:{rules:[],isMatch:null,doMatch:Pt},url:{rules:[],isMatch:null,doMatch:z.matchUrl},attribute:{rules:[]},trigger:{rules:[]}},K=0;K<A.length;K+=1){var it=A[K];if(it!==void 0){var a=G[it.component];a!==void 0?a.rules.push(it):hj.exceptions.log(new Error("Targeting error - ".concat(G[it.component]," targeting component is not supported.")),"hj.targeting.matchRules")}}hj.log.debug("-- Matching rules for new item --");var E=function(C,k){var nt;l!=="__proto__"&&l!=="constructor"&&(Y[l]===void 0&&(Y[l]=[]),(nt=Y[l])===null||nt===void 0||nt.push({eventName:C,callback:k}),hj.event.listen(C,k))};if(Object.keys(Y).forEach(function(C){var k;C!==l&&((k=Y[C])===null||k===void 0||k.forEach(function(nt){hj.event.removeListener(nt.eventName,nt.callback)}),delete Y[C])}),(m=G.device)!==null&&m!==void 0&&m.doMatch&&((y=G.device)===null||y===void 0||!y.doMatch(G.device.rules)))return!1;var S=function(){var C;return function(k,nt){function et(ue){hj.log.debug(ue,"targeting")}if(k===void 0||k.length===0)return et("No specific user attribute targeting rules set."),!0;var Qt=function(ue){return st(ue,hj.userAttributes.get(ue.name))};return nt==="and"&&k.every(Qt)?(et("All user attributes matched. (AND logic)"),!0):nt==="or"&&k.some(Qt)?(et("A user attribute matched. (OR logic)"),!0):(et("User attributes set do not match current visitor."),!1)}((C=G.attribute)===null||C===void 0?void 0:C.rules,j!=null?j:"and")},b=(T=G.trigger)===null||T===void 0?void 0:T.rules;if(b!=null&&b.length){hj.log.debug("Setting up targeting listeners for trigger rules","targeting");var g=function(){S()&&(d==null||d(!0))};b.forEach(function(C){var k="trigger:"+C.pattern;E(k,g)})}var O=G.url&&G.url.doMatch&&((x=G.url)===null||x===void 0?void 0:x.doMatch(G.url.rules,l));return((D=G.attribute)===null||D===void 0?void 0:D.rules.length)===0||S()?!!O&&(d==null||d(),!0):(hj.log.debug("Setting up targeting listeners for attribute rules","targeting"),E("user-attributes-set",function(){O&&S()&&(d==null||d(!0))}),!1)},"hj.targeting.matchRules"),z.matchOperations={exact:function(h,l){return h.rule_type==="string"?Dt(function(d,m){return m.toLowerCase()===d.pattern.toLowerCase()})(h,l):h.rule_type==="boolean"?(h.pattern=String(h.pattern)==="true",l===h.pattern):h.rule_type==="number"?l!=null&&Number(l)===Number(h.pattern):l===h.pattern},starts_with:Dt(function(h,l){return(l=l||"").indexOf(h.pattern)===0}),ends_with:Dt(function(h,l){var d=l.length-h.pattern.length==-1?0:l.length-h.pattern.length;return l.substring(d,l.length)===h.pattern}),contains:Dt(function(h,l){return(l=l||"").indexOf(h.pattern)!==-1}),regex:Dt(function(h,l){try{return new RegExp(h.pattern).test(l)}catch{return hj.log.error(`The regular expression used for page targeting was invalid. Please provide a valid regular
                        expression.

Read more here: https://help.hotjar.com/hc/en-us/articles/115012727628`),!1}}),simple:Dt(function(h,l){return $t(l)===$t(h.pattern)}),greater_than:Ce(function(h,l){return Number(l)>Number(h.pattern)}),less_than:Ce(function(h,l){return Number(l)<Number(h.pattern)}),unknown:function(h,l){return(l=typeof l=="string"?l.trim():l)!==0&&l!==!1&&!l},exact_date:as(function(h,l){var d=new Date(1e3*h.pattern);return new Date(l).toDateString()===d.toDateString()}),exact_days_ago:as(function(h,l){var d,m=new Date;return d=m.setDate(m.getDate()-Number(h.pattern)),d=new Date(d),new Date(l).toDateString()===d.toDateString()}),more_than_days_ago:as(function(h,l){var d=Number(h.pattern)+1,m=new Date().getTime()/1e3;return m-=86400*d,new Date(l).getTime()/1e3<=m}),less_than_days_ago:as(function(h,l){if(Number(h.pattern)===0)return z.matchOperations.exact_days_ago(h,l);var d=new Date().getTime()/1e3;return d-=86400*Number(h.pattern),new Date(l).getTime()/1e3>=d})};var Ie={getFeatures:hj.tryCatch(function(){return hj.settings.features||[]},"hj.features.getFeatures"),hasFeature:hj.tryCatch(function(h){var l;try{var d=window.localStorage.getItem("HJ_OVERRIDE_FEATURE:".concat(h));l=d==="true"||d==="1"}catch{l=!1}return Ie.getFeatures().indexOf(h)>-1||l},"hj.features.hasFeature")};function Tt(h){return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Tt(h)}var vt=function(h){var l,d,m,y=window._hjDocument||document;if(V.selector=h,V.isWindow(h))return this[0]=window,this.length=1,this;if(V.isDocument(h,y))return this[0]=y,this.length=1,this;if(Tt(h)==="object")return this[0]=h,this.length=1,this;if(typeof h=="string"&&h.charAt(0)==="<"&&h.charAt(h.length-1)===">"&&h.length>=3)return(l=y.createElement("div")).innerHTML=h,this[0]=l.childNodes[0],this.length=1,this;if(typeof h=="string"){isNaN(h.charAt(1))||h.charAt(0)!=="."&&h.charAt(0)!=="#"||(h=h.charAt(0)+"\\3"+h.charAt(1)+" "+h.slice(2));try{d=y.querySelectorAll(h)}catch{return this.length=0,this}for(m=0;m<d.length;m+=1)this[m]=d[m];return this.length=d.length,this}return this};vt.prototype.val=function(h){return h!==void 0&&this.length>0&&(this[0].value=h),this[0]===void 0?void 0:this[0]?this[0].value:""},vt.prototype.each=function(h,l){Array.prototype.forEach.call(this,function(d,m,y){l(m,d,y)})},vt.prototype.hasClass=function(h){return this[0].classList?this[0].classList.contains(h):new RegExp("(^| )"+h+"( |$)","gi").test(this[0].className)},vt.prototype.remove=function(){var h;for(h=0;h<this.length;h+=1)this[h].parentNode.removeChild(this[h])},vt.prototype.trigger=function(h){var l,d,m,y=h.split(" ");for(l=0;l<this.length;l+=1)for(d=0;d<y.length;d+=1)(m=document.createEvent("HTMLEvents")).initEvent(y[d],!0,!1),this[l].dispatchEvent(m)},vt.prototype.on=function(h,l,d,m){var y,T,x,D,A,j,G,K,it=h.split(" ");if(m=!!m,V.isDocument(this[0])&&typeof l=="string")for(T=0;T<it.length;T+=1)typeof l=="string"?(typeof d=="boolean"&&d===!1&&(d=function(a){return a.preventDefault(),!1}),x=l+"."+it[T],D=function(a){if(A=document.querySelectorAll(l)){for(j=a.target,G=-1;j&&(G=Array.prototype.indexOf.call(A,j))===-1;)j=j.parentElement;G>-1&&d.call(j,a)}},Array.isArray(V.eventHandlers[x])||(V.eventHandlers[x]=[]),V.eventHandlers[x].push(D),document.addEventListener(it[T].split(".")[0],D,!0)):(typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),Array.isArray(V.eventHandlers.document)||(V.eventHandlers.document=[]),V.eventHandlers.document.push(l),this[0].addEventListener(it[T].split(".")[0],l,m));else if(V.isDocument(this[0]))for(T=0;T<it.length;T+=1)typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),x="document."+it[T],Array.isArray(V.eventHandlers[x])||(V.eventHandlers[x]=[]),V.eventHandlers[x].push(l),document.addEventListener(it[T].split(".")[0],l,m);else if(V.isWindow(this[0]))for(T=0;T<it.length;T+=1)typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),x="window."+it[T],Array.isArray(V.eventHandlers[x])||(V.eventHandlers[x]=[]),V.eventHandlers[x].push(l),window.addEventListener(it[T].split(".")[0],l,m);else for(y=0;y<this.length;y+=1)for(T=0;T<it.length;T+=1)Tt(l)==="object"?(K=l,l=function(a){a.data=K,d.call(this[y],a)}):typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),x=V.selector+"."+it[T],Array.isArray(V.eventHandlers[x])||(V.eventHandlers[x]=[]),V.eventHandlers[x].push(l),this[y].addEventListener(it[T].split(".")[0],l,m);return this},vt.prototype.off=function(h,l,d,m){var y,T,x,D=h.split(" ");for(m=!!m,y=0;y<this.length;y+=1)for(T=0;T<D.length;T+=1)if(V.isDocument(this[y])&&typeof l=="string")if(d===void 0){if(Tt(V.eventHandlers[l+"."+D[T]])==="object"){for(x=0;x<V.eventHandlers[l+"."+D[T]].length;x+=1)document.removeEventListener(D[T].split(".")[0],V.eventHandlers[l+"."+D[T]][x],!0);delete V.eventHandlers[l+"."+D[T]]}}else document.removeEventListener(D[T].split(".")[0],d,m);else if(V.isDocument(this[y]))if(l===void 0){if(Tt(V.eventHandlers["document."+D[T]])==="object"){for(x=0;x<V.eventHandlers["document."+D[T]].length;x+=1)document.removeEventListener(D[T].split(".")[0],V.eventHandlers["document."+D[T]][x],m);delete V.eventHandlers["document."+D[T]]}}else document.removeEventListener(D[T].split(".")[0],l,m);else if(V.isWindow(this[y]))if(l===void 0){if(Tt(V.eventHandlers["window."+D[T]])==="object"){for(x=0;x<V.eventHandlers["window."+D[T]].length;x+=1)window.removeEventListener(D[T].split(".")[0],V.eventHandlers["window."+D[T]][x],m);delete V.eventHandlers["window."+D[T]]}}else window.removeEventListener(D[T].split(".")[0],l,m);else if(l===void 0){if(Tt(V.eventHandlers[V.selector+"."+D[T]])==="object"){for(x=0;x<V.eventHandlers[V.selector+"."+D[T]].length;x+=1)this[y].removeEventListener(D[T].split(".")[0],V.eventHandlers[V.selector+"."+D[T]][x],m);delete V.eventHandlers[V.selector+"."+D[T]]}}else this[y].removeEventListener(D[T].split(".")[0],l,m);return this},vt.prototype.scrollTop=function(){return V.isWindow(this[0])||V.isDocument(this[0])?window.document.body.scrollTop||window.document.documentElement.scrollTop:this[0].scrollTop},vt.prototype.scrollLeft=function(){return V.isWindow(this[0])||V.isDocument(this[0])?document.body.scrollLeft||document.documentElement.scrollLeft:this[0].scrollLeft},vt.prototype.height=function(){var h;return V.isWindow(this[0])?document.documentElement.clientHeight:this[0].nodeType===9?(h=this[0].documentElement,Math.max(this[0].body.scrollHeight,h.scrollHeight,this[0].body.offsetHeight,h.offsetHeight,h.clientHeight)):Math.max(this[0].scrollHeight,this[0].offsetHeight)},vt.prototype.width=function(){var h;return V.isWindow(this[0])?document.documentElement.clientWidth:this[0].nodeType===9?(h=this[0].documentElement,Math.max(this[0].body.scrollWidth,h.scrollWidth,this[0].body.offsetWidth,h.offsetWidth,h.clientWidth)):Math.max(this[0].scrollWidth,this[0].offsetWidth)},vt.prototype.attr=function(h,l){var d;if(l||l===""){for(d=0;d<this.length;d+=1)this[d].setAttribute(h,l);return this}return this[0]&&Tt(this[0])==="object"&&this[0].getAttribute(h)!==null?this[0].getAttribute(h):void 0},vt.prototype.is=function(h){return function(l,d){var m=l.matchesSelector||l.msMatchesSelector||l.mozMatchesSelector||l.webkitMatchesSelector||l.oMatchesSelector;if(m)return m.call(l,d);for(var y=l.parentNode.querySelectorAll(d),T=y.length;T>=0;T-=1)if(y[T]===l)return!0;return!1}(this[0],h)},vt.prototype.ready=function(h){V.isDocument(this[0])&&(document.readyState==="interactive"||document.readyState==="complete"||document.readyState==="loaded"?h():document.addEventListener("DOMContentLoaded",h,!1))},vt.prototype.parent=function(){var h;return((h=this[0].parentNode)===null||h===void 0?void 0:h.nodeName)==="#document-fragment"?V(this[0].parentNode.host):V(this[0].parentNode)},vt.prototype.get=function(h){return this[h]},vt.prototype.removeAttr=function(h){var l;for(l=0;l<this.length;l+=1)this[l].removeAttribute(h);return this};var V=function(h){return new vt(h)};V.isFunction=function(h){return typeof h=="function"},V.isWindow=function(h){return h===s.g},V.isDocument=function(h,l){return h===(l||document)},V.noop=function(){},V.stringify=function(h){if(Array.prototype.toJSON===void 0)return JSON.stringify(h);var l=Array.prototype.toJSON;delete Array.prototype.toJSON;try{return JSON.stringify(h)}finally{Array.prototype.toJSON=l}},V.stringify=function(h){if(Array.prototype.toJSON===void 0)return JSON.stringify(h);var l=Array.prototype.toJSON;delete Array.prototype.toJSON;try{return JSON.stringify(h)}finally{Array.prototype.toJSON=l}},V.each=function(h,l){var d,m,y;if(Tt(h)==="object"&&Object.prototype.toString.call(h)!=="[object Array]"){if((m=h[Object.keys(h)[0]])&&m.nodeName!==void 0){for(d in h)if(Object.prototype.hasOwnProperty.call(h,d)&&d!=="length"&&l(d,h[d],h)===!1)break}else for(d in h)if(Object.prototype.hasOwnProperty.call(h,d)&&l(d,h[d],h)===!1)break}else if(h!==void 0)for(y=0;y<h.length&&l(y,h[y],h)!==!1;y+=1);},vt.prototype.append=function(h){var l;Tt(h)==="object"?V.selector==="body"?document.body.appendChild(h.get(0)):this[0].appendChild(h.get(0)):V.selector==="body"?((l=document.createElement("div")).innerHTML=h,document.body.appendChild(l)):((l=document.createElement("div")).innerHTML=h,this[0].appendChild(l))},V.ajax=function(h){var l=new XMLHttpRequest;h.type=h.type||"GET",h.timeout_ms=h.timeout_ms||15e3,h.withCredentials&&(l.withCredentials=!0),l.open(h.type,h.url,!0),l.timeout=h.timeout_ms,h.type!=="POST"&&h.type!=="PUT"||!h.contentType||l.setRequestHeader("Content-Type",h.contentType),l.onload=function(){l.status>=200&&l.status<400?V.isFunction(h.success)&&h.success(l.responseText&&JSON.parse(l.responseText),l):V.isFunction(h.error)&&h.error(l)},l.onerror=function(){V.isFunction(h.error)&&h.error(l)},l.ontimeout=function(){V.isFunction(h.timeout)&&h.timeout(l)},V.isFunction(h.requestAnnotator)&&h.requestAnnotator(l),h.type!=="POST"&&h.type!=="PUT"||!h.data?l.send():l.send(h.data)},V.eventHandlers={},V.selector="",V.trim=function(h){return typeof h=="string"?h.replace(/^\s+|\s+$/gm,""):""},V.isUndefined=function(h){return h===void 0},V.isNullOrUndefined=function(h){return h===null||V.isUndefined(h)},V.inArray=function(h,l){var d=l.indexOf(h);return d!==void 0&&d!==-1},V.values=function(h){return Object.keys(h).map(function(l){return h[l]})};var bi={get:function(h,l,d){l=l||V.noop,d=d||V.noop,V.ajax({url:h,success:hj.tryCatch(l,"Data"),error:hj.tryCatch(d,"Data")})},post:function(h,l,d,m){var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{contentType:"json"};d=d||V.noop,m=m||V.noop;var T=y!=null&&y.query?"".concat(h,"?").concat(y.query):h;return V.ajax({url:T,type:"POST",data:(y==null?void 0:y.contentType)==="json"?V.stringify(l):l,contentType:"text/plain; charset=UTF-8",success:hj.tryCatch(d,"Data"),error:hj.tryCatch(m,"Data")})},putAsJSON:function(h,l,d,m){d=d||V.noop,m=m||V.noop,V.ajax({url:h,type:"PUT",data:V.stringify(l),contentType:"text/plain; charset=UTF-8",success:hj.tryCatch(d,"Data"),error:hj.tryCatch(m,"Data")})},postAsJSON:function(h,l,d,m){return d=d||V.noop,m=m||V.noop,V.ajax({url:h,type:"POST",data:V.stringify(l),contentType:"application/json; charset=UTF-8",success:hj.tryCatch(d,"Data"),error:hj.tryCatch(m,"Data")})}},Ti=[],ti=[];function Wn(h,l){hj.tryCatch(l,"Rendering")(h)}function nn(h,l){hj.widgetDelay.set(function(){hj.tryCatch(l,"Rendering")(h)},1e3*h.display_delay)}function rn(h,l,d){var m=hj.hq(document),y=hj.hq(window),T=[];function x(){hj.tryCatch(l,"Rendering")(h),m.off("mousemove."+d),m.off("mouseout."+d)}Ti.push(d),m.off("mousemove."+d),m.off("mouseout."+d),m.on("mousemove."+d,hj.tryCatch(function(D){var A,j,G,K;T.push({x:D.clientX,y:D.clientY}),T.length>2&&(((A=T[1])===null||A===void 0?void 0:A.x)===((j=T[2])===null||j===void 0?void 0:j.x)&&((G=T[1])===null||G===void 0?void 0:G.y)===((K=T[2])===null||K===void 0?void 0:K.y)?T.pop():T.shift())},"Rendering")),m.on("mouseout."+d,hj.tryCatch(function(D){var A=this;D.relatedTarget&&(!A||D.relatedTarget===A||A.compareDocumentPosition(D.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||function(j){var G=T[1],K=T[0];if(j|=0,G!==void 0&&!(K&&G.y>=K.y||j>0)){if(K&&K.x===G.x)x();else if(K){var it=K.y-G.y/K.x-G.x,a=-(K.y-it*K.x)/it;a>0&&a<y.width()&&x()}}}(D.clientY)},"Rendering"))}function Zr(h,l,d){var m=hj.hq(document),y=hj.hq(window);ti.push(d),y.off("scroll."+d),y.on("scroll."+d,hj.tryCatch(function(){var T=m.height();(m.scrollTop()+Z().height)/T>=.5&&(y.off("scroll."+d),l(h))},"Rendering"))}var Ps={clearAllAbandonEvents:hj.tryCatch(function(){Ti.forEach(function(h){hj.log.debug("Removing abandon events for "+h,"rendering"),hj.hq(document).off("mousemove."+h),hj.hq(document).off("mouseout."+h)}),Ti=[]},"hj.rendering.clearAllAbandonEvents"),clearAllScrollEvents:hj.tryCatch(function(){ti.forEach(function(h){hj.log.debug("Removing scroll events for "+h,"rendering"),hj.hq(window).off("scroll."+h)}),ti=[]},"hj.rendering.clearAllScrollEvents"),callAccordingToCondition:hj.tryCatch(function(h,l,d){var m={immediate:Wn,delay:nn,abandon:rn,scroll:Zr}[h.display_type==="inline"?"immediate":h.display_condition];if(hj.log.debug("Calling active item ("+l+"): "+h.display_condition,"rendering"),!m)throw new Error('Unhandled display condition: "'+h.display_condition+'"');hj.tryCatch(m,"Rendering")(h,d,l)},"hj.rendering.callAccordingToCondition")},Ee=function(h,l){return h+l&4294967295};function Ai(h,l){var d=zt(d=h[0],T=h[1],y=h[2],m=h[3],l[0],7,-680876936),m=zt(m,d,T,y,l[1],12,-389564586),y=zt(y,m,d,T,l[2],17,606105819),T=zt(T,y,m,d,l[3],22,-1044525330);d=zt(d,T,y,m,l[4],7,-176418897),m=zt(m,d,T,y,l[5],12,1200080426),y=zt(y,m,d,T,l[6],17,-1473231341),T=zt(T,y,m,d,l[7],22,-45705983),d=zt(d,T,y,m,l[8],7,1770035416),m=zt(m,d,T,y,l[9],12,-1958414417),y=zt(y,m,d,T,l[10],17,-42063),T=zt(T,y,m,d,l[11],22,-1990404162),d=zt(d,T,y,m,l[12],7,1804603682),m=zt(m,d,T,y,l[13],12,-40341101),y=zt(y,m,d,T,l[14],17,-1502002290),d=Gt(d,T=zt(T,y,m,d,l[15],22,1236535329),y,m,l[1],5,-165796510),m=Gt(m,d,T,y,l[6],9,-1069501632),y=Gt(y,m,d,T,l[11],14,643717713),T=Gt(T,y,m,d,l[0],20,-373897302),d=Gt(d,T,y,m,l[5],5,-701558691),m=Gt(m,d,T,y,l[10],9,38016083),y=Gt(y,m,d,T,l[15],14,-660478335),T=Gt(T,y,m,d,l[4],20,-405537848),d=Gt(d,T,y,m,l[9],5,568446438),m=Gt(m,d,T,y,l[14],9,-1019803690),y=Gt(y,m,d,T,l[3],14,-187363961),T=Gt(T,y,m,d,l[8],20,1163531501),d=Gt(d,T,y,m,l[13],5,-1444681467),m=Gt(m,d,T,y,l[2],9,-51403784),y=Gt(y,m,d,T,l[7],14,1735328473),d=Kt(d,T=Gt(T,y,m,d,l[12],20,-1926607734),y,m,l[5],4,-378558),m=Kt(m,d,T,y,l[8],11,-2022574463),y=Kt(y,m,d,T,l[11],16,1839030562),T=Kt(T,y,m,d,l[14],23,-35309556),d=Kt(d,T,y,m,l[1],4,-1530992060),m=Kt(m,d,T,y,l[4],11,1272893353),y=Kt(y,m,d,T,l[7],16,-155497632),T=Kt(T,y,m,d,l[10],23,-1094730640),d=Kt(d,T,y,m,l[13],4,681279174),m=Kt(m,d,T,y,l[0],11,-358537222),y=Kt(y,m,d,T,l[3],16,-722521979),T=Kt(T,y,m,d,l[6],23,76029189),d=Kt(d,T,y,m,l[9],4,-640364487),m=Kt(m,d,T,y,l[12],11,-421815835),y=Kt(y,m,d,T,l[15],16,530742520),d=Jt(d,T=Kt(T,y,m,d,l[2],23,-995338651),y,m,l[0],6,-198630844),m=Jt(m,d,T,y,l[7],10,1126891415),y=Jt(y,m,d,T,l[14],15,-1416354905),T=Jt(T,y,m,d,l[5],21,-57434055),d=Jt(d,T,y,m,l[12],6,1700485571),m=Jt(m,d,T,y,l[3],10,-1894986606),y=Jt(y,m,d,T,l[10],15,-1051523),T=Jt(T,y,m,d,l[1],21,-2054922799),d=Jt(d,T,y,m,l[8],6,1873313359),m=Jt(m,d,T,y,l[15],10,-30611744),y=Jt(y,m,d,T,l[6],15,-1560198380),T=Jt(T,y,m,d,l[13],21,1309151649),d=Jt(d,T,y,m,l[4],6,-145523070),m=Jt(m,d,T,y,l[11],10,-1120210379),y=Jt(y,m,d,T,l[2],15,718787259),T=Jt(T,y,m,d,l[9],21,-343485551),h[0]=Ee(d,h[0]),h[1]=Ee(T,h[1]),h[2]=Ee(y,h[2]),h[3]=Ee(m,h[3])}function Os(h,l,d,m,y,T){return l=Ee(Ee(l,h),Ee(m,T)),Ee(l<<y|l>>>32-y,d)}function zt(h,l,d,m,y,T,x){return Os(l&d|~l&m,h,l,y,T,x)}function Gt(h,l,d,m,y,T,x){return Os(l&m|d&~m,h,l,y,T,x)}function Kt(h,l,d,m,y,T,x){return Os(l^d^m,h,l,y,T,x)}function Jt(h,l,d,m,y,T,x){return Os(d^(l|~m),h,l,y,T,x)}function to(h){var l,d=[];for(l=0;64>l;l+=4)d[l>>2]=h.charCodeAt(l)+(h.charCodeAt(l+1)<<8)+(h.charCodeAt(l+2)<<16)+(h.charCodeAt(l+3)<<24);return d}var on="0123456789abcdef".split("");function eo(h){for(var l="",d=0;4>d;d++)l+=on[h>>8*d+4&15]+on[h>>8*d&15];return l}var an=function(h,l){var d="";try{d=function(m){for(var y=0;y<m.length;y++)m[y]=eo(m[y]);return m.join("")}(function(m){var y,T=m.length,x=[1732584193,-271733879,-1732584194,271733878];for(y=64;y<=m.length;y+=64)Ai(x,to(m.substring(y-64,y)));m=m.substring(y-64);var D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(y=0;y<m.length;y++)D[y>>2]|=m.charCodeAt(y)<<(y%4<<3);if(D[y>>2]|=128<<(y%4<<3),55<y)for(Ai(x,D),y=0;16>y;y++)D[y]=0;return D[14]=8*T,Ai(x,D),x}(e(h)))}catch(m){l?d="":hj.exceptions.log(m,"md5")}return d};an("hello")!="5d41402abc4b2a76b9719d911017c592"&&(Ee=function(h,l){var d=(65535&h)+(65535&l);return(h>>16)+(l>>16)+(d>>16)<<16|65535&d});var St={id:void 0,attributes:{},init:hj.tryCatch(function(){if(hj.settings.user_attributes_enabled){var h=function(){var l=hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.get()==="true"?hj.bridge.storage.localStorage.USER_ATTRIBUTES.get():void 0;if(l)try{var d=function(m){try{var y=JSON.parse(m);if(y&&$(y)==="object")return!0}catch{}return!1}(l)?l:hj.b64DecodeUnicode(l);return JSON.parse(d)}catch{return}}();h&&(St.id=h.userId,St.attributes=h.attributes,delete St.attributes.contentsquare_replay_link)}},"userAttributes.init"),reset:hj.tryCatch(function(){St.id=void 0,St.attributes={},hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.clear(),hj.bridge.storage.localStorage.USER_ATTRIBUTES.clear()},"userAttributes.reset"),set:hj.tryCatch(function(h,l){var d,m,y,T,x;l&&l.contentsquare_replay_link&&(hj.log.debug("Storing contentsquare_replay_link user attribute: ".concat(l.contentsquare_replay_link),"userAttributes"),St.attributes.contentsquare_replay_link=l.contentsquare_replay_link),hj.settings.user_attributes_enabled?(St.id!==void 0&&St.id!==null&&St.id!==h&&(hj.log.debug("User ID changed, resetting all attributes before continuing.","userAttributes"),St.reset()),St.id=h,St.attributes=(d=St.attributes,m={},y={},[d,l].forEach(function(D){if(D)for(var A in D)Object.prototype.hasOwnProperty.call(D,A)&&A!=="length"&&(m[A]=D[A])}),Object.keys(m).sort().forEach(function(D){y[D]=m[D]}),y),T={attributes:St.attributes,userId:St.id},x=hj.b64EncodeUnicode(JSON.stringify(T)),hj.bridge.storage.localStorage.USER_ATTRIBUTES.set(x),hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.set("true",!0),hj.event.signal("user-attributes-set"),hj.bridge.isRecordingEnabled()?St.flush():hj.log.debug("No recording in progress. Not sending.","userAttributes")):hj.log.debug("User attributes not enabled. Doing nothing.","userAttributes")},"userAttributes.set"),flush:hj.tryCatch(function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hj.hq.noop;if(St.id!==void 0||Object.keys(St.attributes).length){var l=hj.bridge.storage.items.USER_ATTRIBUTES_HASH.get({resetExpiry:!0}),d=hj.md5(JSON.stringify({allAttributes:St.attributes,userId:St.id}));if(l===d)return h(null,St.id,St.attributes),void hj.log.debug("No changed user attributes. Not sending.","userAttributes");hj.bridge.storage.items.USER_ATTRIBUTES_HASH.set(d),hj.debug.isOn()&&function(m,y){hj.ajax.post("".concat(hj.identifyEndpoint,"/sites/").concat(hj.settings.site_id,"/users/").concat(hj.bridge.getSessionUserId(!0),"/validate"),{user_id:m,attributes:y},hj.tryCatch(function(T){T.errors&&Object.keys(T.errors).length>0?hj.log.debug("User validation API call PARTIALLY successful (some errors).","userAttributes",T):hj.log.debug("User validation API call successful.","userAttributes",T)},"userAttributes"),hj.tryCatch(function(T){hj.log.debug("User Attributes validation API call failed.","userAttributes",T.responseText&&JSON.parse(T.responseText)||"unknown_failure")},"userAttributes"))}(St.id,St.attributes),hj.bridge.flushUserAttributes(St.id,St.attributes),h(null,St.id,St.attributes)}else h(Error("no_user"))},"userAttributes.flush"),get:hj.tryCatch(function(h){return h==="user_id"?St.id:h&&St.attributes[h]},"userAttributes.get")},ei={},Ri={"user.id":void 0},so={get:function(h){return Ri[h]},set:function(h,l){Ri[h]=l;var d=ei[h];typeof d=="function"&&l&&(d(l),delete ei[h])},on:function(h,l){ei[h]=l;var d=Ri[h];d&&(l(d),delete ei[h])},reset:function(){ei={},Ri={"user.id":void 0}}},Yn=hj.tryCatch(function(){var h=function(){try{return window.self!==window.top}catch{return!0}}(),l={width:!h&&window.screen?window.screen.width:document.body.clientWidth,height:!h&&window.screen?window.screen.height:document.body.clientHeight};return{width:window.innerWidth||document.documentElement.clientWidth||l.width,height:window.innerHeight||document.documentElement.clientHeight||l.height}},"common"),io=hj.tryCatch(function(){var h,l;if(document&&document.documentElement&&document.documentElement.clientWidth)h=document.documentElement.clientWidth,l=document.documentElement.clientHeight;else{var d=Yn();h=d.width,l=d.height}return{width:h,height:l}},"common"),no=hj.tryCatch(function(h){return h=h||window,{left:hj.hq(h).scrollLeft(),top:hj.hq(h).scrollTop()}},"common"),ro=hj.tryCatch(function(){var h=parseInt(1e3*(hj.hq(window).scrollTop()+hj.ui.getWindowSize().height)/hj.hq(document).height(),10);return Math.min(1e3,h)},"common"),oo=hj.tryCatch(function(h){var l=hj.ui.getScrollPosition();hj.hq(document).on("scroll.hotjarDisable resize.hotjarDisable mousewheel.hotjarDisable DOMMouseScroll.hotjarDisable touchmove.hotjarDisable",hj.tryCatch(function(d){d.preventDefault(),window.scrollTo(l.left,l.top),h&&h()},"common"))},"common"),xc=hj.tryCatch(function(){hj.hq(document).off("scroll.hotjarDisable"),hj.hq(document).off("resize.hotjarDisable"),hj.hq(document).off("mousewheel.hotjarDisable"),hj.hq(document).off("DOMMouseScroll.hotjarDisable"),hj.hq(document).off("touchmove.hotjarDisable")},"common"),Xn={getWindowSize:Yn,getDocumentSize:io,getScrollPosition:no,getBottomAsPercentage:ro,disableScrolling:oo,enableScrolling:xc},ao=function(){var h=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).uuid;hj.debug=o,hj.log=f,hj.hq=V,hj.ajax=bi,hj.uuid=h||window.hj.uuid,hj.encodeAsUtf8=e,hj.b64EncodeUnicode=i,hj.b64DecodeUnicode=r,hj.md5=an,hj.event=w,hj.userAttributes=St,hj.targeting=z,hj.features=Ie,hj.rendering=Ps,hj.ui=Xn,hj.store={session:so}},co=hj.tryCatch(function(){var h=N("hjDebug");h&&(h==="1"||h==="true"?hj.debug.on(!0):hj.debug.off())},"init"),Kn={storage:{},set:hj.tryCatch(function(h){Kn.storage.events=h},"sessionEvents.set"),get:hj.tryCatch(function(){return Kn.storage.events},"sessionEvents.get")};function Pe(h){return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Pe(h)}function cs(){return cs=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(h[m]=d[m])}return h},cs.apply(this,arguments)}function Jn(h,l){return function(d){if(Array.isArray(d))return d}(h)||function(d,m){var y=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(y!=null){var T,x,D,A,j=[],G=!0,K=!1;try{if(D=(y=y.call(d)).next,m===0){if(Object(y)!==y)return;G=!1}else for(;!(G=(T=D.call(y)).done)&&(j.push(T.value),j.length!==m);G=!0);}catch(it){K=!0,x=it}finally{try{if(!G&&y.return!=null&&(A=y.return(),Object(A)!==A))return}finally{if(K)throw x}}return j}}(h,l)||function(d,m){if(d){if(typeof d=="string")return cn(d,m);var y=Object.prototype.toString.call(d).slice(8,-1);return y==="Object"&&d.constructor&&(y=d.constructor.name),y==="Map"||y==="Set"?Array.from(d):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?cn(d,m):void 0}}(h,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cn(h,l){(l==null||l>h.length)&&(l=h.length);for(var d=0,m=new Array(l);d<l;d++)m[d]=h[d];return m}var ln,ls,le,Qn={getAsNumber:function(){var h=hj.bridge.getSessionUserId(!0);return(parseInt((h==null?void 0:h.slice(-10))||"",16)+1)/Math.pow(2,40)},compareRatio:hj.tryCatch(function(h,l){return Qn.getAsNumber()*(l?100:1)<=h},"identifier.compareRatio")},hs=["af","ar","bg","ca","cs","cy","da","de","el","en","es","et","fa","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","mis","nb","nl","pl","pt_BR","pt","ro","ru","sk","sl","sq","sr","sv","sw","th","tl","tr","uk","vi","zh_CN","zh_TW"],Ns=Object.freeze({POPOVER:"popover",FULL_SCREEN:"full_screen",EXTERNAL:"external_link",BUTTON:"button",INLINE_EMBEDDED:"inline",BUBBLE:"bubble",MOBILE_POPOVER:"mobile_popover"}),Zn=hj.tryCatch(function(){hj.widget=function(){var h,l={},d=["ar","fa","he"],m=[],y=[],T=[],x=[],D=!1;return l.ctrl=void 0,l.data=void 0,l.model={},l.activeLanguageDirection="ltr",l.widgetAttributePrefix="_hj-f5b2a1eb-9b07",l.getCtaLinks=function(){return{polls:"https://www.hotjar.com/feedback-surveys?utm_source=client&utm_medium=poll&utm_campaign=insights",surveys:"https://www.hotjar.com/?utm_source=client&utm_medium=survey&utm_campaign=insights"}},l.getActiveLanguage=function(){var A;return(A=h)!==null&&A!==void 0?A:"en"},l.addMatchingWidget=function(A,j,G,K,it,a,E,S){var b=E===Ns.INLINE_EMBEDDED;if(K===void 0||hj.isPreview||Qn.compareRatio(K,!0)){var g={type:A,id:j,created:G,runCallback:it,removeCallback:a,isInlineEmbedded:b,targetingRules:S,displayType:E};D?l.setActiveWidget(g):((b?y:m).push(g),b&&x.push(g))}else hj.log.debug("Session identifier not in targeting percentage. Widget will not match.","targeting")},l.clearWidget=hj.tryCatch(function(){var A="#_hj_poll_container,._hj-widget-container";hj.hq(A).length>0&&(hj.log.debug("Removing previously shown widget from DOM","widgets"),hj.hq(A).remove())},"widgets"),l.emptyMatchingWidgets=function(){m=[],y=[],T.forEach(function(A){A()}),T=[],D=!1},l.isPhoneOrTablet=hj.tryCatch(function(){return hj.widget.isVeryNarrowScreen()||M()==="phone"||M()==="tablet"},"common"),l.isVeryNarrowScreen=hj.tryCatch(function(){return hj.hq(window).width()<=450},"common"),l.removeActiveWidget=function(A){hj.widgetDelay.clear(),Ps.clearAllAbandonEvents(),Ps.clearAllScrollEvents(),A=A||function(){},l.activeWidget?(l.activeWidget.removeCallback&&l.activeWidget.removeCallback(A),delete l.activeWidget):A()},l.runLatestMatchingWidget=function(){var A,j;m.forEach(function(G){var K=function(it){return it.type==="incoming"||it.displayType==="button"||it.displayType==="bubble"?0:1}(G);(!A||K>j||K===j&&G.created>A.created)&&(A=G,j=K)}),A?l.setActiveWidget(A):l.removeActiveWidget(),D=!0},l.runInlineEmbeddedWidgets=function(){x=x.filter(function(A){var j=hj.targeting.matchUrl(A.targetingRules,location.href);return j||A.removeCallback(),j}),y.forEach(function(A){A.runCallback()})},l.setActiveWidget=function(A){l.activeWidget&&A.type===l.activeWidget.type&&A.id===l.activeWidget.id||l.removeActiveWidget(function(){A.runCallback(),l.activeWidget=A})},l.setLanguage=hj.tryCatch(function(A){var j=(A||"en").replace("-","_");if(!hs.includes(j))throw new Error('Invalid language "'+A+'"');h=j,hj.widget.activeLanguageDirection=d.indexOf(j)>-1?"rtl":"ltr",hj.widget.isActiveLanguageDirectionRtl=hj.widget.activeLanguageDirection==="rtl"},"common"),l.registerCleanupForInlineWidget=function(A){T.push(A)},l}(),hj.widgetDelay=function(){var h={},l=null;return h.clear=hj.tryCatch(function(){clearTimeout(l),l=null},"hj.widgetDelay.clear"),h.set=hj.tryCatch(function(d,m){h.clear(),l=setTimeout(d,m)},"hj.widgetDelay.set"),h}()},"widgets"),mt=Object.freeze({LIVE:"LIVE",REVIEW_WEBAPP:"REVIEW_WEBAPP",REVIEW:"REVIEW",STAGING:"STAGING",DEV:"DEV",DEV_OLD:"DEV_OLD"}),si=(ln=(le=document.location.host.match(/^(insights-webapp|surveys-webapp|insights|surveys)-(.*?)((?:\.[^.]+)?(?:\.hotjarians\.net)|(?:\.[^.]+)?(?:\.eks\.hotjar\.com))$/))&&{component:le[1],reviewId:le[2],domain:le[3],reviewUrlSuffix:le[2]+le[3]})===null||ln===void 0?void 0:ln.reviewUrlSuffix,qt=Object.freeze(((ls={})[mt.LIVE]={INSIGHTS:"insights.hotjar.com",SURVEYS:"surveys.hotjar.com"},ls[mt.REVIEW]={INSIGHTS:"insights-".concat(si),SURVEYS:"surveys-".concat(si)},ls[mt.REVIEW_WEBAPP]={INSIGHTS:"insights-webapp-".concat(si),SURVEYS:"surveys-webapp-".concat(si)},ls[mt.STAGING]={INSIGHTS:"insights-staging.hotjar.com",SURVEYS:"surveys-staging.hotjar.com"},ls[mt.DEV]={INSIGHTS:"local.hotjar.com:8443",SURVEYS:"surveys.local.hotjar.com:8443"},ls[mt.DEV_OLD]={INSIGHTS:"local.hotjar.com",SURVEYS:"surveys.local.hotjar.com"},ls)),us=function(h){return function(l,d){return l===qt[h][d]}},fe=us(mt.DEV),lo=us(mt.DEV_OLD),hn=us(mt.LIVE),ho=us(mt.REVIEW_WEBAPP),uo=us(mt.REVIEW),Ci=us(mt.STAGING),tr=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.location.href,l=[qt[mt.LIVE].SURVEYS,qt[mt.REVIEW_WEBAPP].SURVEYS,qt[mt.REVIEW].SURVEYS,qt[mt.STAGING].SURVEYS,qt[mt.DEV].SURVEYS,qt[mt.DEV_OLD].SURVEYS],d=document.createElement("a");return d.href=h,l.indexOf(d.hostname)>=0},er={popover:{isExternal:!1,allowsScreenshots:!0},full_screen:{isExternal:!1,allowsScreenshots:!0},inline:{isExternal:!1,allowsScreenshots:!0},button:{isExternal:!1,allowsScreenshots:!0},bubble:{isExternal:!1,allowsScreenshots:!0},external_link:{isExternal:!0,allowsScreenshots:!1},mobile_popover:{isExternal:!0,allowsScreenshots:!1}},sr=function(h){return er[h].isExternal},po=(Object.freeze({LAST_RECORDING_ACTIVITY_STORE_DEBOUNCE:5e3,MAX_TIME_SINCE_LAST_RECORDING_ACTIVITY_IN_SESSION:12e4}),window.hjLazyModules,"js"),ds=(Object.freeze({id:null,selector_version:2}),function(h){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:go,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mo,m=0,y=!1;function T(){--m!=0||y||l.bind(this)()}function x(){y=!0,d.bind(this)()}Object.keys(h).forEach(function(D){var A=h[D];typeof A=="string"&&(A=[A]),m+=A.length,A.forEach(function(j){fo(j,D,T,x)})})}),fo=function(h,l,d,m){var y;l===po?(y=document.createElement("script")).src="".concat(hj.scriptDomain).concat(h):l==="css"&&((y=document.createElement("link")).href="".concat(hj.scriptDomain).concat(h),y.rel="stylesheet"),y.onload=d,y.onerror=m,document.getElementsByTagName("head")[0].appendChild(y)};function go(){}function mo(){var h=this.src||this.href;hj.exceptions.log(new Error("Failed to load module: ".concat(h,".")),"loader")}var yo=function(h,l){var d,m;if(hj.isPreview)return!1;var y=((d=h.targeting)===null||d===void 0?void 0:d.filter(function(A){return A.component==="url"}))||[],T=(m=h.targeting)===null||m===void 0?void 0:m.some(function(A){return A.component==="trigger"}),x=h.display_type===Ns.EXTERNAL||h.display_type===Ns.MOBILE_POPOVER,D=T||x||hj.targeting.matchUrl(y,hj.currentUrl)===!0;return hj.tryCatch(function(){if(!D)throw new Error("Rendered survey out of URL targeting in ".concat(l," with ID: ").concat(h.id))},"render-out-of-targeting")(),!D};function Eo(h,l){for(var d=h.querySelectorAll(l),m=0;m<d.length;m++){var y=d[m];y&&y.parentElement&&y.parentElement.removeChild(y)}}var un=hj.tryCatch(function(){hj.surveyImpressionsMoved=!0,hj.polls=function(){var h,l={},d=window.hjLazyModules,m=hj.tryCatch(function(A,j){yo(A,"doRenderSurvey")||hj.widget.renderSurvey(A,j)},"polls");function y(){return d.SURVEY_V2}var T=hj.tryCatch(function(A,j){if(!yo(A,"renderWidget")){hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[A.id]=A,hj.widget.pollsResponsesUUID=hj.widget.pollsResponsesUUID||{},hj.widget.pollsResponsesUUID[A.id]=hj.uuid(),hj.widget.setLanguage(A.language),hj.log.debug("Rendering poll widget.","poll");var G=y();G!==h?ds(y(),function(){h=G,m(A,j)}):m(A,j)}},"polls"),x=hj.tryCatch(function(A){var j=JSON.parse(JSON.stringify(A));return function(G){hj.hq.each(G.content.questions,function(K,it){it.answers&&hj.hq.each(it.answers,function(a,E){E.index=a})})}(j),function(G){hj.hq.each(G.content.questions,function(K,it){it.randomize_answer_order&&(it.pin_last_to_bottom?it.answers=q(it.answers.slice(0,-1)).concat(it.answers.slice(-1)):q(it.answers))})}(j),j},"polls"),D=hj.tryCatch(function(A,j){hj.widget.pollsData=hj.widget.pollsData||{};var G=x(A);hj.widget.pollsData[A.id]=G,hj.settings.legal_name=A.legal_name,hj.settings.privacy_policy_url=A.privacy_policy_url,j&&(hj.settings.features=j),hj.tryCatch(function(){T(G)},G,"polls")()},"polls");return l.add=hj.tryCatch(function(A){hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[A.id]=x(A),hj.tryCatch(Ps.callAccordingToCondition,"polls")(hj.widget.pollsData[A.id],"poll",T)},"polls"),l.addEmbedded=hj.tryCatch(function(A,j){hj.widget.emptyMatchingWidgets();var G=A.display_type==="external_link"?void 0:A.targeting_percentage;hj.widget.addMatchingWidget("poll",A.id,A.created_epoch_time,G,function(){var K=x(A),it=K.display_type===Ns.MOBILE_POPOVER;it||(K.skin="light",K.background="#ffffff",K.pageBackground=A.background),hj.bridge.storage.items.POLL_DONE.exists(A.id)&&A.persist_condition!=="always"&&(hj.log.debug("Offsite poll "+A.id+" was already submitted.","poll"),K.is_submitted=!0),hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[K.id]=K,T(K,j[0]),typeof window.hjRenderCallback!="function"||it||window.hjRenderCallback({background:A.background})},l.remove,A.display_type)},"polls"),l.handleSurveyEvent=hj.tryCatch(function(A){var j;A.detail.event==="surveyClosed"&&A.detail.surveyId===((j=hj.widget.activeWidget)===null||j===void 0?void 0:j.id)&&hj.widget.removeActiveWidget()}),l.remove=hj.tryCatch(function(A,j){hj.widget.pollsData[j]?(Eo(document.body,".".concat("_hj-widget-container")),Eo(document.body,".".concat("_hj-widget-iframe")),delete hj.widget.pollsData[j],A&&setTimeout(function(){A()},1)):A&&A()},"polls"),l.run=hj.tryCatch(function(A){var j;if(hj.hq("._hj-survey-embed-container").length>0){var G,K=hj.hq("._hj-survey-embed-container"),it=K.attr("data-survey-id"),a=(G=hj.settings.polls)===null||G===void 0?void 0:G.find(function(S){return sr(S.display_type)&&S.uuid==it});if(a!==void 0)return hj.log.debug("Offsite poll #".concat(a.id," has matched with the embedded UUID ").concat(it),"poll"),void l.addEmbedded(a,K)}if(tr(A))return hj.hq(document).trigger("hj-embedded-survey-mismatch"),hj.widgetDelay.clear(),hj.widget.emptyMatchingWidgets(),void hj.log.debug("Could not match the embedded UUID.","poll");var E=(j=hj.settings.polls)===null||j===void 0?void 0:j.filter(function(S){return b=S.display_type,er[b]!==void 0&&!sr(S.display_type);var b});E==null||E.forEach(function(S){hj.targeting.matchRules({rules:S.targeting,userAttributeMatchLogic:S.targeting_user_attribute_match_logic},A,hj.tryCatch(function(){hj.log.debug("Poll #"+S.id+" has matched.","poll"),hj.bridge.storage.items.POLL_DONE.exists(S.id)&&S.persist_condition!=="always"?hj.log.debug("Poll was already submitted.","poll"):hj.widget.addMatchingWidget("poll",S.id,S.created_epoch_time,S.targeting_percentage,function(){return l.add(S)},function(b){return l.remove(b,S.id)},S.display_type,S.targeting)},"polls.run.matchRules-callback"))})},"polls"),l.enablePreview=function(){window._hjPollReload=D},hj.isPreview&&l.enablePreview(),window.addEventListener("hotjar-survey-event",l.handleSurveyEvent),l}()},"polls"),ir=Object.freeze({MODAL:"_hj-modal",FOOTER:"_hj-footer",SURVEY_INVITES:"_hj_survey_invite_container",HEATMAP_RETAKER:"_hj-heatmap-retaker",ADMIN_WIDGET:"_hj_admin_widget",NOTICATION:"_hj-notification"}),So=(Object.freeze({RETAKER:"_hjRetakerTrsToken",TARGETING:"_hjRetakerTargeting"}),function(h){if(h){if(h.startsWith("data:image")||h.startsWith("blob:")||h.startsWith("http"))return h;var l=hj.environment==="live"?hj.surveyImagesHost:"d23waydkwbngmu.cloudfront.net";return"https://".concat(l,"/").concat(h)}}),vo=function(){var h={},l=window.hjLazyModules;function d(m){return m.display_type===Ns.EXTERNAL?function(y,T){if(T)return"https://".concat(T,"/").concat(y);var x=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"INSIGHTS",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.location.host;return hn(j,A)?mt.LIVE:fe(j,A)?mt.DEV:lo(j,A)?mt.DEV_OLD:ho(j,A)?mt.REVIEW_WEBAPP:uo(j,A)?mt.REVIEW:Ci(j,A)?mt.STAGING:mt.LIVE}(),D=qt[x].SURVEYS;return"https://".concat(D,"/").concat(y)}(m.uuid,hj.surveysHost):m.public_url}return h.run=hj.tryCatch(function(m){if(!tr(m)){var y=(hj.settings.polls||[]).filter(function(x){return x.invite_enabled&&x.display_type===Ns.EXTERNAL}),T=(hj.settings.surveys||[]).concat(y);hj.hq.each(T||[],function(x,D){z.matchRules({rules:D.targeting,userAttributeMatchLogic:D.targeting_user_attribute_match_logic},m,hj.tryCatch(function(){hj.log.debug("Survey #"+D.id+" has matched.","survey"),hj.bridge.storage.items.SURVEY_INVITES_CLOSED.exists(D.id)?hj.log.debug("Survey was already viewed.","survey"):hj.widget.addMatchingWidget("survey",D.id,D.created_epoch_time,D.targeting_percentage,function(){hj.survey.data=D,Ps.callAccordingToCondition(hj.survey.data,"survey",hj.tryCatch(function(){var A;A=hj.survey.data,hj.widget.surveyInvitationData={id:A.id,title:A.invite.title,description:A.invite.description,button:A.invite.button,close:A.invite.close,url:d(A),logoUrl:So(A.logo_path||A.logo_url)},ds(l.SURVEY_INVITATION)},"polls"))},h.remove)},"surveys.run.matchRules-callback"))})}},"surveys"),h.remove=hj.tryCatch(function(m){hj.survey.data?(hj.hq(".".concat(ir.SURVEY_INVITES)).length>0&&hj.hq(".".concat(ir.SURVEY_INVITES)).remove(),delete hj.survey.data,m&&setTimeout(function(){m()},1)):m&&m()}),h},_o=hj.tryCatch(function(){hj.survey={invites:vo(),ctrl:void 0,data:void 0,model:{},activeLanguageDirection:"ltr"}},"surveys");function ct(){return ct=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(h[m]=d[m])}return h},ct.apply(this,arguments)}var Ve="https://voc.hotjar.com",he=[Ve,"https://voc.ew1-integration-1.hotjarians.net","https://hj-engage-unmoderated-review.s3.eu-west-1.amazonaws.com"],dn="hj-uut",ps={get:function(){var h=window.sessionStorage.getItem(dn);return h?JSON.parse(h):null},getValue:function(h){var l=ps.get();return l==null?void 0:l[h]},set:function(h){if(h){var l,d=(l=ps.get())!==null&&l!==void 0?l:{};window.sessionStorage.setItem(dn,JSON.stringify(ct(ct({},d),h)))}},clear:function(){window.sessionStorage.removeItem(dn)},validDomains:he},Ii=function(h){var l=new URLSearchParams(h);return!!l.has("project_uuid")||(l.get("is_preview")==="1"?l.has("task_uuid"):l.has("response_uuid")&&l.has("task_uuid")&&l.has("participation_uuid"))},Pi=function(){var h,l=(h=function(){var y=document.referrer;if(typeof y=="string"&&function(T){if(typeof T!="string")return!1;try{var x=new URL(T),D=x.searchParams.get("is_preview")==="1";return!!he.some(function(A){return T==null?void 0:T.includes(A)})||!!D&&x.hostname.endsWith(".hotjar.com")&&x.pathname.includes("research/projects/tests")}catch{return!1}}(y)&&Ii(new URL(y).search))return y}())!==null&&h!==void 0?h:function(){var y=new URLSearchParams(window.location.search).get("hj_uut");if(he.some(function(D){var A;return(A=document.referrer)===null||A===void 0?void 0:A.includes(D)})&&y){var T=window.atob(y);if(Ii(T)){var x=new URL(Ve);return x.search=T,x.toString()}}}(),d=l!==void 0,m=ps.get()!==null;return d&&ps.set({referrer:l}),m||d},ii=!1,Oi=function(){ii||(function(){try{hj.request=function(){var h,l,d=(l=hj.askUrl||((h=hj.defaults)===null||h===void 0?void 0:h.askUrl),{v1:"".concat(l,"api/v1"),v2:"".concat(l,"api/v2")}),m={},y={granted:null,callbacks:[],inProgress:!1},T=function(){return hj.bridge.getSessionUserId(!0)||""},x=[],D=!1;function A(j,G,K,it){x.push([j,G,K,it]),D||function a(){if(x.length!==0){D=!0;var E=function(C,k,nt){if(k&&!Array.isArray(k)&&typeof k.length=="number"){var et=k.length;return cn(k,4<et?4:et)}return C(k,4)}(Jn,x.shift()),S=E[0],b=E[1],g=E[2],O=E[3];hj.ajax.post(S,b,function(C){try{g&&g(C)}finally{a()}},function(C){try{O&&O(C)}finally{a()}})}else D=!1}()}return m.getConsentGranted=hj.tryCatch(function(j){var G,K="?";y.granted!==null&&j?j(y.granted):(j&&y.callbacks.push(j),y.inProgress||(K+="user_id="+T(),y.inProgress=!0,hj.ajax.get("".concat(hj.apiUrlBase,"/sites/").concat(hj.settings.site_id,"/consent").concat(K),function(it){for(y.granted=!!it.success&&it.scopes.indexOf("associate")!==-1,y.inProgress=!1;G=y.callbacks.pop();)hj.tryCatch(G,"ConsentData")(y.granted)},function(){for(y.granted=!1,y.inProgress=!1;G=y.callbacks.pop();)hj.tryCatch(G,"ConsentData")(y.granted)})))},"hj.request.getConsentGranted"),m.grantConsent=hj.tryCatch(function(j,G){j.user_id=T(),j.action="grant_for_response",A("".concat(hj.apiUrlBase,"/sites/").concat(hj.settings.site_id,"/consent/associate"),j,function(K){y.granted=!!K.success,G&&hj.tryCatch(G,"GrantConsent")(y.granted)},function(){y.granted=!1})},"hj.request.getConsent"),m.savePollResponse=hj.tryCatch(function(j,G,K,it,a){var E=hj.widget.pollsResponsesUUID[j];K.action="create_or_update_poll_response";var S=Kn.get();S&&(K.events=hj.hq.stringify(S)),function(b,g,O,C,k){var nt=Z();O.window_width=O.window_width||nt.width,O.window_height=O.window_height||nt.height,O.user_id=g?T():void 0,O.url=location.href,O.account_id=hj.settings.account_id||null,O.payload_signature=hj.settings.account_signature||null,hj.userAttributes.flush(function(et,Qt,ue){if(et){O.identify_user_id=hj.userAttributes.get("user_id")||null;var wt=hj.userAttributes.get("contentsquare_replay_link");wt&&(O.identify_attributes={contentsquare_replay_link:wt})}else O.identify_user_id=Qt,O.identify_attributes=ue;if(hj.sdk!==void 0){O.language=hj.sdk.getDeviceLanguage();var ys={contentsquare_replay_link:hj.sdk.getReplayLink()};O.identify_attributes=cs(cs({},Pe(O.identify_attributes)==="object"?O.identify_attributes:void 0),ys)}A(b,O,function(xs){C&&C(xs)},function(){k&&k(new Error("Error sending response"))})})}("".concat(d.v2,"/client/sites/").concat(hj.settings.site_id,"/poll/").concat(j,"/response/").concat(E),G,K,function(b){b.is_new_response&&hj.event.signal("poll.send",{id:j,response_id:b.poll_response_id}),it==null||it(b)},a)},"data"),m.completePollResponse=hj.tryCatch(function(j,G){var K=hj.widget.pollsResponsesUUID[j];A("".concat(d.v2,"/client/sites/").concat(hj.settings.site_id,"/poll/").concat(j,"/response/").concat(K),{action:"finish_poll_response",completion_time_from_engagement_ms:G.fromEngagement,completion_time_from_render_ms:G.fromRender})},"data"),m}()}catch(h){hj.exceptions.log(h,"hj.request")}}(),Zn(),un(),_o(),ii=!0)},fs=function(h){hj.widget&&(Pi()?ds(window.hjLazyModules.USER_TEST,function(){var l,d;(l=(d=hj.widget).initUserTest)===null||l===void 0||l.call(d)},function(){hj.log.error("Failed to load user test module")}):(hj.widget.emptyMatchingWidgets(),hj.polls.run(h),hj.survey.invites.run(h),hj.widget.runLatestMatchingWidget(),hj.widget.runInlineEmbeddedWidgets()))},je=gt("ab-tasty","integration");function xt(){return window.ABTasty!==void 0&&window.ABTasty.hitServiceNotifierSubscribe!==void 0}var ni={setup:hj.tryCatch(function(){function h(l){if(l.type==="CAMPAIGN"&&l.data&&l.data.caname&&l.data.vaname){var d=l.data,m=d.caname,y=d.vaname;je("AB Tasty campaign '".concat(m,"' is on variant '").concat(y,"'"),l),hj.event.signal("exp.abt",{experimentId:m,variantId:y},!0);var T=Vt("".concat(m,"-").concat(y));hj("event",T),je("Sending event '".concat(T,"'"))}else je("Invalid AB Tasty event",l)}at(xt,function(l){l?(je("AB Tasty global object found"),window.ABTasty.hitServiceNotifierSubscribe(h,"CAMPAIGN",{withHitHistory:!0})):je("AB Tasty global object not found")},2e3,10)},"abTasty.setup")};function Oe(){return Oe=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(h[m]=d[m])}return h},Oe.apply(this,arguments)}function Ms(h,l){return function(d){if(Array.isArray(d))return d}(h)||function(d,m){var y=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(y!=null){var T,x,D,A,j=[],G=!0,K=!1;try{if(D=(y=y.call(d)).next,m===0){if(Object(y)!==y)return;G=!1}else for(;!(G=(T=D.call(y)).done)&&(j.push(T.value),j.length!==m);G=!0);}catch(it){K=!0,x=it}finally{try{if(!G&&y.return!=null&&(A=y.return(),Object(A)!==A))return}finally{if(K)throw x}}return j}}(h,l)||function(d,m){if(d){if(typeof d=="string")return pn(d,m);var y=Object.prototype.toString.call(d).slice(8,-1);return y==="Object"&&d.constructor&&(y=d.constructor.name),y==="Map"||y==="Set"?Array.from(d):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?pn(d,m):void 0}}(h,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pn(h,l){(l==null||l>h.length)&&(l=h.length);for(var d=0,m=new Array(l);d<l;d++)m[d]=h[d];return m}function He(){var h;return typeof window[(h=window.GoogleAnalyticsObject)!==null&&h!==void 0?h:"ga"]=="function"}function Ni(h,l){!l||!l.length||l.length<2||l[0]!=="event"||Be(h,{action:l[1],category:l[2]&&l[2].event_category||"",label:l[2]&&l[2].event_label||"",value:l[2]&&l[2].value||""})}function Be(h,l){if(!function(y){return y.action==="detect_user"&&y.category==="Hotjar"}(l)){var d=function(y){return"GA_"+[y.action,y.category,y.label,y.value].filter(function(T){return T===0||!!T}).join("-")}(l),m=function(y){return"GA_"+y.action}(l);hj.log.debug("intercepting ".concat(h,": ")+JSON.stringify(l)),hj("event",d),d!==m&&hj("event",m),hj.event.signal("int.ga",l)}}var ri,Ne,Se,Lt={gaClientSent:!1,gtagClientSent:!1,dataLayerSent:!1},lt=function(h){return Lt[h]},Me=function(h,l){Lt[h]&&(Lt[h]=l)},fn=gt("ga.forward_events","integration"),gn=!1,gs={setup:hj.tryCatch(function(){if(!gn){gn=!0;var h=He(),l=typeof window.gtag=="function";at(function(){return window.dataLayer!==void 0&&window.dataLayer.length!==void 0},function(d){if(d)return fn("Intercepting dataLayer"),function(){var y=window.dataLayer;if(y._hj!==!0){y.forEach(function(x){Ni("dataLayer",x)});var T=y.push;y.push=function(){T.apply(y,arguments),Ni("dataLayer",arguments[0])},y._hj=!0}}(),void(lt("dataLayerSent")||(hj.metrics.count("ga-version",{tag:{version:"datalayer"}}),Me("dataLayerSent",!0)));var m;l&&(fn("Intercepting gtag"),m=window.gtag,window.gtag=function(){var y=Array.prototype.slice.call(arguments);m.apply(null,y),Ni("gtag",y)},lt("gtagClientSent")||(hj.metrics.count("ga-version",{tag:{version:"gtag"}}),Me("gtagClientSent",!0)))},3e3,5),h&&(fn("Intercepting ga"),(0,window[window.GoogleAnalyticsObject||"ga"])(function(d){var m=d.get("sendHitTask");d.set("sendHitTask",function(y){m(y);var T=function(x){var D=decodeURIComponent(x).split("&").map(function(A){return A.split("=")}).filter(function(A){var j=function(G,K,it){if(K&&!Array.isArray(K)&&typeof K.length=="number"){var a=K.length;return pn(K,1<a?1:a)}return G(K,1)}(Ms,A)[0];return["t","ec","ea","el","ev"].indexOf(j)>-1}).reduce(function(A,j){var G;return Oe(Oe({},A),{},((G={})[j[0]]=j[1],G))},{});return D.t?{event:D.t,category:D.ec||"",action:D.ea||"",label:D.el||"",value:D.ev||""}:{}}(y.get("hitPayload"));T.event==="event"&&Be("ga",T)})}),lt("gaClientSent")||(hj.metrics.count("ga-version",{tag:{version:"ga"}}),Me("gaClientSent",!0)))}},"ga.forward_events")},ks=gt("ga.send_hjuid"),Mi=60,We=!0,nr=!1,wo=hj.tryCatch(function(){nr||(nr=!0,hj.store.session.on("user.id",function(h){typeof h!="string"||h.length<8?ks("invalid userid: '".concat(h,"'")):(ks("got userId"),Ne=h.substring(0,8),rr())}),ve())},"integrations.googleAnalytics"),ve=hj.tryCatch(function(){if(!ri){if(He()){lt("gaClientSent")||(hj.metrics.count("ga-version",{tag:{version:"ga"}}),Me("gaClientSent",!0));var h=window[window.GoogleAnalyticsObject||"ga"];return ks("`ga` variable is available, waiting for tracker."),void h(function(l){Ds(l,!0)})}Mi<=0?ks("given up looking for GA module"):(Mi-=1,setTimeout(ve,500))}},"integrations"),Ds=hj.tryCatch(function(h,l){h&&(ri&&l||(ri!==h&&(ks("got fresh tracker"),We=!0),ri=h,rr()))},"integrations"),rr=hj.tryCatch(function(){We&&Ne&&ri&&(We=!1,ri.send("event","Hotjar","detect_user",Ne,{nonInteraction:1}),ks("successfully sent detect_user event"))},"integrations"),bo={setup:wo,setTracker:hj.tryCatch(function(h){Ds(h,!1)},"integrations.googleAnalytics")},mn=gt("ga.send_hjuid_gtag"),yn=!1,To=hj.tryCatch(function(){if(!yn){yn=!0;var h=window.dataLayer;h!==void 0?(lt("datalayerSent")||(hj.metrics.count("ga-version",{tag:{version:"datalayer"}}),Me("datalayerSent",!0)),lt("gtagClientSent")||(hj.metrics.count("ga-version",{tag:{version:"gtag"}}),Me("gtagClientSent",!0)),hj.store.session.on("user.id",function(d){if(d&&typeof d=="string"&&!(d.length<8)){var m=d.substring(0,8);l("set","user_properties",{hjuid:m}),l("event","detect_user",{event_category:"Hotjar",event_label:m,non_interaction:!0})}})):mn("`dataLayer` is undefined")}function l(){var d;mn("calling gtag(".concat((d=arguments,Array.from(d).map(function(m){return JSON.stringify(m)})),")")),h.push(arguments)}},"ga.send_hjuid_gtag"),ki={forwardEvents:gs,sendHotjarUserId:bo,sendHotjarUserIdGtag:{setup:To}},Ao=function(){return hj.bridge.storage.items.HUBSPOT_UTK.get()!==null},En=gt("hubspot","integrations"),Ro={setup:hj.tryCatch(function(){En("HubSpot setup started"),at(Ao,function(h){if(h){var l=hj.bridge.storage.items.HUBSPOT_UTK.get();En("HubSpot UTK found: ".concat(l)),hj.event.signal("int.hubspot",{utk:l})}else En("HubSpot UTK cookie not found")},5e3,5)},"hubspot.setup")},Co=gt("kissmetrics","integration"),Io=function(){return window.KM!==void 0&&window.KM.i!==void 0},Po={setup:hj.tryCatch(function(){at(Io,function(h){if(h){var l=window.KM.i();Co("Kissmetrics User ID found: ".concat(l)),hj("identify",null,{kissmetrics_id:l})}},5e3,5)},"kissmetrics.setup")},Sn=gt("mixpanel.send_events"),Oo=function(){return window.mixpanel!==void 0&&window.mixpanel.set_config!==void 0},No={setup:hj.tryCatch(function(){at(Oo,function(h){var l,d,m,y;h?(Sn("Registering mixpanel hook"),!Se&&(l=window.mixpanel.config)!==null&&l!==void 0&&(d=l.hooks)!==null&&d!==void 0&&d.before_send_events&&(Se=(m=window.mixpanel.config)===null||m===void 0||(y=m.hooks)===null||y===void 0?void 0:y.before_send_events),window.mixpanel.set_config({hooks:{before_send_events:function(T){Se&&Se(T);var x=Vt(T.event);return Sn("sending mixpanel payload: ".concat(T.event)),hj("event","MP_".concat(x)),hj.event.signal("int.mp",{event:x}),T}}})):Sn("mixpanel global object not found or set_config not ready")},3e3,5)},"mixpanel.setup")},Di=gt("optimizely","integration"),ms=window.optimizely;function or(){Di("looking for tags.");var h=ms.get("state").getExperimentStates({isActive:!0});for(var l in h){var d=h[l],m=(d.isInExperimentHoldback?"HB_":"")+d.experimentName,y=d.variation.name||d.variation.id;hj.event.signal("exp.opt",{experimentId:m,variantId:y}),hj("event",m+"/"+y)}}var Mo={setup:hj.tryCatch(function(){ms!==void 0&&typeof ms.push=="function"&&typeof ms.get=="function"&&ms.get("state")!==void 0&&ms.get("data")!==void 0?(Di("listening for campaignDecided event."),(ms=window.optimizely||[]).push({type:"addListener",filter:{name:"campaignDecided"},handler:function(h){h.name==="applied"&&(Di("campaign decided; ready to tag experiments."),or())}}),or()):Di("`window.optimizely` is not ready")},"optimizely.setup")},oi={setup:hj.tryCatch(function(){window.ub!==void 0&&window.ub.page!==void 0&&window.ub.page.variantId!==void 0?(hj.log.debug("Unbounce experiment in page '".concat(window.ub.page.name,"' is on variant '").concat(window.ub.page.variantId,"'"),"integration",window.ub),hj.event.signal("exp.ub",{experimentId:window.ub.page.name,variantId:window.ub.page.variantId}),hj("event","".concat(Vt(window.ub.page.name),"-variant-").concat(window.ub.page.variantId))):hj.log.debug("Unbounce experiment not found","integration")},"unbounce.setup")},ko=hj.tryCatch(function(){var h=hj.settings.integrations;if(h){var l=hj.bridge.getSessionUserId();hj.store.session.set("user.id",l),h.optimizely&&h.optimizely.tag_recordings&&Mo.setup(),h.google_analytics&&(h.google_analytics.tag_sessions&&ki.forwardEvents.setup(),h.google_analytics.send_hotjar_id&&(ki.sendHotjarUserId.setup(),ki.sendHotjarUserIdGtag.setup())),h.unbounce&&h.unbounce.tag_recordings&&oi.setup(),h.mixpanel&&h.mixpanel.send_events&&No.setup(),h.hubspot&&h.hubspot.enabled&&h.hubspot.send_recordings&&Ro.setup(),h.abtasty&&h.abtasty.tag_recordings&&ni.setup(),h.kissmetrics&&h.kissmetrics.send_user_id&&Po.setup()}},"integrations"),ar=!1,ai=function(h){var l=h.title,d=h.message,m=h.status,y=window.hjLazyModules;ar?hj.widget.renderNotificationWidget({title:l,message:d,status:m}):ds(y.NOTIFICATION,function(){ar=!0,hj.widget.renderNotificationWidget({title:l,message:d,status:m})})};function ci(){return ci=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(h[m]=d[m])}return h},ci.apply(this,arguments)}var Ye,li=(Ye={_sendVerifyInstallation:function(h){var l="".concat(hj.apiUrlBase,"/client/sites/").concat(hj.settings.site_id,"/verify-installation?sv=").concat(_hjSettings.hjsv||0);hj.ajax.post(l,{},hj.tryCatch(h,"init._sendVerifyInstallation"))},_reportVerificationResults:function(h,l,d){if(h){var m=Ie.hasFeature("tcvs_v2")?"https://".concat(hj.environment==="live"?"tcvsapi.contentsquare.com":"gateway-tcvs.staging.eu-west-1.csq.io","/v1/verification/").concat(h,"/result"):"".concat(hj.apiUrlBase,"/tcvs/verification/").concat(h,"/result"),y=ci(ci({},d&&{error_detail:d}),{},{status:l});(Ie.hasFeature("tcvs_v2")?hj.ajax.postAsJSON:hj.ajax.post)(m,y,function(){hj.tcVerificationResultsSent=!0},function(T){T&&T.status!==400&&T.status!==404&&hj.exceptions.log(new Error("TCVS endpoint failed"),"init._reportVerificationResults"),hj.tcVerificationResultsSent=!0})}}},{verifyInstallationAuto:function(){if(hj.settings.tracking_code_verified)hj.log.debug("Tracking code verified.","init");else{hj.log.debug("Tracking code verified not found, updating first data.","init");var h="".concat(hj.apiUrlBase,"/client/sites/").concat(hj.settings.site_id,"/verify-installation/auto");hj.ajax.post(h,{},void 0,function(l){hj.exceptions.log(new Error("Url: ".concat(h," - Status: ").concat(l.status)),"init._verifyInstallationAuto")})}},verifyInstallation:function(){var h,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Hotjar",d=N("hjVerifyInstall"),m=N("hjVerifyUUID"),y=function(){ai({title:"".concat(l," installation invalid"),message:"The tracking code you are trying to verify does not match the one installed on this page. Please make sure you install the correct tracking code provided for this site.",status:"bad"}),Ye._reportVerificationResults(m,"wrong_code",{expected:String(hj.verifyInstall),actual:String(hjSiteSettings.site_id)});var K="Passed Site ID: ".concat(hj.verifyInstall," != Configured Site ").concat(hj.settings.site_id);hj.exceptions.log(new Error(K),"init._verifyInstallation")};try{h=sessionStorage.getItem("hjVerifyInstall")}catch{}if(d||h){hj.verifyInstall=parseInt(d||h);try{sessionStorage.setItem("hjVerifyInstall",d||h)}catch{}if(window.hjBootstrapCalled&&window.hjBootstrapCalled.length>1){var T,x=window.hjBootstrapCalled.filter(function(K,it){return window.hjBootstrapCalled.indexOf(K)===it}),D="You have "+window.hjBootstrapCalled.length+" tracking scripts installed on your site. ",A=window.hjBootstrapCalled.length===2?"script as this":"scripts as these",j=!!window.dataLayer;x.length>1?(T=D+"Please remove the duplicate "+A+" will cause issues.",ai({title:"Multiple different ".concat(l," scripts detected"),message:T,status:"bad"}),Ye._reportVerificationResults(m,"multiple_codes",{expected:String(hj.verifyInstall),actual:x,gtm:!1})):j?(T=D+"If you've installed ".concat(l," through GTM - please remove the duplicate ")+A+" will cause issues.",Ye._reportVerificationResults(m,"multiple_codes",{expected:String(hj.verifyInstall),actual:x,gtm:!0}),ai({title:"Multiple ".concat(l," scripts detected"),message:T,status:"bad"})):hj.verifyInstall===hj.settings.site_id?(T=D+"This will not affect data collection, but we do suggest removing redundant scripts.",Ye._reportVerificationResults(m,"warning",{expected:String(hj.verifyInstall),reason:"multiple scripts"}),ai({title:"Multiple ".concat(l," scripts detected"),message:T,status:"warning"})):y();var G="Passed Site ID: "+hj.verifyInstall+" contains multiple scripts "+window.hjBootstrapCalled.join(", ");hj.exceptions.log(new Error(G),"init._verifyInstallation")}else hj.verifyInstall===hj.settings.site_id?(Ye._sendVerifyInstallation(function(K){K.success||hj.exceptions.log(new Error("Verify installation endpoint failed"),"init._verifyInstallation")}),ai({title:"".concat(l," installation verified"),message:"The ".concat(l," tracking code has been properly installed on this page. ")+"Browse your site in this window if you wish to verify installation on any other pages.",status:"good"}),Ye._reportVerificationResults(m,"ok")):y()}}}).verifyInstallation,Do=n.u6,cr=n.b2,xo=n.Vv,Lo=n.pF,lr=n.XA,Uo=n.fd,Vo=n.ec;return{gn:Do,fn:cr,pn:xo,vn:Lo,yn:lr,mn:Uo,jn:Vo}}(),ag=_i.gn,cg=_i.fn,lg=_i.pn,Pa=_i.vn,zh=_i.yn,Oa=_i.mn,hg=_i.jn;function Gh(){window._uxa.push(["replay:link:generate",{},({isRecording:s,replayLink:n})=>{typeof hj=="function"&&s&&n&&hj("identify",null,{contentsquare_replay_link:`https://${n}&vd=hotjar`})}])}function ug(s){let n=!1,t,e={},i=["event","trigger","identify"];function r(f){return!hj.optOut&&csArray.prototype.indexOf.call(i,f)>=0}function o(){Object.defineProperty(t,"push",{writable:!0,value:function(){for(let f=0;f<arguments.length;f+=1)this[this.length]=arguments[f];return c(),this.length}})}function c(){let f=csArray.prototype.slice.call(csArray.prototype.shift.call(t)),w=e[f[0]],_=csArray.prototype.slice.call(f,1);hj.log.debug("Processing command: "+f[0]+" "+csArray.prototype.join.call(csArray.prototype.map.call(_,function(R){return(typeof R=="object"||typeof R=="function")&&R!==null?csJSON.stringify(R):R}),", ")),typeof w!="function"?hj.log.debug('Unknown command: "'+f[0]+'"',"command"):r(f[0])?J.tryToExecute("hj-command",w)(_):hj.log.debug('Command "'+f[0]+'" blocked due to opt-out',"command"),t.length>0&&J.tryToExecute("hj-queue-command",c)()}function u(f){f[0]&&hj.event.signal("trigger:"+f[0])}function p(f){let w=f[0];if(f[1]){let _;!w&&w!==0||w==="null"||w==="undefined"?_=null:_=csString(w),hj.userAttributes.set(_,f[1])}else w!=null&&typeof w=="object"&&hj.userAttributes.set(null,w)}return e.event=function(f){if(u(f),f&&f.length>0){let w=f[0];s.pushExternalEvents([w])}},e.identify=function(f){p(f)},e.trigger=function(f){u(f)},{activate:function(){!n&&hj&&(t=hj.q,n=!0,o(),t.length>0&&c())},isActive:()=>n}}var dg=s=>{let{accountId:n,accountSignature:t,projectId:e,siteId:i,surveys:r,hashes:o}=s,c=window.CS_INTEGRATIONS_CONF&&window.CS_INTEGRATIONS_CONF["hubspot-client-side"];hj.settings={...hj.settings,account_id:n,account_signature:t,cs_project_id:e,features:[],integrations:{hubspot:{enabled:!!c,send_surveys:(c==null?void 0:c.settings)==null?void 0:csArray.prototype.includes.call(c==null?void 0:c.settings,"sendSurveyResponses")}},polls:r,site_id:i,user_attributes_enabled:!0},window.hjLazyModules=o},pg=(()=>{class s{constructor(t,e,i,r){this.f=t,this.O=e,this.w=i,this.Ce=r}init(){this.f.vocData&&dg(this.f.vocData),new $h(this.Ce).listen({vocEnabled:!0,integrationsEnabled:!1}),zh()}Uo(){let t=this.w.getUrl();hj.currentUrl=t,Pa(),Gh(),Oa(t)}onAfterNaturalPageView(){this.Uo()}onAfterArtificialPageView(){this.Uo()}onStartNoTrackingMode(){this.O.createOrUpdateVisitor()}}return s})();var re=(()=>{class s{constructor(){this._isStarted=!1}get isStarted(){return this._isStarted}start(...t){this._isStarted||(this._isStarted=!0,this.onStart(...t))}stop(){this._isStarted&&(this._isStarted=!1,this.onStop())}restart(){this.stop(),this.start()}}return s})();var yi;(function(s){s.ContentSquare="CONTENTSQUARE",s.LoadedByClicktale="LOADED_BY_CLICKTALE",s.LoadClicktalePtc="LOAD_CLICKTALE_PTC",s.DualCollectionReview="DUAL_COLLECTION_REVIEW",s.DualCollection="DUAL_COLLECTION",s.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"})(yi||(yi={}));function qh(s){return s.tagDeploymentMode===yi.DualCollectionReview||s.tagDeploymentMode===yi.DualCollection}function fg(s){return qh(s)||s.tagDeploymentMode===yi.LoadClicktalePtc}var ul=(()=>{let s;return function(n){function t(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()}n.isRecording=t;function e(){window.ClickTaleStop&&window.ClickTaleStop()}n.stopRecording=e;function i(c){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(c)}n.triggerLogicalPageView=i;function r(c){window.ClickTaleEvent&&window.ClickTaleEvent(c)}n.sendPageEvent=r;function o(c){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(c)}n.sendEventTriggerRecording=o}(s||(s={})),s})();var gg=(()=>{class s{constructor(t){this.mt=t}on(t,e){return i=>{this.mt.hasValidEventTarget(i)&&this.gS(i,t)&&e(i)}}gS(t,e){let i=Zt(t);return Ae.call(i,e)}isMatchesSelectorSupported(){return!!Ae}}return s})(),mg=(()=>{class s extends re{constructor(){super(),this.Zd=0}onStart(){J.isPerfLoggingActive()&&(this.lr=window.csSetInterval(()=>this.tp(),s.mS))}onStop(){J.isPerfLoggingActive()&&(this.tp(),csClearInterval(this.lr))}tp(){this.Zd>=s.yS||ot.counters.methodPerformance.flush()&&this.Zd++}}return s.mS=5e3,s.yS=5,s})(),yg=(()=>{class s{constructor(){}init(){this.ep=new mg}onStartTracking(){this.ep.start()}onOptout(){this.ep.stop()}}return s})();var Eg=["hpd"],Sg=["hrfs","hsd","hsp","hss","hsh","hpp","hps","hph"],vg=["sendHeapContext"],_g=(()=>{class s{constructor(t,e){this.nn=t,this.E=e}init(){this.E.register(vg,t=>{let e=this._S(t);e&&this.nn.setHeapPageViewProps(e)})}onAfterNaturalPageView(){this.nn.resetHeapPageViewProps()}onAfterArtificialPageView(){this.nn.resetHeapPageViewProps()}_S(t){if(!ut(t)){J.error("heapPvProps must be an object");return}let e={};for(let i of Eg){let r=t[i];if(!L(r)||r.length===0){J.error(`heapPvProps.${i} is required and must be a non-empty string`);return}e[i]=r}for(let i of Sg){let r=t[i];if(r!=null&&!L(r)){J.error(`heapPvProps.${i} must be a string, undefined or null`);return}e[i]=r||void 0}return wg(e)}}return s})();function wg(s){return Rh(s,n=>n===void 0)}var bg=(()=>{class s{getRequestParameters(){if(!this.$s)return{};let t={hr:this.$s.hrfs,hl:Tg(this.$s),hpd:this.$s.hpd,hpp:this.$s.hpp,hpq:this.$s.hps,hph:this.$s.hph};return Ag(t)}setHeapPageViewProps(t){this.$s=t}resetHeapPageViewProps(){this.$s=void 0}}return s})();function Tg(s){let{hsd:n,hsp:t,hss:e,hsh:i}=s;return n?csString.prototype.concat.call(n,t||"",e||"",i||""):void 0}function Ag(s){return Rh(s,n=>!n)}var Rg=s=>{let n=s*60*1e3;return`${Math.floor(csDate.now()/n)}`},Cg=5e3,Ig=(()=>{class s extends lc{constructor(t,e,i){super(t,e),this.rn=null,this.wS=(i==null?void 0:i.type)||"json",this.np=i==null?void 0:i.cacheMinutes,this.Qn=i==null?void 0:i.timeout}onLoad(t){this.Zi=t}onError(t){this.Jn=t}onTimeout(t,e){this.Ei=t,this.Qn=e}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,r=>r());let t=this.retrieveParameters();this.vc(t);let e=kn.toQuery(t),i=`${this.domainUri}${this.path?`/${this.path}`:""}?${e}`;this.bS(i,this.wS)}abort(){this.rn&&(this.rn.abort(),this.rn=null)}isInProgress(){return this.rn!==null}bS(t,e){var i;let r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onerror=()=>{var o;return(o=this.Jn)===null||o===void 0?void 0:o.call(this,r)},r.ontimeout=()=>{var o;return(o=this.Ei)===null||o===void 0?void 0:o.call(this,r)},r.onload=()=>{var o,c;r.status>=200&&r.status<400?((o=this.Zi)===null||o===void 0||o.call(this,this.TS(r,e)?r.response:r.responseText),csArray.prototype.forEach.call(this.afterRequestCallbacks,u=>u())):(c=this.Jn)===null||c===void 0||c.call(this,r)},r.onloadend=()=>{this.rn=null},r.timeout=(i=this.Qn)!==null&&i!==void 0?i:Cg,this.rn=r,r.send()}TS(t,e){let i=t.getResponseHeader("Content-Type");return i===null?e==="json":csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(i),"json")>0}vc(t){let e;this.np?e=`${Rg(this.np)}`:e=csString.prototype.slice.call(`${Math.random()}`,2,8),t.r=e}}return s})();var Pg=(()=>{class s extends re{constructor(){super(),this.Yc=[]}onStart(){csArray.prototype.forEach.call(this.Yc,t=>this.triggerHotjarEvent(t)),this.Yc=[]}onStop(){}triggerHotjarEvent(t){if(!this.isStarted){csArray.prototype.push.call(this.Yc,t);return}this.Xc(t)&&hj("event",t)}Xc(t){return L(t)}}return s})(),Og=60*60*24*1e3,Ng=Og*365,Yo=(s,n,t=Ng)=>({add:e=>{let i=n.get(s),r=i?`${i},${e}`:e;n.set({key:s,value:r,duration:t})},exists:e=>{let i=(n.get(s)==null?void 0:csString.prototype.split.call(n.get(s),","))||[];for(let r=0;r<i.length;r++)if(csString(e)===i[r])return!0;return!1},remove:e=>{let i=(n.get(s)==null?void 0:csString.prototype.split.call(n.get(s),","))||[],r=csArray.prototype.join.call(csArray.prototype.filter.call(i,o=>o!==csString(e)),",");n.set({key:s,value:r,duration:t})}}),Vi=(s,n,t=!1)=>({set:e=>n.set({key:s,value:e,useLocalStorage:t}),get:()=>n.get(s,t),clear:()=>n.clear(s,t)}),Mg=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.wt=i}get(t,e){return this.f.cookielessTrackingEnabled||e?this.wt.getItem(t):this.M.get(t)||this.wt.getItem(t)}set(t){this.f.cookielessTrackingEnabled||t.useLocalStorage?this.wt.setItem(t.key,t.value):this.M.set(t.key,t.value,t.duration)}clear(t,e){this.f.cookielessTrackingEnabled||e?this.wt.removeItem(t):this.M.delete(t)}}return s})(),kg=(s,n,t)=>{hj.bridge={storage:{items:{POLL_DONE:Yo("_hjDonePolls",s),POLL_MINIMIZED:Yo("_hjMinimizedPolls",s),SURVEY_INVITES_CLOSED:Yo("_hjClosedSurveyInvites",s),DEBUG_FLAG:Vi("hjDebug",s),FEEDBACK_SHOW_MESSAGE:Vi("_hjShownFeedbackMessage",s),HUBSPOT_UTK:Vi("hubspotutk",s),HAS_CACHED_USER_ATTRIBUTES:Vi("_hjHasCachedUserAttributes",s),USER_ATTRIBUTES_HASH:Vi("_hjUserAttributesHash",s)},localStorage:{USER_ATTRIBUTES:Vi("_hjUserAttributes",s,!0)}},getSessionUserId:()=>{let e=n.getVisitor();return e==null?void 0:e.id},getSessionFirstSeen:()=>{},getPageContent:e=>t.getPageContent(e),isRecordingEnabled:()=>!1,flushUserAttributes:()=>null}},Ki={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,STYLESHEET:50};function Dg(s){return pt.traverse(s,n=>{if(n.nodeType===Ki.DOCUMENT_FRAGMENT_NODE){let t=pt.getProperty(n,"styles");t&&(n.adoptedStyleSheets=t)}}),s}function xg(s){if(s!=null&&s.length)return Ge(s,n=>Ug(n))}function Lg(){Te(document).visitAll(s=>{var n;if(Wi(s)&&((n=s.adoptedStyleSheets)===null||n===void 0?void 0:n.length)>0){let t=xg(s.adoptedStyleSheets);pt.setProperty(s,"styles",t)}})}function Ug(s){let n=[];try{n=Ge(s.cssRules,t=>t.cssText)}catch{}return{cssRules:n,disabled:s.disabled}}var dl=new Map,Xo=!Ln&&document.implementation.createHTMLDocument("");function Wh(s){var n,t;return(t=(n=s.sheet)===null||n===void 0?void 0:n.href)!==null&&t!==void 0?t:s.getAttribute("href")}function Vg(s){if(!jr(s))return null;let n=Yh(s);if(n===null||n.length===0)return null;let t="";if(Ka(s.textContent))ft(n,e=>t+=e.cssText);else{let e=jg(s);if(e===n.length||e>n.length)return null;let i=new csArray(n.length-e);for(let r=e,o=0;r<n.length;r+=1,o+=1)i[o]=n[r];ft(i,r=>t+=r.cssText)}return t}function jg(s){if(!Xo)return 0;let n=dl.get(s.textContent);if(n)return n;let t=s.cloneNode(!0);t.textContent=s.textContent,Xo.head.appendChild(t);let e=Yh(t);return n=e?e.length:0,dl.set(s.textContent,n),Xo.head.removeChild(t),n}function Yh(s){try{if(s.disabled)return null;let n=s.sheet;return n?n.cssRules||n.rules:null}catch(n){if(n.name!=="SecurityError"&&n.name!=="InvalidAccessError")throw n;return null}}var bn=s=>s instanceof HTMLFormElement?"form":s.localName;var wi=(()=>{class s{constructor(t){this.csId=bt(t),this.props=wr.getAll(t)}}return s})(),Xh=(()=>{class s extends wi{constructor(t){super(t),this.nodeType=3,this.data=t.data}}return s})(),Ks=(()=>{class s extends wi{constructor(t){var e,i,r;super(t),this.attributes=[],this.nodeType=Ki.ELEMENT_NODE,this.localName=bn(t),this.namespaceURI=(e=t.namespaceURI)!==null&&e!==void 0?e:void 0,this.children=[];let o=Vg(t);if(o){this.children=new csArray(csNodechildNodes.apply(t).length);let c=document.createTextNode(o),u=new Xh(c);csArray.prototype.push.call(this.children,u)}Zi(t)&&pt.setProperty(this,"SVG",!0),(jr(t)||ic(t))&&(this.disabledSheet=(r=(i=t.sheet)===null||i===void 0?void 0:i.disabled)!==null&&r!==void 0?r:!1)}static isElement(t){return t.nodeType===Ki.ELEMENT_NODE}static getAttribute(t,e){return Je(t.attributes,i=>i.name===e)}static getAttributeValue(t,e){var i;return(i=this.getAttribute(t,e))===null||i===void 0?void 0:i.value}}return s})(),Hg=(()=>{class s extends wi{constructor(t){super(t),this.nodeType=4,this.data=t.data}}return s})(),Bg=(()=>{class s extends wi{constructor(t){super(t),this.nodeType=8,this.data=t.data}}return s})(),Fg=(()=>{class s extends wi{constructor(t){super(t),this.nodeType=10,this.name=t.name,this.publicId=t.publicId,this.systemId=t.systemId}}return s})(),$g=(()=>{class s extends wi{constructor(t){super(t),this.nodeType=9,this.baseURI=s.getBaseURI(t),this.children=[]}static getBaseURI(t){let e=t.baseURI;if(e==null){let i=t.getElementsByTagName("base");e=i.length!==0?i[0].href:t.URL}return e}}return s})(),zg=(()=>{class s extends wi{constructor(t){super(t),this.nodeType=11,this.mode=t.mode,this.children=[]}}return s})(),Gg=(()=>{class s{constructor(t,e,i){var r;typeof t=="string"?(this.name=t,this.value=e,this.namespaceURI=i!=null?i:""):(this.name=t.name,this.value=t.value,this.namespaceURI=(r=t.namespaceURI)!==null&&r!==void 0?r:"")}static create(t){let e=t.attributes,i=new csArray(e.length);for(let r=0;r<i.length;r++){let o=e[r];i[r]=new s(o.name,o.value,o.namespaceURI),o.name==="href"&&ic(t)&&(i[r].value=Wh(t))}return i}}return s})(),pl={workTime:40,async:!0,initialDOM:!0},qg={serialize:Jh()},Rn=csSymbol("InitialDom"),fl=csSymbol.for("ignoreNextSerialization");function Kh(s){return s[fl]?(delete s[fl],!0):!1}function Jh(s=pl){return function(t,e){var i;(i=s.workTime)!==null&&i!==void 0||(s.workTime=pl.workTime);let r=Qs("serialize:callback",w=>e(w)),o=new Un,c=(w,_)=>{w.hasChildNodes()&&o.push({node:w,serializedNode:_});let R=w instanceof Element&&csElementshadowRoot.apply(w);if(R){let H=_.shadowRoot=Cn(R);s.async&&s.initialDOM&&pt.setProperty(R,Rn,!0),c(R,H)}},u,p=!0,v=8,f=Qs("work",()=>{var w;if(p)u=Cn(t),s.async&&s.initialDOM&&pt.setProperty(t,Rn,!0),c(t,u),p=!1;else if(o.isEmpty)return;let _=Xg(100);for(;!o.isEmpty;){if(s.async&&_.elapsed()>=s.workTime){--v<=0&&csSetTimeout(f);return}let{node:R,serializedNode:H}=o.pop(),U=(w=H.children)!==null&&w!==void 0?w:[];if(Br(R))continue;let I=0;for(let P=csNodefirstChild.apply(R);P;P=csNodenextSibling.apply(P)){if(Kh(P))continue;let $=Cn(P);s.async&&s.initialDOM&&pt.setProperty(P,Rn,!0),U[I++]=$,c(P,$)}}s.async?csSetTimeout(()=>r(u)):e(u)});if(!s.async)s.workTime=1/0,f();else for(let w=0;w<v;w++)csSetTimeout(f,1)}}function Wg(s){let n=Cn(s),t=n;if(Br(s))return n;let e=0;for(let r=csNodefirstChild.apply(s);r;r=csNodenextSibling.apply(r))Kh(r)||(t.children[e++]=Na(r));let i=s.shadowRoot;return i&&(t.shadowRoot=Na(i)),n}var Na=vi(Wg,"serializeSync");function Cn(s){let n,t;switch(s.nodeType){case 1:t=n=new Ks(s),n.attributes=Kg(s);break;case 3:t=new Xh(s);break;case 4:t=new Hg(s);break;case 8:t=new Bg(s);break;case 10:t=new Fg(s);break;case 9:t=new $g(s);break;case 11:t=new zg(s);break;default:throw new Error("Node type not supported: "+s.nodeType)}return t}function Yg(){Rn=csSymbol("InitialDom")}function Xg(s){if(s<1)throw new Error("Precision should be >= 1");let n=0,t=F.elapsed();return{started:t,elapsed(){return++n%s===0&&(t=F.elapsed()),t-this.started}}}function Kg(s){return Br(s)?[]:Gg.create(s)}var Jg=(()=>{class s{constructor(t,e,i,r,o){this.AS=t,this.f=e,this.ue=i,this.nt=r,this.Ft=o}getPageContent(t){this.ue.setMaskedElementSettings(this.nt.getMaskedElementSettings()),this.ue.startIdentifier(),this.Ft.start(),Lg(),qg.serialize(document,e=>{let i=Dg(e),r=csArray.prototype.reduce.call(this.AS,(o,c)=>c.sanitize(o),i);this.Ft.stop(),t(csJSON.stringify(r),this.f.projectId)})}}return s})(),Qg=(()=>{class s{constructor(){}sanitize(t){return pt.traverse(t,e=>{if(e instanceof Ks){let i=W.getMaskedAttributeDetails(e);e.attributes=this.$o(e,i);let r=W.getMaskedElementDetails(e);r.state===W.MaskedElementState.Parent&&this.Kc(e,r)}}),t}$o(t,e){return e.attributes.length===0?t.attributes:csArray.prototype.filter.call(t.attributes,i=>csArray.prototype.indexOf.call(e.attributes,i.name)===-1)}Kc(t,e){let i=`width: ${e.width}px !important; height: ${e.height}px !important;`;t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),Ks.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})}}return s})(),Zg=/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g,tm="\uFF41",em=/[^ï½\s]/g,sm="a";function Ko(s){let n=csString.prototype.replace.call(s,Zg,tm);return csString.prototype.replace.call(n,em,sm)}var Qh=(()=>{class s{constructor(t,e,i,r=null,o=!1){this.Ke=t,this.RS=e,this.N=i,this.zo=r,this.CS=o,this.IS=Th(this.RS)}sanitize(t,e){return pt.traverse(t,(i,r)=>{if(i.anonymized=this.Ke,i.nodeType===Ki.TEXT_NODE){let o=i,{anonymizedValue:c,withAnonymization:u}=this.getAnonymizedValue(o.data,r?r==null?void 0:r.localName:e==null?void 0:e.targetLocalName,r?pt.getProperties(r):e==null?void 0:e.targetProps);i.anonymized=u,o.data=c;return}if(Ks.isElement(i))return this.PS(i);if(i.nodeType===Ki.CDATA_SECTION_NODE){let o=i;o.data=this.Ke?Ko(o.data):this.N.checkAndAnonymizePII(o.data,this.zo);return}}),t}setAnonymization(t){this.Ke=t}getAnonymizedValue(t,e,i){if(e==="style")return{anonymizedValue:t,withAnonymization:!1};let r=(i==null?void 0:i[bs.ANONYMIZED_TEXT_STATUS_PROP])===bs.WHITELISTED_STATUS;return this.Ke&&!r?{anonymizedValue:Ko(t),withAnonymization:!0}:{anonymizedValue:this.N.checkAndAnonymizePII(t,this.zo),withAnonymization:!1}}PS(t){if(pt.getProperty(t,"SVG"))return;let e=Je(t.attributes,r=>r.name==="type"),i=e==null?void 0:e.value;t.attributes=csArray.prototype.map.call(t.attributes,r=>(r.anonymized=this.Ke,r.value=this.getAnonymizedAttributeValue(t.localName,r.name,r.value,i),r))}getAnonymizedAttributeValue(t,e,i,r){if(this.OS(t,e,r))return i;if(Rp(e))return Cp(t,e,i)?this.N.anonymizePII(i):i;let o=this.CS&&e==="placeholder";return this.Ke&&(Ip(t,e,r)||o)?Ko(i):this.Ke?"":this.N.checkAndAnonymizePII(i,null)}OS(t,e,i){return Ap(t,e,i)||this.IS.has(e)}}return s})(),Zh=(()=>{let s;return function(n){function t(){let i=navigator.userAgent+navigator.language+navigator.platform,r=csString.prototype.slice.call(e(i).toString(16),-4),o=new csDate().getTime(),c="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,u=>{let p=(o+Math.random()*16)%16|0;return o=Math.floor(o/16),(u==="x"?p:p&7|8).toString(16)});return csString.prototype.replace.call(c,"hhhh",r)}n.generate=t;function e(i){let r=0;for(let o=0;o<i.length;o+=1)r=csString.prototype.charCodeAt.call(i,o)+(r<<6)+(r<<16)-r;return Math.abs(r)}}(s||(s={})),s})(),im=["event"],tu=(()=>{class s{constructor(t,e,i,r,o,c,u,p,v){this.E=t,this.Ce=e,this.f=i,this.M=r,this.wt=o,this.O=c,this.N=u,this.it=p,this.nt=v,this.ap=new Pg,this.NS=new Mg(this.f,this.M,this.wt)}init(){this.E.register(im,t=>{this.ap.triggerHotjarEvent(t)}),cg({uuid:Zh.generate}),kg(this.NS,this.O,this.MS())}start(){this.kS(),this.ap.start()}kS(){ug(this.Ce).activate()}MS(){let t=new Vh(()=>{}),e=new jh,i=this.it.shouldUseAnonymization(),r=new Qg,o=new Qh(i,this.f.whitelistedAttributes,this.N,this.f.anonymizeDigits);return new Jg([r,o],this.f,t,this.nt,e)}}return s})(),we={invitationDisplayed:"surveyInvitationDisplayed",displayed:"surveyDisplayed",submitted:"surveySubmitted",completed:"surveyCompleted",responseUrl:"surveyResponseUrl"},vn={[we.invitationDisplayed]:"Survey Invitation Displayed",[we.displayed]:"Survey Displayed",[we.submitted]:"Survey Response Submitted",[we.completed]:"Survey Completed",[we.responseUrl]:"Survey Response URL"},pr={[we.invitationDisplayed]:"survey_invitation_displayed",[we.displayed]:"survey_displayed",[we.submitted]:"survey_response_submitted",[we.completed]:"survey_completed"},Jo="FB_HJ_",nm=(()=>{class s{constructor(t){this.cp=[],this.Ce=t}ur(t,e,i,r,o){let c=`${t}-${i}`,u=Jo+e,p=o?t:`Survey ID : ${i}`,v=!1,f=`${window.location.pathname}?cs_hotjar=${r}`;csArray.prototype.includes.call(this.cp,c)||(csArray.prototype.push.call(this.cp,c),this.Ce.pushDynamicVariable(u,p)),v&&r&&this.Ce.pushPageView(f)}listen(){window.addEventListener("hotjar-survey-event",t=>{if(t&&t.detail&&t.detail.event){let{event:e,surveyId:i,question:r,questionIndex:o,response:c,insightsUrl:u}=t.detail;if(i)switch(e){case we.invitationDisplayed:this.ur(e,vn.surveyInvitationDisplayed,i,pr.surveyInvitationDisplayed);break;case we.displayed:this.ur(e,vn.surveyDisplayed,i,pr.surveyDisplayed);break;case we.completed:this.ur(e,vn.surveyCompleted,i,pr.surveyCompleted);break;case we.submitted:{if(this.ur(e,vn.surveySubmitted,i,pr.surveySubmitted),r){let p=c&&c[0]&&c[0].answer;r.type!="multiple-close-ended"&&r.text&&typeof p!="undefined"&&(isNaN(p)||(p=parseInt(p)),this.Ce.pushDynamicVariable(`${Jo+i} : ${r.text}`,p),this.Ce.pushDynamicVariable(`${Jo+i} : Question ${o+1}`,p))}u&&this.ur(u,vn.surveyResponseUrl,i,null,!0)}break}}})}}return s})(),gl=["start:hotjar"],rm="static.hj.contentsquare.net",om=(()=>{class s{constructor(t,e,i,r,o){this.f=t,this.E=e,this.w=i,this.lp=r,this.Ce=o,this._i=!1,this.pr=!1}init(){var t,e;this._i=this.f.isSMB,this.pr=!!(!((t=this.f.voc)===null||t===void 0)&&t.enabled&&(!((e=this.f.voc)===null||e===void 0)&&e.siteId)),this.ht(),this._i&&this.lp.start()}onAfterNaturalPageView(){this.startHotjar()}onAfterArtificialPageView(){if(this.pr){let t=this.w.getUrl();hj.currentUrl=t,Pa(),Oa(t)}}startHotjar(){var t;if(this._i&&window.hjSiteSettings&&(window._uxa.push([gl,window.hjSiteSettings]),ot.counters.trackedFeatures.count("legacy-csq-lite")),!this._i&&this.pr){let e=(t=this.f.voc)===null||t===void 0?void 0:t.siteId,i=window.document,r=i.head||i.getElementsByTagName("head")[0],o=i.createElement("script");o.async=!0,o.src=`https://${rm}/c/hotjar-${e}.js`,o.charset="utf-8",r.appendChild(o),ot.counters.trackedFeatures.count("legacy-csq-ent-voc")}}ht(){this.E.register(gl,t=>{if(t&&(hj.settings=t,ag(),new $h(this.Ce).listen({vocEnabled:this.pr,integrationsEnabled:this._i}),this._i?(hj.scriptLoaded=!0,lg(),zh(),window.hjBootstrapCalled=csArray.prototype.concat.call(window.hjBootstrapCalled||[],t.site_id),hg("Contentsquare")):this.lp.start(),this.pr)){let i=this.w.getUrl();hj.currentUrl=i,this._i||new nm(this.Ce).listen(),Pa(),Gh(),Oa(i)}})}}return s})(),ml=250,Ma=class{constructor(n){this.F=n}pushPageView(n){window._uxa.push(["trackPageview",n])}pushDynamicVariable(n,t){window._uxa.push(["trackDynamicVariable",{key:n,value:t}])}pushInternalEvents(n){csArray.prototype.forEach.call(n,({key:t,val:e})=>this.pushDynamicVariable(t,e))}pushExternalEvents(n){var t;if(!this.F)return;let e=this.DS(n);for(let i=0;i<e.length;i+=1){let r=this.xS(e[i]);r.length&&r.length<=ml?(hj.log.debug(`Sending event: tag_recording:${r}`),(t=this.F)===null||t===void 0||t.emitExternalEvent(r)):J.warn(`Invalid recording tag: " ${r} ", should have length 1.. ${ml} characters, was ${r.length}.`)}}LS(n){let t=typeof n=="string";return!!($e.mayHaveNumberSequence(n.toString())||t&&csString.prototype.indexOf.call(n,"@")>-1&&$e.mayHaveEmail(n)||t&&$e.mayHaveIPAddress(n))}DS(n){let t=/^[a-zA-Z0-9 _\-.:/]*$/;return n?csArray.prototype.filter.call(n,e=>e?t.test(e.toString())?this.LS(e)?(hj.log.debug("Tag "+e+" has been removed due to possible PII information included"),!1):!0:(hj.log.debug("Tag "+e+" has been removed due to having invalid characters"),!1):!1):[]}xS(n){return typeof n=="string"?csString.prototype.replace.call(n,/^\s+|\s+$/gm,""):""}},eu=Ma,su=(()=>{class s{emit(t,e,i,r=document){let c=`${i!==void 0?`${i}`:`${s.US}`}${t}`,u=s.createEvent(c,{detail:e});u!==null&&r.dispatchEvent(u)}static createEvent(t,e={}){if(typeof CustomEvent=="function")return new CustomEvent(t,e);let i=this.VS();if(i===null)return null;let{bubbles:r=!1,cancelable:o=!1,detail:c}=e;return i.initCustomEvent(t,r,o,c),i}static VS(){try{return document.createEvent("CustomEvent")}catch{return null}}}return s.US="cs.tracking.",s})();var iu=(()=>{class s{constructor(){this.qS=["application/json","application/graphql","application/xml","text/plain","text/csv","text/html","text/xml","text/javascript"]}setCollectionOptions(t){this.sl=t}isValidBodyType(t){let e=t["content-type"];if(!e)return!1;let i=csString.prototype.toLocaleLowerCase.call(e);return Pr(this.qS,r=>Dr(i,r))}canCollect(t,e){return this.WS(t,e)&&this.YS(e)}WS(t,e){return t>=400||t>=200&&t<300&&this.sl.statusCodes.has(t)&&this.XS(e)}XS(t){return Pr(this.sl.urls,e=>csString.prototype.indexOf.call(t,e)!==-1)}YS(t){return ec(this.sl.excludedDomains,e=>csString.prototype.indexOf.call(t,e)===-1)}}return s})(),am=(()=>{class s extends iu{constructor(){super(),this.U=!1,this.ln=null,this.KS=({result:t,args:e,callerName:i})=>{this.interceptFetch(t,e,i)}}onEvent(t){this.L=t}start(){this.U||this.JS()&&(this.QS(),this.ln&&this.ln.activate(),this.U=!0)}stop(){this.U&&(this.ln&&this.ln.deactivate(),this.U=!1)}JS(){return!!window.fetch&&typeof window.fetch=="function"}ZS(t){if(t[0]&&typeof t[0].clone=="function"){let e=qi(t);return e[0]=t[0].clone(),e}return t}QS(){this.ln||(this.ln=_e({target:window,methodName:"fetch",hook:this.KS,hookPrepareArgs:this.ZS,options:{withCallerName:!0}}))}async interceptFetch(t,e,i){let r=e[0],o=e[1],c=new Request(r,o);if(!L(c.url))return;let u=F.now(),p;try{p=await t}catch(_){if(this.sv(_)||this.dp(_)||this.iv(_)||this.nv(_))return;throw _}let[v,f]=csString.prototype.split.call(c.url,"?"),w=Ze(v);if(p&&super.canCollect(p.status,w)){let _={library:i,method:c.method,url:w,queryParameters:f,requestTime:u,responseTime:F.now(),statusCode:p.status,requestBody:"",responseBody:"",requestHeaders:this.pp(c.headers),responseHeaders:this.pp(p.headers)};if(!p.bodyUsed&&super.isValidBodyType(_.responseHeaders))try{_.responseBody=await p.clone().text()}catch(R){if(this.dp(R))return}super.isValidBodyType(_.requestHeaders)&&(_.requestBody=await c.text()),this.L(_)}}sv(t){return t instanceof TypeError}dp(t){return t instanceof DOMException&&t.name==="AbortError"}nv(t){return t instanceof DOMException&&t.name==="TimeoutError"}iv(t){return t instanceof DOMException&&csArray.prototype.some.call(s.rv,e=>e===t.name)}pp(t){let e={};return t.forEach((i,r)=>{i&&(e[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(i))}),e}}return s.rv=["NoModificationAllowedError","InvalidStateError","OperationError"],tt([B("FetchRequestTracker.interceptFetch")],s.prototype,"interceptFetch",null),s})(),cm=0,lm=(()=>{class s extends iu{constructor(){super(),this.$t=csSymbol("ApiCall"),this.U=!1,this.hn=null,this.un=null,this.Go=null,this.ov=({context:t,args:e,callerName:i})=>this.interceptOpen(t,e,i),this.av=({context:t,args:e})=>this.interceptSetRequestHeader(t,e),this.cv=({context:t,args:e})=>this.interceptSend(t,e)}onEvent(t){this.L=t}start(){this.U||(this.il(),this.hn&&this.hn.activate(),this.un&&this.un.activate(),this.Go&&this.Go.activate(),this.U=!0)}stop(){this.U&&(this.hn&&this.hn.deactivate(),this.un&&this.un.deactivate(),this.U=!1)}il(){this.hn||(this.hn=_e({target:XMLHttpRequest.prototype,methodName:"open",hook:this.ov,options:{withCallerName:!0}})),this.un||(this.un=_e({target:XMLHttpRequest.prototype,methodName:"setRequestHeader",hook:this.av})),this.Go||(this.Go=_e({target:XMLHttpRequest.prototype,methodName:"send",hook:this.cv}))}interceptOpen(t,e,i){if(!e[1]||!L(e[1]))return;let[r,o]=csString.prototype.split.call(e[1],"?");t[this.$t]={library:i,requestTime:F.now(),method:e[0],url:Ze(r),queryParameters:o,statusCode:cm,responseHeaders:{},requestHeaders:{},responseBody:"",requestBody:""},t.addEventListener("readystatechange",()=>this.readyStateChangeListener(t))}readyStateChangeListener(t){t[this.$t]&&t.readyState===XMLHttpRequest.DONE&&this.canCollect(t.status,t[this.$t].url)&&(t[this.$t].responseTime=F.now(),t[this.$t].statusCode=t.status,t[this.$t].responseHeaders=this.lv(t.getAllResponseHeaders()),super.isValidBodyType(t[this.$t].responseHeaders)&&(t.responseType===""||t.responseType==="text")&&(t[this.$t].responseBody=t.responseText),this.L(t[this.$t]))}interceptSetRequestHeader(t,e){if(!t[this.$t])return;let i=e[0],r=csString.prototype.valueOf.call(new csString(e[1]));typeof i!="string"||r.length===0||(i=csString.prototype.toLowerCase.call(csString.prototype.trim.call(i)),r=csString.prototype.trim.call(r),t[this.$t].requestHeaders[i]?t[this.$t].requestHeaders[i]+=`, ${r}`:t[this.$t].requestHeaders[i]=r)}interceptSend(t,e){t[this.$t]&&super.isValidBodyType(t[this.$t].requestHeaders)&&typeof e[0]=="string"&&(t[this.$t].requestBody=e[0])}lv(t){let e={};return csArray.prototype.forEach.call(csString.prototype.split.call(t,/[\r\n]+/),i=>{let[r,o]=csString.prototype.split.call(i,/:\s*/);o&&(e[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(o))}),e}}return tt([B("XhrRequestTracker.interceptOpen")],s.prototype,"interceptOpen",null),tt([B("XhrRequestTracker.readyStateChangeListener")],s.prototype,"readyStateChangeListener",null),tt([B("XhrRequestTracker.interceptSetRequestHeader")],s.prototype,"interceptSetRequestHeader",null),tt([B("XhrRequestTracker.interceptSend")],s.prototype,"interceptSend",null),s})(),nu=(()=>{class s{constructor(){}onLoad(t){this.Zi=t}onLoadCallbackExecute(){this.Zi()}start(){let t=this.onLoadCallbackExecute.bind(this);this.hv(t)}hv(t){document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?csSetTimeout(t):(document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e));function e(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t()}}}return tt([B("onLoad")],s.prototype,"onLoadCallbackExecute",null),s})(),hm=(()=>{class s{constructor(t){this.qo=t.performance}getRequestParameters(){if(this.uv())return{};let t=this.pv();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}}pv(){let t=this.qo.timing;return{startRender:`${t.domLoading-t.requestStart}`,domInteractive:`${t.domInteractive-t.requestStart}`,domComplete:`${t.domComplete-t.requestStart}`,fullyLoaded:`${t.loadEventEnd-t.requestStart}`}}uv(){return!(this.qo&&this.qo.timing&&this.qo.timing.loadEventEnd>0)}}return s})(),me=(()=>{class s{static build(t,e,i){return csArray.prototype.reduce.call(i,(r,o)=>o.enhanceAnalysisEvent(t,r),e)}}return s})(),rt=(()=>{let s;return function(n){n[n.RESIZE=0]="RESIZE",n[n.SCROLL=1]="SCROLL",n[n.MOUSEMOVE=2]="MOUSEMOVE",n[n.MOUSEDOWN=3]="MOUSEDOWN",n[n.MOUSEUP=4]="MOUSEUP",n[n.CLICK=5]="CLICK",n[n.MOUSEOVER=6]="MOUSEOVER",n[n.MOUSEOUT=7]="MOUSEOUT",n[n.CHANGE=10]="CHANGE",n[n.FOCUSIN=11]="FOCUSIN",n[n.FOCUSOUT=12]="FOCUSOUT",n[n.TAP=14]="TAP",n[n.KEYDOWN=15]="KEYDOWN",n[n.KEYUP=16]="KEYUP",n[n.COMMAND=17]="COMMAND",n[n.SUBMIT_COMMAND=18]="SUBMIT_COMMAND",n[n.PERFORMANCE=19]="PERFORMANCE",n[n.DRAG=20]="DRAG",n[n.FLICK=21]="FLICK",n[n.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",n[n.ZOOM=23]="ZOOM",n[n.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",n[n.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",n[n.DEAD_CLICK=30]="DEAD_CLICK",n[n.DEAD_ZOOM=31]="DEAD_ZOOM",n[n.PAGE_RELOAD=32]="PAGE_RELOAD",n[n.THRASHED_CURSOR=33]="THRASHED_CURSOR",n[n.BLANK_PAGE=34]="BLANK_PAGE",n[n.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",n[n.SUBMIT=36]="SUBMIT",n[n.CUSTOM_EVENT=37]="CUSTOM_EVENT"}(s||(s={})),s})(),Qo=(()=>{let s;return function(n){n.SUCCESS="success",n.FAILURE="failure",n.ATTEMPT="attempt"}(s||(s={})),s})(),Ws=(()=>{let s;return function(n){n.APPCUES="appcues",n.CHAMELEON="chameleon",n.CONTENTSQUARE="contentsquare",n.SEGMENT="segment",n.WEB="web"}(s||(s={})),s})();function um(s){return s.tgtHM!==void 0}function ru(s){return s.tgt!==void 0}function dm(s){return s.tgtLk!==void 0}function pm(s){return s.x!==void 0&&s.y!==void 0}function fm(s){return s===Qo.SUCCESS||s===Qo.FAILURE||s===Qo.ATTEMPT}function gm(s){return s===Ws.APPCUES||s===Ws.CHAMELEON||s===Ws.CONTENTSQUARE||s===Ws.SEGMENT||s===Ws.WEB}var mm=(()=>{class s{constructor(t,e,i){this.Zt=t,this.xt=e,this.At=i}processGesture(t,e){switch(t.type){case Wt.TAP:this.fv(e);break;case Wt.FLICK:this.gv(t,e);break;case Wt.DRAG:this.mv(t,e);break;default:break}}fv(t){let e={type:rt.TAP,ts:0,x:0,y:0,tgt:""},i=me.build(t,e,this.Zt);i.tgt!==As.INVALID_ELEMENT&&this.L(i)}mv(t,e){var i,r;let o={type:rt.DRAG,ts:0,fd:t.direction,tgt:""};!((i=this.At)===null||i===void 0)&&i.collectGestureDistance&&(o.distance=t.distance),!((r=this.At)===null||r===void 0)&&r.collectGestureVelocity&&(o.velocity=t.velocity);let c=me.build(e,o,this.Zt);c.tgt!==As.INVALID_ELEMENT&&this.L(c)}gv(t,e){var i,r;let o={type:rt.FLICK,ts:0,fd:t.direction,tgt:""};!((i=this.At)===null||i===void 0)&&i.collectGestureDistance&&(o.distance=t.distance),!((r=this.At)===null||r===void 0)&&r.collectGestureVelocity&&(o.velocity=t.velocity);let c=me.build(e,o,this.Zt);c.tgt!==As.INVALID_ELEMENT&&this.L(c)}onEvent(t){this.L=t}start(){this.xt.subscribe(s.fp,(t,e)=>this.processGesture(t,e))}stop(){this.xt.unsubscribe(s.fp)}}return s.fp="AnalysisGestureTracker",tt([Rt()],s.prototype,"processGesture",null),s})();function Wr(s,n){typeof n=="number"&&(n={wait:n});let t=n.wait,e=n.mode||"leading",i,r=[],o=null,c=0,u,p=()=>{c=F.now(),o=null,u=s.apply(i,r),r=[],i=null},v=function(...f){if(i=this!==null&&this!==void 0?this:yt,r=[...f],e==="trailing")return o||(o=yt.csSetTimeout(p,t)),u;let w=F.now(),_=t-(w-c);return _<=0||_>t?(c=w,u=s.apply(i,r),o?(yt.csClearTimeout(o),o=null):r=[]):o||(o=yt.csSetTimeout(p,_)),u};return v.cancel=()=>{o&&(yt.csClearTimeout(o),c=0,o=null,r=[])},v.flushPending=()=>{o&&(yt.csClearTimeout(o),p())},v}var Yr=s=>(n,t,e)=>{e.value=Wr(e.value,s)},yl="data-cs-scroll-container";function ym(s){try{if(Nt(csEventtarget.apply(s)))return!0}catch{}return!1}var Fi=(()=>{let s;return function(n){function t(i){return!!(Nt(i)&&ym(i)&&Rs(csEventtarget.apply(i))&&csEventtarget.apply(i).getAttribute(yl)!==null)}n.isEventOnScrollContainer=t;function e(){return window.csquerySelector[document.nodeType].call(document,`[${yl}]`)}n.getScrollContainer=e}(s||(s={})),s})(),$i=(()=>{let s;return function(n){n[n.COPY=0]="COPY",n[n.CUT=1]="CUT",n[n.PASTE=2]="PASTE"}(s||(s={})),s})(),ht=(()=>{let s;return function(n){n[n.SPACE=0]="SPACE",n[n.ENTER=1]="ENTER",n[n.BACKSPACE=2]="BACKSPACE",n[n.DELETE=3]="DELETE",n[n.ARROWUP=4]="ARROWUP",n[n.ARROWDOWN=5]="ARROWDOWN",n[n.ARROWLEFT=6]="ARROWLEFT",n[n.ARROWRIGHT=7]="ARROWRIGHT",n[n.CAPSLOCK=8]="CAPSLOCK",n[n.SHIFT=9]="SHIFT",n[n.TAB=10]="TAB",n[n.ALPHANUMERICAL=11]="ALPHANUMERICAL",n[n.ESCAPE=12]="ESCAPE",n[n.END=13]="END",n[n.ALT=14]="ALT",n[n.CTRL=15]="CTRL",n[n.META=16]="META"}(s||(s={})),s})(),Em=(()=>{class s{constructor(t,e,i,r=["submit"]){this.Zt=t,this.mt=e,this.Lt=i,this.yv=r,this.gp="select, select *, input, textarea",this.Ev="select, select *, input, textarea",this.mp="a, a *, button, button *, select, select *, input, textarea",this.fr="input, select, textarea",this.Sv="form",this.Wo=150,this.vv=400,this.yp=!1,this.gr=Gi((o,c)=>this.scrollListener(o,c),this.Wo),this.Ep=Gi(o=>this.resizeListener(o),this.Wo),this._v=Wr(o=>this.mouseMoveListener(o),this.vv),this.wv=[{boundElement:window,type:"resize",listener:()=>this.Ep()},{boundElement:document,type:"scroll",listener:o=>this.gr(o)},{boundElement:window,type:"mousemove",listener:o=>{this._v(Zf(o))}},{boundElement:document,type:"mousedown",listener:o=>this.mouseDownListener(o)},{boundElement:document,type:"mouseup",listener:o=>this.mouseUpListener(o)},{boundElement:document,type:"click",listener:o=>this.clickListener(o)}],this.Sp=[{type:"change",listener:this.Lt.on(this.Ev,o=>this.changeListener(o))},{type:"submit",listener:this.Lt.on(this.Sv,o=>this.submitListener(o))}],this.bv=[{boundElement:document,type:"mouseover",listener:this.Lt.on(this.mp,o=>this.mouseOverListener(o))},{boundElement:document,type:"mouseout",listener:this.Lt.on(this.mp,o=>this.mouseOutListener(o))},{boundElement:document,type:"focusin",listener:this.Lt.on(this.gp,o=>this.focusInListener(o))},{boundElement:document,type:"focusout",listener:this.Lt.on(this.gp,o=>this.focusOutListener(o))},{boundElement:document,type:"keyup",listener:this.Lt.on(this.fr,o=>this.keyUpListener(o))},{boundElement:document,type:"keydown",listener:this.Lt.on(this.fr,o=>this.keyDownListener(o))},{boundElement:document,type:"copy",listener:this.Lt.on(this.fr,o=>this.copyListener(o))},{boundElement:document,type:"cut",listener:this.Lt.on(this.fr,o=>this.cutListener(o))},{boundElement:document,type:"paste",listener:this.Lt.on(this.fr,o=>this.pasteListener(o))},...csArray.prototype.map.call(this.Sp,o=>({...o,boundElement:document}))],this.V={},this.nl=(o,c)=>{switch(c){case"initial":case"added":this.wi(o);break;case"removed":this.bi(o);break}},this.de=new tn(this.nl),this.rl()}wi(t){if(Nr(t)){let e=this.vp();csArray.prototype.forEach.call(e,i=>Mt(i))}else{let e=this._p();csArray.prototype.forEach.call(e,i=>{Mt({...i,boundElement:t})})}}bi(t){if(Nr(t)){let e=this.vp();csArray.prototype.forEach.call(e,i=>kt(i))}else{let e=this._p();csArray.prototype.forEach.call(e,i=>{kt({...i,boundElement:t})})}}onEvent(t){this.L=t}start(){this.de.observe(),this.wi(document),this.resizeListener()}stop(){this.bi(document),this.de.disconnect()}flushPendingDebouncedListeners(){this.gr.flushPending(),this.Ep.flushPending()}wp(t){return csArray.prototype.some.call(this.yv,e=>e===t)}_p(){return this.Lt.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.Sp,t=>!this.wp(t.type)):(J.warn("Element.matches is not implemented yet"),[])}vp(){let t=[];return csArray.prototype.push.call(t,...this.wv),this.Lt.isMatchesSelectorSupported()?csArray.prototype.push.call(t,...this.bv):J.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(t,e=>!this.wp(e.type))}resizeListener(t){let e=Fi.getScrollContainer(),i=Rs(e);i&&(this.yp=!0);let r={type:rt.RESIZE,ts:0,x:i?e.clientWidth:Yt.windowWidth(),y:i?e.clientHeight:Yt.windowHeight()};t!==void 0&&(r.d=t),this.L(r)}scrollListener(t,e){let i=Fi.isEventOnScrollContainer(e);!this.yp&&i&&this.resizeListener();let r={type:rt.SCROLL,ts:0,x:i?csEventtarget.apply(e).scrollLeft:Yt.windowOffsetX(),y:i?csEventtarget.apply(e).scrollTop:Yt.windowOffsetY(),d:t},o=me.build(e,r,this.Zt);this.L(o)}mouseMoveListener(t){let e={type:rt.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},i=me.build(t,e,this.Zt);this.L(i)}mouseDownListener(t){let e={type:rt.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=me.build(t,e,this.Zt);this.pe(i)}mouseUpListener(t){let e={type:rt.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=me.build(t,e,this.Zt);this.pe(i)}clickListener(t){let e={type:rt.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=me.build(t,e,this.Zt);this.pe(i)}mouseOverListener(t){let e={type:rt.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=me.build(t,e,this.Zt);this.pe(i)}mouseOutListener(t){let e={type:rt.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.mt.getEventTargetPath(t)},i=me.build(t,e,this.Zt);this.pe(i)}focusInListener(t){let e={type:rt.FOCUSIN,ts:0,tgt:this.mt.getEventTargetPath(t)},i=me.build(t,e,this.Zt);this.pe(i)}focusOutListener(t){let e={type:rt.FOCUSOUT,ts:0,tgt:this.mt.getEventTargetPath(t)},i=me.build(t,e,this.Zt);this.pe(i)}changeListener(t){let e={type:rt.CHANGE,ts:0,tgt:""},i=me.build(t,e,this.Zt);this.pe(i)}submitListener(t){let e={type:rt.SUBMIT,ts:0,tgt:""},i=me.build(t,e,this.Zt);this.pe(i)}copyListener(t){let e={type:rt.COMMAND,ts:0,tgt:this.mt.getEventTargetPath(t),key:$i.COPY};this.pe(e)}cutListener(t){let e={type:rt.COMMAND,ts:0,tgt:this.mt.getEventTargetPath(t),key:$i.CUT};this.pe(e)}pasteListener(t){let e={type:rt.COMMAND,ts:0,tgt:this.mt.getEventTargetPath(t),key:$i.PASTE};this.pe(e)}keyUpListener(t){let e={type:rt.KEYUP,ts:0,tgt:this.mt.getEventTargetPath(t),key:this.bp(t)};this.pe(e)}keyDownListener(t){let e={type:rt.KEYDOWN,ts:0,tgt:this.mt.getEventTargetPath(t),key:this.bp(t)};this.pe(e)}bp(t){let e=this.V[t.key];return e===void 0?ht.ALPHANUMERICAL:e}pe(t){ru(t)&&t.tgt!==As.INVALID_ELEMENT&&this.L(t)}rl(){this.V[" "]=ht.SPACE,this.V.Spacebar=ht.SPACE,this.V.Enter=ht.ENTER,this.V.Backspace=ht.BACKSPACE,this.V.Delete=ht.DELETE,this.V.ArrowUp=ht.ARROWUP,this.V.ArrowDown=ht.ARROWDOWN,this.V.ArrowLeft=ht.ARROWLEFT,this.V.ArrowRight=ht.ARROWRIGHT,this.V.Up=ht.ARROWUP,this.V.Down=ht.ARROWDOWN,this.V.Left=ht.ARROWLEFT,this.V.Right=ht.ARROWRIGHT,this.V.CapsLock=ht.CAPSLOCK,this.V.Shift=ht.SHIFT,this.V.Tab=ht.TAB}}return tt([B("Event handler type: resize")],s.prototype,"resizeListener",null),tt([B("Event handler type: scroll")],s.prototype,"scrollListener",null),tt([B("Event handler type: mouseMove"),Rt()],s.prototype,"mouseMoveListener",null),tt([B("Event handler type: mouseDown"),Rt()],s.prototype,"mouseDownListener",null),tt([B("Event handler type: mouseUp"),Rt()],s.prototype,"mouseUpListener",null),tt([B("Event handler type: click"),Rt()],s.prototype,"clickListener",null),tt([B("Event handler type: mouseOver"),Rt()],s.prototype,"mouseOverListener",null),tt([B("Event handler type: mouseOut"),Rt()],s.prototype,"mouseOutListener",null),tt([B("Event handler type: focusIn")],s.prototype,"focusInListener",null),tt([B("Event handler type: focusOut")],s.prototype,"focusOutListener",null),tt([B("Event handler type: change")],s.prototype,"changeListener",null),tt([B("Event handler type: submit"),Rt()],s.prototype,"submitListener",null),tt([B("Event handler type: copy")],s.prototype,"copyListener",null),tt([B("Event handler type: cut")],s.prototype,"cutListener",null),tt([B("Event handler type: paste")],s.prototype,"pasteListener",null),tt([B("Event handler type: keyup")],s.prototype,"keyUpListener",null),tt([B("Event handler type: keydown")],s.prototype,"keyDownListener",null),s})(),Sm=(()=>{class s{constructor(){this.Tp=100,this.mr=0,this.yr=Yt.documentHeight(),this.Ap={boundElement:document,type:"scroll",listener:t=>this.maxScrollRateListener(t)},this.mr=this.ol(Fi.getScrollContainer()).maxScrollRate}onEvent(t){this.L=t}start(){Mt(this.Ap)}stop(){kt(this.Ap)}reset(){let t=Fi.getScrollContainer(),{maxScrollRate:e,maxDocumentHeight:i}=this.ol(t);this.yr=i,this.mr=e,this.L()}ol(t){let e=0,i=0;if(t===null)i=Yt.documentHeight(),e=this.Tv(i);else{let r=this.Av(t);i=this.Rp(t,r),e=this.Rv(t,r)}return{maxScrollRate:e,maxDocumentHeight:i}}maxScrollRateListener(t){let e=null;Fi.isEventOnScrollContainer(t)&&(e=csEventtarget.apply(t));let{maxScrollRate:i,maxDocumentHeight:r}=this.ol(e);(i>this.mr||r>this.yr)&&(this.mr=i,r>this.yr&&(this.yr=r),this.L())}Tv(t){let e=Math.round(this.Cv()/t*100);return Math.min(e,this.Tp)}Cv(){let t=Yt.windowHeight();return Yt.windowOffsetY()+t}Rv(t,e){let i=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+e,r=this.Rp(t,e),o=Math.round(i/r*100);return Math.min(o,this.Tp)}Av(t){let e=window.getComputedStyle(t).paddingTop||"0px";return parseInt(e,10)}Rp(t,e){return t.scrollHeight+t.getBoundingClientRect().top+e}getRequestParameters(){return{sr:`${this.mr}`,mdh:`${this.yr}`}}}return tt([B("MaxScrollRate handler")],s.prototype,"maxScrollRateListener",null),s})(),Le=(()=>{let s;return function(n){n.Visible="visible",n.Hidden="hidden",n.Blur="blur",n.PagehideVisible="pagehideVisible",n.PagehideHidden="pagehideHidden",n.ExitPageByNavigate="exitPageByNavigate"}(s||(s={})),s})(),ou=(()=>{class s{constructor(){this.U=!1,this.qs=t=>{try{switch(t.type){case"visibilitychange":return document.visibilityState==="hidden"?this.te(Le.Hidden):this.te(Le.Visible);case"pagehide":return document.visibilityState==="hidden"?this.te(Le.PagehideHidden):this.te(Le.PagehideVisible);case"blur":return this.te(Le.Blur);case"navigate":return this.Iv(t)?this.te(Le.ExitPageByNavigate):void 0;default:return}}catch{}}}start(){this.U||(this.U=!0,this.al(),this.Pv(),this.Ov(),Hc()&&this.Nv())}stop(){this.U&&(this.U=!1,this.cl(),this.Mv(),this.kv(),Hc()&&this.Dv())}onEvent(t){this.te=t}Nv(){window.navigation.addEventListener("navigate",this.qs)}Dv(){window.navigation.removeEventListener("navigate",this.qs)}al(){document.addEventListener("visibilitychange",this.qs)}cl(){document.removeEventListener("visibilitychange",this.qs)}Pv(){window.addEventListener("pagehide",this.qs)}Mv(){window.removeEventListener("pagehide",this.qs)}Ov(){window.addEventListener("blur",this.qs)}kv(){window.removeEventListener("blur",this.qs)}Iv(t){return t instanceof NavigateEvent?!t.hashChange&&!t.downloadRequest&&!t.formData:!1}}return s})();var vm=1024,_m=512,Zo=1024,ta="||",wm=(()=>{let s;return function(n){function t(c,u){return L(c)&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(c),Ws.CHAMELEON)!==-1?Ws.CHAMELEON:u}n.handleCustomEventCommandMisuse=t;function e(c,u,p){let v=i(p);return{type:rt.CUSTOM_EVENT,ts:0,customEventName:_t.truncate(c,vm,_t.ELLIPSIS),sourceLibrary:gm(u)?u:Ws.WEB,...ma(v)?{}:{properties:v}}}n.buildCustomEvent=e;function i(c){let u={};for(let p in c){if(p.length>_m)continue;let v=c[p];if(Ht(v)||Rr(v))u[p]=csString(v);else if(o(v))u[p]=_t.truncate(v,Zo,_t.ELLIPSIS);else if(fd(v)){let f=r(v);f!==""&&(u[p]=f)}}return u}function r(c){let u="";for(let p=0;p<c.length;p++){let v=c[p];if(!Ht(v)&&!Rr(v)&&!o(v))continue;let f=csString(v);if(u==="")u=_t.truncate(f,Zo,_t.ELLIPSIS);else if(u.length+ta.length+f.length<=Zo)u+=ta+f;else break}return u}function o(c){return L(c)&&!Ka(c)&&!csString.prototype.includes.call(c,ta)}}(s||(s={})),s})(),bm=(()=>{class s extends re{constructor(t,e,i,r,o,c,u,p,v,f,w,_,R,H,U,I,P,$,q,M,Z){super(),this.f=t,this.Ws=e,this.xt=i,this.dn=r,this.ll=o,this.ze=c,this.Pe=u,this.ul=p,this.Y=v,this.Qt=f,this.Q=w,this.dl=_,this.Ge=R,this.X=H,this.Yo=U,this.Ss=I,this.vs=P,this.pl=$,this.Ti=q,this.Ai=M,this.Ri=Z,this.Gs=new su,this.Xo=!1,this.Ci=[]}init(){var t,e,i,r,o,c,u;this.Ws.onEvent(p=>this.Nt(p)),this.xt.onEvent(p=>this.Nt(p)),this.dn.onEvent(()=>{let p=this.dn.getRequestParameters();this.X.setQueryParams(p),this.Pe.setQueryParams(p)}),this.dl.onEvent(p=>this.ee(p)),this.gl(),(t=this.Yo)===null||t===void 0||t.onEvent(p=>this.Nt(p)),(e=this.Ti)===null||e===void 0||e.onEvent(p=>this.Nt(p)),(i=this.Ss)===null||i===void 0||i.onEvent(p=>this.Nt(p)),(r=this.vs)===null||r===void 0||r.onEvent(p=>this.Nt(p)),this.xv(),(o=this.pl)===null||o===void 0||o.onEvent(p=>this.ee(p)),(c=this.Ai)===null||c===void 0||c.onEvent(p=>this.ee(p)),(u=this.Ri)===null||u===void 0||u.onEvent(p=>this.ee(p))}xv(){this.Pe.onBeaconSuccess(()=>{this.ze.clearEvents()}),this.Pe.onBeaconFailure(t=>{this.Lv(t)})}initStates(){let t=this.ul.getRequestParameters(),e=this.ll.getRequestParameters(),i=this.dn.getRequestParameters();this.X.setQueryParams(t),this.X.setQueryParams(e),this.X.setQueryParams(i),this.Pe.setQueryParams(t),this.Pe.setQueryParams(e),this.Pe.setQueryParams(i),this.ml()}clearStates(t){var e,i;this.Ws.flushPendingDebouncedListeners(),(e=this.Ss)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.vs)===null||i===void 0||i.flushPendingTextHighlightEvent(),t?(this.yl(),this.sendLastMessageBeacon()):this.sendEvents(),this.dn.reset(),this.X.removeQueryParams()}onStart(t){var e,i,r,o,c,u,p;t||(e=this.pl)===null||e===void 0||e.start(),this.Ge.start(),this.Ws.start(),this.dn.start(),this.xt.start(),(i=this.Yo)===null||i===void 0||i.start(),(r=this.vs)===null||r===void 0||r.start(),t||this.dl.start(),(o=this.Ss)===null||o===void 0||o.start(),(c=this.Ti)===null||c===void 0||c.start(),(u=this.Ai)===null||u===void 0||u.start(),(p=this.Ri)===null||p===void 0||p.start(),csArray.prototype.forEach.call(this.Ci,v=>{this.ee(v)}),this.Ci=[]}collectInitialEvents(){var t;(t=this.Yo)===null||t===void 0||t.collectInitialEvents()}onIframeAnalysisBrowserEvent(t){this.ee(t)}onIframeAnalysisUserEvent(t){this.Nt(t)}onExternalEvent(t){this.J(t)}ee(t){this.Y.isCurrentPageviewValid()&&this.J(t)}Nt(t){this.Y.refreshSession(),this.Y.isSessionValid()&&this.J(t)}J(t){this.ze.addEvent(this.Uv(t)),this.ze.isFull()&&this.sendEvents(),this.f.emitDebugEvents&&this.Gs.emit("analysisEvent",{...t,typeName:rt[t.type]})}Uv(t){return t.ts=this.Ii(),t}yl(){this.Pe.setQueryParams({hlm:"true"}),this.Xo=!0}sendLastMessageBeacon(){this.Pe.removeQueryParams(["i"]),this.Pe.setQueryParams(this.ul.getRequestParameters()),this.Pe.setQueryParams(this.ll.getRequestParameters()),this.Pe.send(this.ze.stringifyEvents()),this.Pe.removeQueryParams(["hlm"]),this.Xo=!1}sendEvents(){this.ze.isEmpty()||(this.Pe.removeQueryParams(["i"]),this.X.setQueryParams(this.ul.getRequestParameters()),this.X.setQueryParams(this.ll.getRequestParameters()),this.X.send(this.ze.getEvents()),this.ze.clearEvents())}onStop(){var t,e,i,r,o,c,u;this.Ge.stop(),this.Ws.stop(),this.dn.stop(),this.xt.stop(),this.dl.stop(),(t=this.Yo)===null||t===void 0||t.stop(),(e=this.Ss)===null||e===void 0||e.stop(),(i=this.vs)===null||i===void 0||i.stop(),(r=this.Ti)===null||r===void 0||r.stop(),this.ze.empty(),(o=this.pl)===null||o===void 0||o.stop(),(c=this.Ai)===null||c===void 0||c.stop(),(u=this.Ri)===null||u===void 0||u.stop()}ml(){this.Qe=F.now()}Ii(){return F.now()-this.Qe}gl(){this.Ge.onEvent(t=>{var e,i;t!==Le.Visible&&((e=this.Ss)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.vs)===null||i===void 0||i.flushPendingTextHighlightEvent(),t===Le.PagehideVisible?this.yl():t===Le.PagehideHidden?(this.yl(),this.sendLastMessageBeacon()):(!this.ze.isEmpty()||this.Xo)&&this.sendLastMessageBeacon())})}Lv(t){try{(!this.ze.isEmpty()||this.Xo)&&this.Qt.save({requestParameters:t,events:this.ze.getEvents()})}catch{}}pushSubmitCommandEvent(t,e){if(!fm(t)||!Rs(e)){J.error(`Command misuse: ${Ec}`);return}let i={status:t,type:rt.SUBMIT_COMMAND,ts:0,tgt:this.Q.getElementPath(e)};i.tgt!==As.INVALID_ELEMENT&&this.ee(i)}pushCustomEvent(t,e,i){if(!(L(t)&&!Ka(t))||i!==void 0&&!ut(i)){J.error(`Command misuse: ${Va}`);return}let r=wm.buildCustomEvent(t,e,i);this.isStarted?this.ee(r):csArray.prototype.push.call(this.Ci,r)}}return s})(),Dn=(()=>{class s{constructor(...t){this.Cp=t}addProvider(t){csArray.prototype.push.call(this.Cp,t)}getRequestParameters(){return csArray.prototype.reduce.call(this.Cp,(t,e)=>({...e.getRequestParameters(),...t}),{})}}return s})(),Tm=(()=>{class s{constructor(t,e){this.Qt=t,this.X=e,this.Ip=()=>{document.visibilityState==="visible"&&this.Pp()}}start(){this.Pp(),this.al()}stop(){this.cl()}getRecoveryStorage(){return this.Qt}Pp(){let t=this.Qt.recover();if(t!==null){let{requestParameters:e,events:i}=t;this.X.send(i,e)}}al(){document.addEventListener("visibilitychange",this.Ip)}cl(){document.removeEventListener("visibilitychange",this.Ip)}}return s})(),au=(()=>{class s{constructor(t){this.Op=[],this.Np=[],this.Kt={},this.Jt=t}setQueryParams(t){csArray.prototype.forEach.call(Object.keys(t),e=>{this.Kt[e]=t[e]})}removeQueryParams(t){t?csArray.prototype.forEach.call(t,e=>{delete this.Kt[e]}):this.Kt={}}onBeaconSuccess(t){csArray.prototype.push.call(this.Op,t)}onBeaconFailure(t){csArray.prototype.push.call(this.Np,t)}send(t){let e=kn.toQuery({...this.Kt,ct:$r.UNCOMPRESSED}),i=this.jv(e,t);return i?csArray.prototype.forEach.call(this.Op,r=>r()):csArray.prototype.forEach.call(this.Np,r=>r(this.Kt)),i}jv(t,e){try{if(typeof csNavigatorsendBeacon!="function")return!1;let i=csNavigatorsendBeacon(`${this.Jt}?${t}`,e||"");if(i)return i}catch{}return typeof navigator.sendBeacon!="function"?!1:navigator.sendBeacon(`${this.Jt}?${t}`,e||"")}}return s})(),Am=(()=>{class s{constructor(t){this.En=t}save(t){localStorage.setItem(this.En,csJSON.stringify(t))}clear(){localStorage.removeItem(this.En)}recover(){let t=localStorage.getItem(this.En);if(t===null)return null;let e=null;try{e=csJSON.parse(t)}catch{J.error(`Invalid item in localStorage.
         (key:${this.En}; value:${t})`)}finally{this.clear()}return e}}return s})(),Rm=(()=>{class s{constructor(t){this.Er=t,this.Sr=e=>this.processMetric(e),this.U=!1}onEvent(t){this.L=t}start(){this.U||(this.U=!0,this.Er.onFCP(this.Sr),this.Er.onCLS(this.Sr),this.Er.onLCP(this.Sr),this.Er.onTTFB(this.Sr),this.Er.onINP(this.Sr))}stop(){this.U=!1}processMetric(t){if(!this.U)return;let e={type:rt.PERFORMANCE,name:t.name,val:t.value,ts:0};this.L(e)}}return tt([B("Performance metric handler")],s.prototype,"processMetric",null),s})(),cu=-1,en=s=>{addEventListener("pageshow",n=>{n.persisted&&(cu=n.timeStamp,s(n))},!0)},ss=(s,n,t,e)=>{let i,r;return o=>{n.value>=0&&(o||e)&&(r=n.value-(i!=null?i:0),(r||i===void 0)&&(i=n.value,n.delta=r,n.rating=((c,u)=>c>u[1]?"poor":c>u[0]?"needs-improvement":"good")(n.value,t),s(n)))}},fc=s=>{requestAnimationFrame(()=>requestAnimationFrame(()=>s()))},gc=()=>{let s=performance.getEntriesByType("navigation")[0];if(s&&s.responseStart>0&&s.responseStart<performance.now())return s},Bn=()=>{var n;let s=gc();return(n=s==null?void 0:s.activationStart)!=null?n:0},is=(s,n=-1)=>{let t=gc(),e="navigate";return cu>=0?e="back-forward-cache":t&&(document.prerendering||Bn()>0?e="prerender":document.wasDiscarded?e="restore":t.type&&(e=t.type.replace(/_/g,"-"))),{name:s,value:n,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:e}},ea=new WeakMap;function mc(s,n){return ea.get(s)||ea.set(s,new n),ea.get(s)}var ka=class{constructor(){Es(this,"t");Es(this,"i",0);Es(this,"o",[])}h(n){var i;if(n.hadRecentInput)return;let t=this.o[0],e=this.o.at(-1);this.i&&t&&e&&n.startTime-e.startTime<1e3&&n.startTime-t.startTime<5e3?(this.i+=n.value,this.o.push(n)):(this.i=n.value,this.o=[n]),(i=this.t)==null||i.call(this,n)}},Fn=(s,n,t={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(s)){let e=new PerformanceObserver(i=>{Promise.resolve().then(()=>{n(i.getEntries())})});return e.observe({type:s,buffered:!0,...t}),e}}catch{}},yc=s=>{let n=!1;return()=>{n||(s(),n=!0)}},Bi=-1,El=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Ur=s=>{document.visibilityState==="hidden"&&Bi>-1&&(Bi=s.type==="visibilitychange"?s.timeStamp:0,Cm())},Sl=()=>{addEventListener("visibilitychange",Ur,!0),addEventListener("prerenderingchange",Ur,!0)},Cm=()=>{removeEventListener("visibilitychange",Ur,!0),removeEventListener("prerenderingchange",Ur,!0)},lu=()=>{var s;if(Bi<0){let n=Bn(),t=document.prerendering||(s=globalThis.performance.getEntriesByType("visibility-state").filter(e=>e.name==="hidden"&&e.startTime>n)[0])==null?void 0:s.startTime;Bi=t!=null?t:El(),Sl(),en(()=>{setTimeout(()=>{Bi=El(),Sl()})})}return{get firstHiddenTime(){return Bi}}},Xr=s=>{document.prerendering?addEventListener("prerenderingchange",()=>s(),!0):s()},vl=[1800,3e3],hu=(s,n={})=>{Xr(()=>{let t=lu(),e,i=is("FCP"),r=Fn("paint",o=>{for(let c of o)c.name==="first-contentful-paint"&&(r.disconnect(),c.startTime<t.firstHiddenTime&&(i.value=Math.max(c.startTime-Bn(),0),i.entries.push(c),e(!0)))});r&&(e=ss(s,i,vl,n.reportAllChanges),en(o=>{i=is("FCP"),e=ss(s,i,vl,n.reportAllChanges),fc(()=>{i.value=performance.now()-o.timeStamp,e(!0)})}))})},_l=[.1,.25],Im=(s,n={})=>{hu(yc(()=>{let t,e=is("CLS",0),i=mc(n,ka),r=c=>{for(let u of c)i.h(u);i.i>e.value&&(e.value=i.i,e.entries=i.o,t())},o=Fn("layout-shift",r);o&&(t=ss(s,e,_l,n.reportAllChanges),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(r(o.takeRecords()),t(!0))}),en(()=>{i.i=0,e=is("CLS",0),t=ss(s,e,_l,n.reportAllChanges),fc(()=>t())}),setTimeout(t))}))},uu=0,sa=1/0,fr=0,Pm=s=>{for(let n of s)n.interactionId&&(sa=Math.min(sa,n.interactionId),fr=Math.max(fr,n.interactionId),uu=fr?(fr-sa)/7+1:0)},Da,wl=()=>{var s;return Da?uu:(s=performance.interactionCount)!=null?s:0},Om=()=>{"interactionCount"in performance||Da||(Da=Fn("event",Pm,{type:"event",buffered:!0,durationThreshold:0}))},bl=0,xa=class{constructor(){Es(this,"u",[]);Es(this,"l",new Map);Es(this,"m");Es(this,"p")}v(){bl=wl(),this.u.length=0,this.l.clear()}P(){let n=Math.min(this.u.length-1,Math.floor((wl()-bl)/50));return this.u[n]}h(n){var i,r;if((i=this.m)==null||i.call(this,n),!n.interactionId&&n.entryType!=="first-input")return;let t=this.u.at(-1),e=this.l.get(n.interactionId);if(e||this.u.length<10||n.duration>t.T){if(e?n.duration>e.T?(e.entries=[n],e.T=n.duration):n.duration===e.T&&n.startTime===e.entries[0].startTime&&e.entries.push(n):(e={id:n.interactionId,entries:[n],T:n.duration},this.l.set(e.id,e),this.u.push(e)),this.u.sort((o,c)=>c.T-o.T),this.u.length>10){let o=this.u.splice(10);for(let c of o)this.l.delete(c.id)}(r=this.p)==null||r.call(this,e)}}},du=s=>{let n=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?s():(n(s=yc(s)),document.addEventListener("visibilitychange",s,{once:!0}))},Tl=[200,500],Nm=(s,n={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Xr(()=>{var c;Om();let t,e=is("INP"),i=mc(n,xa),r=u=>{du(()=>{for(let v of u)i.h(v);let p=i.P();p&&p.T!==e.value&&(e.value=p.T,e.entries=p.entries,t())})},o=Fn("event",r,{durationThreshold:(c=n.durationThreshold)!=null?c:40});t=ss(s,e,Tl,n.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(r(o.takeRecords()),t(!0))}),en(()=>{i.v(),e=is("INP"),t=ss(s,e,Tl,n.reportAllChanges)}))})},La=class{constructor(){Es(this,"m")}h(n){var t;(t=this.m)==null||t.call(this,n)}},Al=[2500,4e3],Mm=(s,n={})=>{Xr(()=>{let t=lu(),e,i=is("LCP"),r=mc(n,La),o=u=>{n.reportAllChanges||(u=u.slice(-1));for(let p of u)r.h(p),p.startTime<t.firstHiddenTime&&(i.value=Math.max(p.startTime-Bn(),0),i.entries=[p],e())},c=Fn("largest-contentful-paint",o);if(c){e=ss(s,i,Al,n.reportAllChanges);let u=yc(()=>{o(c.takeRecords()),c.disconnect(),e(!0)});for(let p of["keydown","click","visibilitychange"])addEventListener(p,()=>du(u),{capture:!0,once:!0});en(p=>{i=is("LCP"),e=ss(s,i,Al,n.reportAllChanges),fc(()=>{i.value=performance.now()-p.timeStamp,e(!0)})})}})},Rl=[800,1800],Ua=s=>{document.prerendering?Xr(()=>Ua(s)):document.readyState!=="complete"?addEventListener("load",()=>Ua(s),!0):setTimeout(s)},km=(s,n={})=>{let t=is("TTFB"),e=ss(s,t,Rl,n.reportAllChanges);Ua(()=>{let i=gc();i&&(t.value=Math.max(i.responseStart-Bn(),0),t.entries=[i],e(!0),en(()=>{t=is("TTFB",0),e=ss(s,t,Rl,n.reportAllChanges),e(!0)}))})},Dm=(()=>{class s{onFCP(t){try{hu(t,{reportAllChanges:!0})}catch{ot.counters.webVitalsErrors.count("FCP")}}onCLS(t){try{Im(t,{reportAllChanges:!0})}catch{ot.counters.webVitalsErrors.count("CLS")}}onLCP(t){try{Mm(t,{reportAllChanges:!0})}catch{ot.counters.webVitalsErrors.count("LCP")}}onTTFB(t){try{km(t,{reportAllChanges:!0})}catch{ot.counters.webVitalsErrors.count("TTFB")}}onINP(t){try{Nm(t,{reportAllChanges:!0})}catch{ot.counters.webVitalsErrors.count("INP")}}}return s})();var $n=(()=>{class s{isEventTypeSupported(t){return csArray.prototype.indexOf.call(this.supportedEventTypes,t)!==-1}enhanceAnalysisEvent(t,e){return this.isEventTypeSupported(e.type)?this.baseEnhanceAnalysisEvent(t,e):e}}return s})(),xm=(()=>{class s extends $n{constructor(){super(...arguments),this.supportedEventTypes=[rt.CHANGE],this.l_=["text","email","number","search","tel","url","password"]}baseEnhanceAnalysisEvent(t,e){let i=Zt(t);return Hr(i)&&csArray.prototype.indexOf.call(this.l_,i.type)>=0&&(e.isBlank=i.value===""),e}}return s})();var pu=(()=>{class s extends $n{constructor(t){super(),this.mt=t,this.supportedEventTypes=[rt.MOUSEDOWN,rt.MOUSEUP,rt.CLICK,rt.MOUSEOVER,rt.TAP,rt.DRAG,rt.FLICK,rt.SUBMIT,rt.CHANGE]}baseEnhanceAnalysisEvent(t,e){return e.tgt||(e.tgt=this.mt.getEventTargetPath(t)),e}}return s})(),Cl=65535,Lm=(()=>{let s;return function(n){function t(e){let i=Zt(e);if(!i||!It(i)||!ts(i.getBoundingClientRect)||!Nt(e.pageX)||!Nt(e.pageY))return{xRel:-1,yRel:-1,valid:!1};let r=i.getBoundingClientRect(),o=e.pageX-r.left-Yt.windowOffsetX(),c=e.pageY-r.top-Yt.windowOffsetY();i!==document.documentElement&&(o+=i.scrollLeft,c+=i.scrollTop);let u=Math.max(i.scrollWidth,r.width),p=Math.max(i.scrollHeight,r.height),v=Math.round(o/u*Cl),f=Math.round(c/p*Cl);return{xRel:v,yRel:f,valid:!0}}n.getRelativePosition=t}(s||(s={})),s})(),Um=Math.pow(2,31);function Vm(s,n=0){let u=n>>>0,p=s.length;for(let _=0;_<p-3;_+=4){let R=(csString.prototype.charCodeAt.call(s,_)&255|(csString.prototype.charCodeAt.call(s,_+1)&255)<<8|(csString.prototype.charCodeAt.call(s,_+2)&255)<<16|(csString.prototype.charCodeAt.call(s,_+3)&255)<<24)>>>0;R=Math.imul(R,3432918353),R=R<<15|R>>>17,R=Math.imul(R,461845907),u^=R,u=u<<13|u>>>19,u=Math.imul(u,5)+3864292196}let v=0,f=p&3,w=p-f;switch(f){case 3:v^=(csString.prototype.charCodeAt.call(s,w+2)&255)<<16;case 2:v^=(csString.prototype.charCodeAt.call(s,w+1)&255)<<8;case 1:v^=csString.prototype.charCodeAt.call(s,w)&255,v=Math.imul(v,3432918353),v=v<<15|v>>>17,v=Math.imul(v,461845907),u^=v}return u^=p,u^=u>>>16,u=Math.imul(u,2246822507),u^=u>>>13,u=Math.imul(u,3266489909),u^=u>>>16,u>>>0}function fu(s){return Vm(s)+Um>>>0}var jm=(()=>{class s extends $n{constructor(t,e){super(),this.ps=t,this.mt=e,this.supportedEventTypes=[rt.MOUSEMOVE,rt.CLICK],this.Rl=""}baseEnhanceAnalysisEvent(t,e){let{valid:i,xRel:r,yRel:o}=Lm.getRelativePosition(t);if(i){let c=this.mt.getEventTargetPath(t);c!==As.INVALID_ELEMENT&&(e.xRel=r,e.yRel=o,e.type===rt.MOUSEMOVE&&(c!==this.Rl||this.ps.iframesTracking?(this.Rl=c,e.tgtHM=c,this.ps.isChild||(e.tgtHMH=fu(e.tgtHM))):e.tgtHM=""))}else e.type===rt.MOUSEMOVE&&(this.Rl="");return e}}return s})(),Fs=(()=>{let s;return function(n){n[n.ANONYMIZED=0]="ANONYMIZED",n[n.CAPTURED=1]="CAPTURED",n[n.MASKED=2]="MASKED",n[n.ENCRYPTED=3]="ENCRYPTED"}(s||(s={})),s})(),Il=100,gu=(()=>{class s extends $n{constructor(t,e,i){super(),this.f=t,this.he=e,this.N=i,this.supportedEventTypes=[rt.TAP,rt.CLICK,rt.SUBMIT]}h_(t){let e="",i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),r=i.nextNode();for(;r;){if(e+=r.textContent,rc(r.parentElement)||nc(r.parentElement)||this.he.getElementSensitiveStatus(r.parentElement)!==Fs.CAPTURED)return!0;if(csString.prototype.trim.call(e).length>=Il)break;r=i.nextNode()}return!1}u_(t){let e=Xi(t,"button,a");return e||(this.f.collectTargetText===ba.ButtonAndLinkOnly?null:t)}baseEnhanceAnalysisEvent(t,e){if(Rs(csEventtarget.apply(t))){let i=this.u_(csEventtarget.apply(t));if(i&&L(i.textContent)&&!this.h_(i)&&!this.N.hasPII(i.textContent,this.f.anonymizeDigits)){let r=_t.truncate(csString.prototype.trim.call(i.textContent),Il);r.length>0&&(e.text=r)}}return e}}return s})(),mu=(()=>{class s extends $n{constructor(t,e){super(),this.mt=t,this.he=e,this.supportedEventTypes=[rt.CLICK,rt.SUBMIT,rt.CHANGE,rt.TAP]}baseEnhanceAnalysisEvent(t,e){let i=this.he.getSensitiveStatus().useAnonymization,{path:r,hierarchy:o}=this.mt.getEventTargetPathAndHierarchy(t,i);return e.tgt=r,e.hrchy=o,e}}return s})();function Hm(s,n,t){let e=[];return csArray.prototype.push.call(e,new jm(s,n)),s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new gu(s,t,new Hn)),s.collectHierarchy&&csArray.prototype.push.call(e,new mu(n,t)),csArray.prototype.push.call(e,new xm,new pu(n)),e}function Bm(s,n,t){let e=[];return s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new gu(s,t,new Hn)),s.collectHierarchy&&csArray.prototype.push.call(e,new mu(n,t)),csArray.prototype.push.call(e,new pu(n)),e}var Fm=50,$m=(()=>{class s{constructor(t=[]){this.Ut=t}stringifyEvents(){return csJSON.stringify(this.Ut)}addEvent(t){csArray.prototype.push.call(this.Ut,t)}eventsCount(){return this.Ut.length}clearEvents(){this.Ut=[]}empty(){this.clearEvents()}isFull(){return this.eventsCount()>=Fm}isEmpty(){return this.Ut.length===0}getEvents(){return this.Ut}}return s})(),zm="csAnalysisEventsPersisted",Pl="v2/events",Ec=["submit"],Va=["trackEvent"];var Gm=(()=>{class s{constructor(t,e,i,r,o,c,u,p,v,f,w,_,R){this.f=t,this.Et=e,this.O=i,this.Q=r,this.Lt=o,this.E=c,this.Y=u,this.xt=p,this.ut=v,this.Vt=f,this.F=w,this.he=_,this.Ks=R}init(){let t=new $m,e=this.Vt.create(`${this.f.getTrackerUri()}/${Pl}`,!0,"base64");this.Zo=this.d_(e),this.Oe=this.p_(t,this.Zo.getRecoveryStorage(),e),this.Oe.init(),this.F.addListener(this.Oe),this.ut.addListener(this.Oe),this.E.register(Ec,(i,r)=>{this.Oe.pushSubmitCommandEvent(i,r)}),this.E.register(Va,i=>{if(!ut(i)){J.error(`Command misuse: ${Va}`);return}this.Oe.pushCustomEvent(i.name,i.source,i.properties)})}onStartTracking(t){this.Zo.start(),this.Oe.start(t)}onAfterNaturalPageView(){this.Oe.initStates()}onAfterArtificialPageView(){this.Oe.initStates(),this.Oe.collectInitialEvents()}onArtificialPageViewEnd(){this.Oe.clearStates(!0)}onBeforeSessionRenewal(){this.Oe.clearStates(),this.Oe.stop(),this.Zo.stop()}onOptout(){this.Oe.stop(),this.Zo.stop()}p_(t,e,i){var r;let o=new hm(window),c=new Sm,u=Hm(this.f,this.Q,this.he),p=[];this.f.collectSubmit||csArray.prototype.push.call(p,"submit");let v=new Em(u,this.Q,this.Lt,p),f=Bm(this.f,this.Q,this.he),w=new mm(f,this.xt),_=new Rm(new Dm),R=new ou,H,U,I,P=new au(`${this.f.getTrackerUri()}/${Pl}`),$=new Dn(this.Et,this.O),q,M,Z,at;return new bm(this.f,v,w,c,o,t,P,$,this.Y,e,this.Q,_,R,i,H,U,I,q,M,Z,at)}d_(t){return new Tm(new Am(zm),t)}}return s})(),qm=(()=>{class s extends re{constructor(t,e,i,r){super(),this.pt=t,this.Cl=e,this.Et=i,this.fe=r,this.ta=[],this.Js=0}init(){this.pt.init()}initStates(){this.Il(),this.ta=[],this.Js=0,this.ml()}ml(){this.Qe=F.now()}Ii(){return F.now()-this.Qe}onStart(){this.pt.subscribe(s.jt,t=>this.J(t))}onStop(){this.pt.unsubscribe(s.jt)}onIframeApiError(t){this.J(t)}J(t){this.isStarted&&this.Js<s.wr&&(t.relativeTime=this.Ii(),csArray.prototype.push.call(this.ta,this.fe.anonymize(t)),this.br(),ot.counters.networkRequests.count("collected"))}Il(){this.Cl.removeQueryParams(),this.Cl.setQueryParams(this.Et.getRequestParameters())}br(){this.Cl.send({errors:this.ta}),this.ta=[],this.Js+=1}}return s.jt="ApiErrorsService",s.wr=20,s})(),Wm="api-errors",ja=["api-errors:maskUrl"],Ym=(()=>{class s{constructor(t,e,i,r,o,c,u){this.pt=t,this.fe=e,this.f=i,this.Et=r,this.ut=o,this.E=c,this.Vt=u}init(){let t=this.Vt.create(`${this.f.getTrackerUri()}/${Wm}`,!0);this.Ni=new qm(this.pt,t,this.Et,this.fe),this.Ni.init(),this.ut.addListener(this.Ni),this.ht()}ht(){this.E.register(ja,t=>{if(!L(t))throw new pe(ja[0]);this.fe.addUrlMaskingPattern(t)})}onStartTracking(){this.Ni.start()}onAfterNaturalPageView(){this.Ni.initStates()}onAfterArtificialPageView(){this.Ni.initStates()}onBeforeSessionRenewal(){this.Ni.stop()}onOptout(){this.Ni.stop()}}return s})(),Xm=(()=>{class s{constructor(t){this.Pl=t}buildApiErrors(t,e){let i=this.Pl.collectDataPoints(t,e);if(i===null)return null;let r=this.f_(t,i);if(e){let o=this.g_(t,i);return{apiError:r,detailedApiError:o}}return{apiError:r}}g_(t,e){let i=this.Zp(t);return e.collectQueryParam&&t.queryParameters&&(i.queryParameters=t.queryParameters),e.collectRequestBody&&t.requestBody&&(i.requestBody=t.requestBody),e.collectResponseBody&&t.responseBody&&(i.responseBody=t.responseBody),Object.keys(e.standardRequestHeaders).length>0&&(i.standardRequestHeaders=e.standardRequestHeaders),Object.keys(e.standardResponseHeaders).length>0&&(i.standardResponseHeaders=e.standardResponseHeaders),Object.keys(e.customRequestHeaders).length>0&&(i.customRequestHeaders=csJSON.stringify(e.customRequestHeaders)),Object.keys(e.customResponseHeaders).length>0&&(i.customResponseHeaders=csJSON.stringify(e.customResponseHeaders)),Object.keys(e.plainCustomRequestHeaders).length>0&&(i.plainCustomRequestHeaders=e.plainCustomRequestHeaders),Object.keys(e.plainCustomResponseHeaders).length>0&&(i.plainCustomResponseHeaders=e.plainCustomResponseHeaders),e.plainResponseBodyAttributes&&Object.keys(e.plainResponseBodyAttributes).length>0&&(i.plainResponseBodyAttributes=e.plainResponseBodyAttributes),e.plainRequestBodyAttributes&&Object.keys(e.plainRequestBodyAttributes).length>0&&(i.plainRequestBodyAttributes=e.plainRequestBodyAttributes),Object.keys(e.responseBodyAttributes).length>0&&(i.responseBodyAttributes=csJSON.stringify(e.responseBodyAttributes)),Object.keys(e.requestBodyAttributes).length>0&&(i.requestBodyAttributes=csJSON.stringify(e.requestBodyAttributes)),i}Zp(t){return{errorType:"apiError",url:t.url,method:t.method,requestTime:t.requestTime,responseTime:t.responseTime,statusCode:t.statusCode,library:t.library}}f_(t,e){let i=this.Zp(t);return e.matchingBodyContents.length>0&&(i.matchingBodyContents=e.matchingBodyContents),Object.keys(e.plainResponseBodyAttributes).length>0&&(i.plainBodyResponseAttributes=e.plainResponseBodyAttributes),i}}return s})(),Km=(()=>{class s extends pc{constructor(t,e,i){super(),this.sa=t,this.ia=e,this.Pl=i,this.Ol=0,this.m_=new Xm(i)}subscribe(t,e,i){i!=null&&i.detailedEvent&&(Object.defineProperty(e,"detailedEvent",{value:i.detailedEvent}),this.Ol++),super.subscribe(t,e)}unsubscribe(t){var e;!((e=this.subscriptions[t])===null||e===void 0)&&e.hasOwnProperty("detailedEvent")&&this.Ol--,super.unsubscribe(t)}init(){let t=this.Pl.computeApiErrorCollectionOptions();this.sa.setCollectionOptions(t),this.sa.onEvent(e=>this.tf(e)),this.ia.setCollectionOptions(t),this.ia.onEvent(e=>this.tf(e))}onStartTracking(){this.sa.start(),this.ia.start()}onStopTracking(){this.sa.stop(),this.ia.stop()}tf(t){let e=this.m_.buildApiErrors(t,this.Ol!==0);if(e)for(let i in this.subscriptions){let r=this.subscriptions[i];r.hasOwnProperty("detailedEvent")?e.detailedApiError&&r(e.detailedApiError):r(e.apiError)}}}return s})(),Jm=(()=>{class s{constructor(t,e,i=!1){this.ft=t,this.Z=e,this.Tr=i}addUrlMaskingPattern(t){this.ft.addUrlMaskingPattern(t)}anonymize(t){let e=this.Z.removeQueryString(t.url),i={maskingPatterns:this.ft.getUrlMaskingPatterns(),partialMaskingPatterns:this.ft.getPartialUrlMaskingPatterns(),maskNames:this.Tr};return{...t,url:this.Z.anonymizeUrl(e,i),library:t.library?this.Z.anonymizeUrl(t.library,i):void 0}}}return s})(),Qm=(()=>{class s{constructor(){this.y_=64e3,this.E_=5e3,this.S_=2e3,this.ef=8e3,this.Ts=!!self.TextEncoder,this.Ts&&(this.v_=new TextEncoder)}Ar(t){return this.v_.encode(t).byteLength}sf(t,e,i){let r=0;t[e]&&(r+=this.Ar(t[e]),r>this.ef&&(r=0,t[e]=_t.ELLIPSIS)),t[i]&&(r+=this.Ar(csJSON.stringify(t[i])),r>this.ef&&(t[i]=s.truncatedObjectMarker))}__(t){t.queryParameters&&this.Ar(t.queryParameters)>this.S_&&(t.queryParameters=_t.ELLIPSIS)}w_(t){t.requestBody&&this.Ar(t.requestBody)>this.y_&&(t.requestBody=_t.ELLIPSIS),t.responseBody&&this.Ar(t.responseBody)>this.E_&&(t.responseBody=_t.ELLIPSIS)}truncate(t){this.Ts?(this.__(t),this.w_(t),this.sf(t,"customResponseHeaders","plainCustomResponseHeaders"),this.sf(t,"customRequestHeaders","plainCustomRequestHeaders")):(t.queryParameters="",t.requestBody="",t.responseBody="",t.customResponseHeaders="",t.customRequestHeaders="",t.plainCustomResponseHeaders={},t.plainCustomRequestHeaders={})}}return s.truncatedObjectMarker={[_t.ELLIPSIS]:_t.ELLIPSIS},s})(),Zm=(()=>{let s;return function(n){function t(r){let o="[",c="]",u=[];for(let p=0;p<r.length;++p)if(r[p]===o)csArray.prototype.push.call(u,r[p]);else if(r[p]===c)if(csString.prototype.indexOf.call(r,o)>-1)csArray.prototype.pop.call(u);else return!1;return u.length===0}function e(r){if(!r)return!0;if(!t(r))return!1;let o=csString.prototype.split.call(r,/[\[\]]/);return csArray.prototype.every.call(o,c=>{let u=c[0],p=c[c.length-1];if((u==="'"||u==='"')&&u!==p)return!1;let v=csString.prototype.split.call(c,".");return v[0].length===0&&csArray.prototype.shift.call(v),csArray.prototype.every.call(v,f=>{let w=/^\-?\d+$/.exec(f);return w?parseInt(w[0],10)>=0:f==="$"||/\w+/.test(f)})})}n.isValidJSONPath=e;function i(r,o){if(!r)return;let c=csString.prototype.split.call(r,/[\$\[\]]/),u=[];csArray.prototype.forEach.call(c,v=>{if(v[0]==="'"||v[0]==='"'){csArray.prototype.push.call(u,csString.prototype.substring.call(v,1,v.length-1));return}csArray.prototype.push.call(u,...csArray.prototype.filter.call(csString.prototype.split.call(v,"."),f=>f.length>0))}),u[0]==="$"&&csArray.prototype.shift.call(u);let p=o;for(let v of u)if(p[v]!==void 0)p=p[v];else return;return p}n.getJSONPathValue=i}(s||(s={})),s})(),ty=(()=>{class s{constructor(){this.b_=new Set(["age","cache-control","clear-site-data","expires","pragma","warning","downlink","ect","rtt","last-modified","connection","keep-alive","accept","accept-encoding","accept-language","expect","access-control-allow-origin","access-control-allow-credentials","access-control-allow-headers","access-control-allow-methods","access-control-expose-headers","access-control-max-age","access-control-request-headers","access-control-request-method","origin","timing-allow-origin","content-length","content-type","content-encoding","content-language","via","host","referrer-policy","user-agent","allow","server","accept-ranges","range","if-range","content-range","cross-origin-embedder-policy","cross-origin-opener-policy","cross-origin-resource-policy","content-security-policy","content-security-policy-report-only","expect-ct","feature-policy","strict-transport-security","upgrade-insecure-requests","x-content-type-options","x-download-options","x-frame-options","x-permitted-cross-domain-policies","x-powered-by","x-xss-protection","sec-fetch-site","sec-fetch-mode","sec-fetch-user","sec-fetch-dest"])}isValidStandardHeader(t){return this.b_.has(t)}}return s})(),ey=(()=>{class s{constructor(){this.T_=64e3,this.A_=100,this.et={collectQueryParam:!1,collectRequestBody:!1,collectResponseBody:!1,matchingBodyContents:[],plainResponseBodyAttributes:{},plainRequestBodyAttributes:{},requestBodyAttributes:{},responseBodyAttributes:{},standardRequestHeaders:{},standardResponseHeaders:{},customRequestHeaders:{},customResponseHeaders:{},plainCustomRequestHeaders:{},plainCustomResponseHeaders:{}},this.nf=new ty}R_(t){return t.length<=this.T_}C_(t){let e=t["content-type"];return e!==void 0&&(Xt(e,"application/json")||Xt(e,"application/graphql"))}I_(t,e){return t&&this.R_(t)&&this.C_(e)}na(t,e,i,r){let o=r==="request"?this.P_:this.O_;if(o!==void 0||this.I_(e,i)){if(o===void 0)try{o=csJSON.parse(e),r==="request"?this.P_=o:this.O_=o}catch{return}let c=Zm.getJSONPathValue(t,o);if(c!==void 0&&(c===null||!Js(c))){let u=L(c)?c:csJSON.stringify(c);return _t.truncate(u,this.A_,_t.ELLIPSIS)}}}isBodyAttributeValueFound(t,e){let i,r;return(e.type==="request-response"||e.type==="response")&&(i=this.na(e.path,t.responseBody,t.responseHeaders,"response")),(e.type==="request-response"||e.type==="request")&&(r=this.na(e.path,t.requestBody,t.requestHeaders,"request")),dt(i)||dt(r)}collectBodyAttribute(t,e,i){let r;(e.type==="request-response"||e.type==="response")&&(r=this.na(e.path,t.responseBody,t.responseHeaders,"response"),r&&(e.encrypted?this.et.responseBodyAttributes[e.path]=r:(r=i(r),this.et.plainResponseBodyAttributes[e.path]=r))),(e.type==="request-response"||e.type==="request")&&(r=this.na(e.path,t.requestBody,t.requestHeaders,"request"),r&&(e.encrypted?r&&(this.et.requestBodyAttributes[e.path]=r):(r=i(r),this.et.plainRequestBodyAttributes[e.path]=r)))}isBodyContentMatching(t,e){return t.responseBody?!!new csRegExp(e,"i").test(t.responseBody):!1}collectBodyContent(t){csArray.prototype.indexOf.call(this.et.matchingBodyContents,t)===-1&&csArray.prototype.push.call(this.et.matchingBodyContents,t)}collectCustomHeaders(t,e,i){let r=csString.prototype.toLocaleLowerCase.call(e.headerName);t.responseHeaders[r]&&(e.type==="request-response"||e.type==="response")&&(e.encrypted?this.et.customResponseHeaders[r]=t.responseHeaders[r]:this.et.plainCustomResponseHeaders[r]=i(t.responseHeaders[r])),t.requestHeaders[r]&&(e.type==="request-response"||e.type==="request")&&(e.encrypted?this.et.customRequestHeaders[r]=t.requestHeaders[r]:this.et.plainCustomRequestHeaders[r]=i(t.requestHeaders[r]))}collectStandardHeaders(t){if(!(Object.keys(this.et.standardRequestHeaders).length>0||Object.keys(this.et.standardResponseHeaders).length>0)){for(let[e,i]of Object.entries(t.requestHeaders))this.nf.isValidStandardHeader(e)&&(this.et.standardRequestHeaders[e]=i);for(let[e,i]of Object.entries(t.responseHeaders))this.nf.isValidStandardHeader(e)&&(this.et.standardResponseHeaders[e]=i)}}setCollectQueryParam(t){t&&(this.et.collectQueryParam=!0)}setCollectResponseBody(t){t&&(this.et.collectResponseBody=!0)}setCollectRequestBody(t){t&&(this.et.collectRequestBody=!0)}getCollectedDataPoints(){return this.et}}return s})(),_n=(()=>{let s;return function(n){n.CONTENTSQUARE="contentsquare.net",n.CLICKTALE="clicktale.net",n.FAKE_TRACKER="fake-tracker.content-square.fr",n.HEAP_API="heap-api.com",n.HEAP_ANALYTICS="heapanalytics.com"}(s||(s={})),s})(),sy=(()=>{class s{constructor(t,e){this.ra=t,this.N=e}collectDataPoints(t,e){this.et=new ey;let i=!1;if(this.ra.collectionRules)for(let r of this.ra.collectionRules)this.N_(r,t)&&this.M_(r,t)&&this.k_(r,t)&&(i=!0,this.D_(t,r,e));return i||(i=this.x_(t)),i&&e&&this.ra.collectStandardHeaders&&this.et.collectStandardHeaders(t),i?this.et.getCollectedDataPoints():null}computeApiErrorCollectionOptions(){let t=this.ra.collectionRules||[],e=new Set,i=[];for(let o of t)o.statusCode!==void 0&&e.add(o.statusCode),o.url!==void 0&&csArray.prototype.indexOf.call(i,o.url)===-1&&csArray.prototype.push.call(i,o.url);let r=[_n.CONTENTSQUARE,_n.CLICKTALE,_n.HEAP_API,_n.HEAP_ANALYTICS];return csArray.prototype.push.call(r,_n.FAKE_TRACKER),{statusCodes:e,urls:i,excludedDomains:r}}N_(t,e){return(!t.statusCode&&e.statusCode>=400||t.statusCode!==void 0&&t.statusCode===e.statusCode)&&(!t.url||csString.prototype.indexOf.call(e.url,t.url)!==-1)}M_(t,e){return t.bodyContent?this.et.isBodyContentMatching(e,t.bodyContent):!0}k_(t,e){let i=csArray.prototype.find.call(t.bodyAttributePaths,r=>r.primary);return i===void 0?!0:this.et.isBodyAttributeValueFound(e,i)}x_(t){return t.statusCode>=400}D_(t,e,i){e.bodyContent&&this.et.collectBodyContent(e.bodyContent);let r=Je(e.bodyAttributePaths,o=>o.primary===1);if(r&&this.et.collectBodyAttribute(t,r,o=>this.N.anonymizePII(o)),i){this.et.setCollectQueryParam(e.collectQueryParam),this.et.setCollectResponseBody(e.collectResponseBody),this.et.setCollectRequestBody(e.collectRequestBody);for(let c of e.customHeaders)this.et.collectCustomHeaders(t,c,u=>this.N.anonymizePII(u));let o=Mn(e.bodyAttributePaths,c=>!c.primary);for(let c of o)this.et.collectBodyAttribute(t,c,u=>this.N.anonymizePII(u))}}}return s})();var iy=(()=>{let s;return function(n){function o(p,v,f=!1){let _={message:_t.truncate(p,300,_t.ELLIPSIS),errorType:"customError"};return(f||u(v))&&(c(v),_.attributes=v),_}n.buildCustomErrorEvent=o;function c(p){for(let v in p){let f=p[v];if(typeof f=="string"&&f.length>30&&(f=_t.truncate(f,30,_t.ELLIPSIS),p[v]=f),v.length>30){let w=_t.truncate(v,30,_t.ELLIPSIS);delete p[v],p[w]=f}}}function u(p){let v=Object.keys(p).length;return v>0&&v<=5}}(s||(s={})),s})();var Kr=["trackError"],ny=20,ry=(()=>{class s extends re{constructor(t,e,i,r,o){super(),this.Dl=t,this.Et=e,this.Qs=i,this.F=r,this.As=o,this.oa=[],this.Mi=0,this.ki=[]}initStates(){var t;this.Il(),this.Qe=F.now(),this.oa=[],this.Mi=0,(t=this.As)===null||t===void 0||t.onEvent(e=>this.J(e))}trackCustomError(t,e={}){if(!(L(t)&&Js(e)&&Nt(e)))throw new pe(Kr[0]);let i=iy.buildCustomErrorEvent(t,e);this.Rr(i)}onIframeCustomError(t){this.J(t)}onStart(){var t;this.xl(),(t=this.As)===null||t===void 0||t.start()}onStop(){var t;(t=this.As)===null||t===void 0||t.stop()}xl(){this.isStarted&&(csArray.prototype.forEach.call(this.ki,t=>this.Rr(t)),this.ki=[])}Rr(t){if(this.isStarted){let e=this.J(t);e&&this.F.emitCustomErrorEvent(e)}else csArray.prototype.push.call(this.ki,t)}J(t){if(this.isStarted&&this.Mi<ny){let e=this.U_(t);return csArray.prototype.push.call(this.oa,e),this.br(),e}return null}U_(t){let e={...t,rt:this.Ii()};return e.message=this.Qs.anonymize(t.message),e}Il(){this.Dl.removeQueryParams(),this.Dl.setQueryParams(this.Et.getRequestParameters())}Ii(){return F.now()-this.Qe}br(){this.Dl.send({errors:this.oa}),this.oa=[],this.Mi+=1}}return s})(),oy="custom-errors",ay=(()=>{class s{constructor(t,e,i,r,o,c,u,p){this.Qs=t,this.f=e,this.Et=i,this.E=r,this.Zs=o,this.Vt=c,this.ut=u,this.As=p}init(){let t=this.Vt.create(`${this.f.getTrackerUri()}/${oy}`,!0);this.Di=new ry(t,this.Et,this.Qs,this.Zs,this.As),this.ut.addListener(this.Di),this.ht()}ht(){this.E.register(Kr,(t,e)=>{this.Di.trackCustomError(t,e)})}onStartTracking(){this.Di.start()}onAfterNaturalPageView(){this.Di.initStates()}onAfterArtificialPageView(){this.Di.initStates()}onBeforeSessionRenewal(){this.Di.stop()}onOptout(){this.Di.stop()}}return s})(),cy=/(\b["']?key["']?\s*[=:]\s*["'](?:first|last|user|profile|primary|primary[ _-]?last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["']|â€¦$)|(\b["']?(?:first|last|user|profile|primary|primary[ _-]?last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["']|â€¦$)/gi,ly="$1$4CS_ANONYMIZED_NAME$3$6",hy=/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g,uy="CS_ANONYMIZED_PHONE",dy=(()=>{class s{constructor(t,e){this.N=t,this.Z=e}anonymize(t){return this.Z?csArray.prototype.join.call(csArray.prototype.map.call(wp(t),({content:e,isUrl:i})=>{var r;return i?(r=this.Z)===null||r===void 0?void 0:r.anonymizeUrl(e,{maskNames:!0}):this.rf(e)}),""):this.rf(t)}rf(t){t=this.N.anonymizePII(t);let e=t;t=this.Tr(t),t!==e&&(ot.counters.redactedPII.count("name"),ot.counters.redactedPII.count("name-in-custom-error"));let i=t;return t=this.V_(t),t!==i&&(ot.counters.redactedPII.count("phone"),ot.counters.redactedPII.count("phone-in-custom-error")),t}Tr(t){return csString.prototype.replace.call(t,cy,ly)}V_(t){return csString.prototype.replace.call(t,hy,uy)}}return s})(),py=20,fy="Custom Error:",gy="https://cserror.com/texterror.js",my=(()=>{class s extends re{constructor(t,e,i,r,o,c){super(),this.Rs=t,this.Ll=e,this.Et=i,this.ge=r,this.Zs=o,this.w=c,this.aa=[],this.xi=0,this.ki=[]}initStates(){this.Qe=F.now(),this.Ll.removeQueryParams(),this.Ll.setQueryParams(this.Et.getRequestParameters()),this.aa=[],this.xi=0}onStart(){this.Rs.subscribe(s.jt,t=>this.J(t)),this.xl()}onStop(){this.Rs.unsubscribe(s.jt)}onIframeJavascriptError(t){this.J(t)}trackCustomError(t){let e={errorType:"jsError",message:`${fy} ${t}`,lineno:1,colno:1,filename:gy};this.Rr(e)}Rr(t){if(this.isStarted){let e=this.J(t);e&&this.Zs.emitCustomJavaScriptErrorEvent(e)}else csArray.prototype.push.call(this.ki,t)}xl(){this.isStarted&&(csArray.prototype.forEach.call(this.ki,t=>this.Rr(t)),this.ki=[])}J(t){if(this.isStarted&&this.xi<py){let e={...t,pageUrl:this.w.getAnonymizedUrl(),rt:this.Ii()};return this.ge.anonymize(e),csArray.prototype.push.call(this.aa,e),this.br(),e}return null}Ii(){return F.now()-this.Qe}br(){this.Ll.send({errors:this.aa}),this.aa=[],this.xi+=1}}return s.jt="JavaScriptErrorsService",s})(),yy="errors",Ey=(()=>{class s{constructor(t,e,i,r,o,c,u,p,v){this.Rs=t,this.ge=e,this.f=i,this.Et=r,this.ut=o,this.E=c,this.Zs=u,this.w=p,this.Vt=v}init(){let t=this.Vt.create(`${this.f.getTrackerUri()}/${yy}`,!0);this.Li=new my(this.Rs,t,this.Et,this.ge,this.Zs,this.w),this.ut.addListener(this.Li),this.ht()}ht(){this.f.jsCustomErrorsEnabled&&!this.f.customErrors.enabled&&this.E.register(Kr,t=>{this.Li.trackCustomError(t)})}onStartTracking(){this.Li.start()}onAfterNaturalPageView(){this.Li.initStates()}onAfterArtificialPageView(){this.Li.initStates()}onBeforeSessionRenewal(){this.Li.stop()}onOptout(){this.Li.stop()}}return s})(),yu=(()=>{class s{constructor(t){this.A=t,this.ti=!1,this.zt={boundElement:yt,type:"error",listener:e=>this.j_(e)}}observe(){Mt(this.zt,this.ti)}disconnect(){kt(this.zt,this.ti)}j_(t){this.A(t)}}return s})(),Sy=(()=>{class s extends pc{constructor(){super(),this.W=new yu(t=>this.errorListener(t))}onStartTracking(){this.W.observe()}onStopTracking(){this.W.disconnect()}errorListener(t){let e=this.H_(t);for(let i in this.subscriptions){let r=this.subscriptions[i];r(e)}}B_(t){return t=t!=null?t:"[NO ERROR MESSAGE]",_t.truncate(t,s.Ul,_t.ELLIPSIS)}F_(t){return!t||xe(t)?"":_t.truncate(t,s.Vl,_t.ELLIPSIS)}H_(t){return{errorType:"jsError",message:this.B_(t.message),filename:this.F_(t.filename),lineno:t.lineno,colno:t.colno}}}return s.Ul=1024,s.Vl=150,tt([B("Event handler type: error")],s.prototype,"errorListener",null),s})(),vy="CS_ANONYMIZED_VALUE",_y=(()=>{class s{constructor(t,e){this.N=t,this.w=e}anonymize(t){return L(t.message)&&(t.message=this.$_(t.message),t.message=this.N.anonymizePII(t.message)),L(t.filename)&&(t.filename=this.w.computeOverriddenUrl(t.filename)),t}$_(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,`value='${vy}'`)}}return s})(),wy=512,by=255,ia=(()=>{class s{constructor(t,e){this.key=csString.prototype.slice.call(t,0,wy),this.value=L(e)?csString.prototype.slice.call(e,0,by):e}static isKeyValid(t){return L(t)}static isValueValid(t){return L(t)||zi(t)}}return s})(),Ty=(()=>{class s extends re{constructor(t,e){super(),this.Gt=t,this.N=e,this.jl=[]}onStart(){csArray.prototype.forEach.call(this.jl,t=>this.of(t.key,t.value)),this.jl=[]}onStop(){}of(t,e){let i=this.N.anonymizePII(t),r=zi(e)?e:this.N.anonymizePII(e);this.Gt.add(new ia(i,r))}trackDynamicVariable(t,e){if(ia.isKeyValid(t)&&ia.isValueValid(e)){if(!this.isStarted){csArray.prototype.push.call(this.jl,{key:t,value:e});return}this.of(t,e)}else throw new pe(Sc[0])}}return s})(),Ay=(()=>{class s{constructor(t){this.ye=t,this.Gt=[]}add(t){csArray.prototype.push.call(this.Gt,t),this.setBatchReadyCall()}clear(){this.Gt=[]}onBatchReady(t){this.z_=t}getRequestParameters(){let t={};for(let e of this.Gt)t[e.key]=e.value;return{dv:this.ye.compressSync(csJSON.stringify(t),"base64"),ct:this.ye.algorithm}}setBatchReadyCall(){this.z_()}}return tt([Yr({wait:0,mode:"trailing"}),B("dynamicVariablesBatchReady")],s.prototype,"setBatchReadyCall",null),s})(),Ry="dvar",Sc=["trackDynamicVariable"],Cy=(()=>{class s{constructor(t,e,i,r,o,c){this.E=t,this.R=e,this.f=i,this.Ue=r,this.ye=o,this.N=c,this.fs=new Yi(this.f.getTrackerUri(),Ry),this.Gt=new Ay(this.ye),this.Ui=new Ty(this.Gt,this.N)}init(){this.fs.setRequestParametersProviders(this.Ue,this.Gt),this.R.setDynamicVariablesService(this.Ui),this.Gt.onBatchReady(()=>this.fs.send()),this.fs.after(()=>this.Gt.clear()),this.E.register(Sc,({key:t,value:e}={})=>{this.Ui.trackDynamicVariable(t,e)})}onStartTracking(){this.Ui.start()}}return s})(),Ol=(()=>{class s{constructor(t,e){this.id=t,this.revenue=e}static from(t){let e=new s(t.id,parseFloat(t.revenue));return isNaN(parseFloat(t.tax))||(e.tax=parseFloat(t.tax)),isNaN(parseFloat(t.shipping))||(e.shipping=parseFloat(t.shipping)),L(t.currency)&&t.currency.length<=10&&(e.currency=t.currency),e}hasValidRevenue(){return!isNaN(this.revenue)&&this.revenue>=0}static isValid(t){return Nt(t)&&Ht(t.revenue)&&L(t.currency)&&t.currency.length<=10&&(!Nt(t.id)||L(t.id))}}return s})(),Eu=100,Iy=100,Py=(()=>{class s{constructor(t,e,i,r){this.id=t,this.name=e,this.price=i,this.quantity=r}static from(t){if(!s.Xc(t))return null;let e=new s(t.id,t.name,parseFloat(t.price),parseInt(t.quantity,10));return dt(t.sku)&&(e.sku=t.sku),dt(t.category)&&(e.category=t.category),dt(t.merchant)&&t.merchant.length>0&&(e.merchant=t.merchant.slice(0,Eu)),e}static Xc(t){return Nt(t)&&L(t.id)&&L(t.name)&&Ht(parseFloat(t.price))&&zi(parseInt(t.quantity,10))&&(!dt(t.sku)||L(t.sku))&&(!dt(t.category)||L(t.category))&&(!dt(t.merchant)||L(t.merchant))}}return s})(),Oy=(()=>{class s extends re{constructor(t,e,i){super(),this.N=t,this.af=e,this.Y=i,this.Hl=[],this.clear()}onStart(){csArray.prototype.forEach.call(this.Hl,t=>{this.Ee=t.transaction,this.Cr=t.transactionItems,this.sendTransaction()}),this.Hl=[]}onStop(){}addTransaction(t){let e=this.N.anonymizeFields(t,["id"]);this.Ee=Ol.from(e)}getTransaction(){return this.Ee}sendTransaction(){if(!this.isStarted){csArray.prototype.push.call(this.Hl,{transaction:this.Ee,transactionItems:[...this.Cr]}),this.clear();return}if(!(this.af===null||this.Y===null)&&(this.Y.refreshSession(),!!this.Y.isSessionValid())){if(!this.Ee.hasValidRevenue()){J.warn("Transaction Service: unable to send transaction with invalid parameters");return}this.af.send()}}addItem(t){if(ts(t))throw new pe(Jr[1]);let e=this.N.anonymizeFields(t,["id","name","sku","category"]),i=Py.from(e);i!==null&&csArray.prototype.push.call(this.Cr,i)}getItems(){return this.Cr}clear(){this.Ee=Ol.from({revenue:NaN}),this.Cr=[]}getRequestParameters(){let t={id:this.Ee.id?`${this.Ee.id}`:"",revenue:`${this.Ee.revenue}`};return dt(this.Ee.tax)&&(t.tax=`${this.Ee.tax}`),dt(this.Ee.shipping)&&(t.shipping=`${this.Ee.shipping}`),dt(this.Ee.currency)&&(t.cu=`${this.Ee.currency}`),t.items=window.csJSON.stringify(this.Cr),t}}return s})(),Ny=(()=>{class s extends re{constructor(t,e){super(),this.G_=t,this.Y=e,this.Ne=null,this.Bl=[]}onStart(){csArray.prototype.forEach.call(this.Bl,t=>{this.Ne=t,this.cf()}),this.Bl=[]}onStop(){}addToCart(t){let e={};L(t.sku)&&(e.sku=csString.prototype.slice.call(t.sku,0,Iy)),L(t.merchant)&&(e.merchant=csString.prototype.slice.call(t.merchant,0,Eu)),(e.sku||e.merchant)&&(this.Ne=e,this.cf())}getCartItem(){return this.Ne}cf(){if(!this.isStarted&&this.Ne!==null){csArray.prototype.push.call(this.Bl,this.Ne),this.clear();return}this.Y.refreshSession(),this.Y.isSessionValid()&&this.G_.send()}clear(){this.Ne=null}getRequestParameters(){if(!this.Ne)return{};let t={};return L(this.Ne.sku)&&this.Ne.sku.length>0&&(t.sku=this.Ne.sku),L(this.Ne.merchant)&&this.Ne.merchant.length>0&&(t.me=this.Ne.merchant),t}}return s})(),My=["ecommerce:addToCart","ec:cart:add"],vc=["ecommerce:addTransaction","ec:transaction:create"],Jr=["ecommerce:addItem","ec:transaction:items:add"],_c=["ecommerce:send","ec:transaction:send"],ky=(()=>{class s{constructor(t,e,i,r,o,c,u){this.f=t,this.Et=e,this.O=i,this.E=r,this.N=o,this.Y=c,this.w=u}init(){let t=new Yi(this.f.getTrackerUri(),"transaction"),e=new Yi(this.f.getTrackerUri(),"addtocart");this.es=new Oy(this.N,t,this.Y),this.ca=new Ny(e,this.Y);let i=new Dn(this.Et,this.O,this.w,this.es);t.setRequestParametersProviders(i),t.after(()=>{this.es.clear()});let r=new Dn(this.Et,this.O,this.w,this.ca);e.setRequestParametersProviders(r),e.after(()=>{this.ca.clear()}),this.E.register(vc,o=>{this.es.addTransaction(o)}),this.E.register(Jr,o=>this.es.addItem(o)),this.E.register(_c,()=>this.es.sendTransaction()),this.E.register(My,o=>{this.ca.addToCart(o)})}onStartTracking(){this.es.start(),this.ca.start()}}return s})();var Dy=2,wc=(()=>{class s{constructor(t){this.Z_=t,this.ha=0}addString(t){this.ha+=t.length*Dy}addArrayBuffer(t){this.ha+=t.byteLength}isThresholdReached(){return this.ha>this.Z_}reset(){this.ha=0}}return s})();var Nl=(()=>{class s{static create(t,e){if(!s.isSupported())throw new Error("IntersectionObserver is not supported");if(e&&e.delay&&e.delay<100)throw new Error("Visibility delay should be > 100ms");return e!=null&&e.trackVisibility&&(t=s.ew(t)),new csIntersectionObserver(t,e)}static isSupported(){return!!window.csIntersectionObserver&&!!window.IntersectionObserverEntry}static ew(t){return(e,i)=>t(Ge(e,xy),i)}}return s})();function xy(s){return s.isVisible||!At.isVisibleInViewportInForeground(s.target)?s:{boundingClientRect:s.boundingClientRect,intersectionRatio:s.intersectionRatio,intersectionRect:s.intersectionRect,isIntersecting:s.isIntersecting,rootBounds:s.rootBounds,target:s.target,time:s.time,isVisible:!0}}var Ha=()=>(s,n,t)=>{t.value=Ly(t.value)};function Ly(s){let n=csSymbol("oncePerTickSymbol"),t=null,e={},i=function(){var r;let o=(r=this)!==null&&r!==void 0?r:e;if(t=arguments,o[n])return;o[n]=!0,Za(()=>{o[n]=!1,s.apply(o,t)})};return i.oncePerTickSymbol=n,i}Ha.isScheduled=(s,n)=>{let t=n.oncePerTickSymbol;return s[t]};var Uy=(()=>{class s{constructor(t){this.A=t,this.si=new Map,this.df=e=>{let i=e.target;if(this.si.has(i))return!0;let r=!1;return this.si.forEach((o,c)=>{r||!this.si.get(c).subtree||(r=c.contains(i))}),r},Ut.general.nbOfMutationObservers.increase(),this.D=new csMutationObserver(e=>{Ha.isScheduled(this,this.garbageCollect)&&(e=Mn(e,this.df)),e.length&&ye(()=>t(e,this))})}disconnect(){Ut.general.nbOfMutationObservers.decrease(),this.D.disconnect(),this.si=new Map}takeRecords(){return this.D.takeRecords()}observe(t,e){return Ut.mutations.elementMutationObserved.increase(),this.si.set(t,e),this.D.observe(t,e)}unobserve(t){this.si.has(t)&&(Ut.mutations.elementMutationObserved.decrease(),this.si.delete(t),this.garbageCollect())}garbageCollect(){Ut.mutations.unobserveGarbageCollection.measure(()=>{let t=Mn(this.takeRecords(),this.df);t.length&&this.A(t,this),this.D.disconnect(),this.si.forEach((e,i)=>this.D.observe(i,e))})}}return Et([Ha()],s.prototype,"garbageCollect",null),s})(),Vy=(()=>{class s{constructor(t){this.A=t,this.pa=new Set}onMutations(t){if(Pr(t,e=>{var i;return!!(!((i=e.removedNodes)===null||i===void 0)&&i.length)}))for(let e of this.pa.values())At.isConnected(e)||(this.pa.delete(e),this.A(e))}observe(t){this.W||(this.W=new ns(e=>csSetTimeout(()=>this.onMutations(e))),this.W.observe()),this.pa.add(t)}disconnect(){var t;(t=this.W)===null||t===void 0||t.disconnect(),this.pa.clear(),this.W=void 0}}return Et([B("NodeDisconnectedObserver.onMutations")],s.prototype,"onMutations",null),s})(),jy=300,Vr=(()=>{class s{constructor(t){this.fa=new Set,this.iw=new Vy(e=>this.pf(e)),this.G=!1,this.At=t?{...Ml,...t}:Ml}stop(){var t,e;this.G=!1,(t=this.Nr)===null||t===void 0||t.disconnect(),(e=this.D)===null||e===void 0||e.disconnect()}start(t){if(this.G)throw new Error("VisibilityObserver is already started");this.A=Qs("VisibilityObserver:callback",(i,r)=>t(i,r));let e={root:null,rootMargin:"0px",threshold:.5,trackVisibility:!0,delay:jy};this.Nr=Nl.create(i=>this.handleIntersection(i),e),this.D=new Uy(i=>csSetTimeout(()=>{ft(i,r=>this.pf(r.target))})),this.Fl(),this.G=!0}observe(t){if(!this.G)throw new Error("Observer is stopped.");this.At.reobserve===!1&&t[this.$l]||(Ut.visibilityObserver.nbElements.increase(),t[this.$l]=!0,this.watchIntersection(t))}Fl(){this.ga=csSymbol("isVisible"),this.$l=csSymbol("ObservedElement"),this.zl=csSymbol("LinkedElement"),this.ff=csSymbol("Tracked")}pf(t){this.fa.add(t);for(let e of this.nw(t))this.fa.add(e);this.recheckCssVisibilityAll()}recheckCssVisibilityAll(){ft(this.fa.keys(),t=>{!t.isConnected||At.areAncestorsHiddenByCSS(t)||t[this.$l]&&this.watchIntersection(t)}),this.fa.clear()}watchIntersection(t){this.D.unobserve(t),this.Nr.unobserve(t);let e=At.getTopAncestorHiddenByCSS(t);e?(e!==t&&(this.gf(e,t),this.watchMutation(e)),this.watchMutation(t)):this.Nr.observe(t)}watchMutation(t,e=!0){e&&delete t[this.ga],this.Nr.unobserve(t);let i={attributeFilter:["style","class","hidden"]};this.D.observe(t,i)}handleIntersection(t){for(let e of t){let i=e.target;if(!e.isVisible){At.isVisibleInDocument(i)||this.rw(i);continue}let r=this.At.allowSameMatch||!e.target[this.ga];e.target[this.ga]=!0,r&&!this.At.delay&&this.onVisibilityChanged(e.target,In.VisibleInViewPort)}this.At.delay&&csSetTimeout(()=>{for(let e of t){let i=e.isIntersecting&&e.isVisible;e.target[this.ga]&&i&&this.onVisibilityChanged(e.target,In.VisibleInViewPort)}},this.At.delay)}rw(t){Ut.visibilityObserver.hiddenElements.increase();let e=At.getTopElement(t);this.watchMutation(t),e&&(this.iw.observe(e),this.gf(e,t),this.watchMutation(e,!1))}gf(t,e){var i;(t[this.zl]=(i=t[this.zl])!==null&&i!==void 0?i:new Set).add(e)}nw(t){var e,i;let r=[],o=(i=(e=t[this.zl])===null||e===void 0?void 0:e.values())!==null&&i!==void 0?i:[];return ft(o,c=>csArray.prototype.push.call(r,c)),r}onVisibilityChanged(t,e){if(e===In.VisibleInViewPort&&this.At.trackOnce){if(this.Nr.unobserve(t),this.D.unobserve(t),t[this.ff])return;t[this.ff]=!0}this.A(t,e)}static isSupported(){return Nl.isSupported()}}return Et([B()],s.prototype,"observe",null),Et([Yr({wait:50}),B(),te("recheckCssVisibilityAll")],s.prototype,"recheckCssVisibilityAll",null),Et([B()],s.prototype,"watchIntersection",null),Et([B()],s.prototype,"watchMutation",null),Et([B(),te("VisibilityObserver.handleIntersection")],s.prototype,"handleIntersection",null),Et([B()],s.prototype,"onVisibilityChanged",null),s})(),In=(()=>{let s;return function(n){n.VisibleInViewPort="VisibleInViewPort",n.HiddenByAnother="HiddenByAnother",n.Hidden="Hidden"}(s||(s={})),s})(),Ml={delay:1e3,trackOnce:!0,reobserve:!1};var gr=(()=>{let s;return function(n){n[n.NOT_NEEDED=1]="NOT_NEEDED",n[n.NOT_EXPRESSED=2]="NOT_EXPRESSED",n[n.WITHDRAWN=3]="WITHDRAWN",n[n.GRANTED=4]="GRANTED"}(s||(s={})),s})(),Ys=(()=>{let s;return function(n){function t(r){return r.replayConsentRequiredForSession}n.isReplayConsentNeeded=t;function e(r){return r.collectState===Q.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||r.collectState===Q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}n.isRecordingBlockedByConsent=e;function i(r){return r.collectState===Q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}n.isRecordingWithDrawn=i}(s||(s={})),s})(),Hy=(()=>{class s{constructor(t,e,i,r){this.O=t,this.R=e,this.f=i,this.as=r,this.Tf=!1}isNaturalPageViewSent(){return this.Tf}setNaturalPageViewSent(t){this.Tf=t}getTrackingContext(){let t=this.R.getSession();if(!t)return null;let e=this.getSessionKey();if(!e)return null;let i=this.f.projectId,r=this.f.uxaDomain,o=t.pageNumber,c=this.as.getPageViewType(),u=this.R.isReplayRecorded(),p=this.kw(t);return{projectId:i,sessionKey:e,pageNumber:o,pageViewType:c,isRecording:u,uxaDomain:r,recordingConsentState:p,...this.f.smbConfig}}getSessionKey(){let t=this.O.getVisitor();return t?`${t.id}.${t.visitsCount}`:null}kw(t){return Ys.isReplayConsentNeeded(this.f)?t.collectState===Q.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?gr.NOT_EXPRESSED:t.collectState===Q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?gr.WITHDRAWN:gr.GRANTED:gr.NOT_NEEDED}}return s})(),By=(()=>{class s{constructor(t){this.It=t,this.ie=[]}handleCommand(t){if(ts(t)&&(this.Dr(t),this.It.isNaturalPageViewSent())){let e=this.It.getTrackingContext();e!==null&&this.Ht(t,e)}}Dr(t){csArray.prototype.push.call(this.ie,t)}executeRegisteredCallbacks(){let t=this.It.getTrackingContext();t!==null&&csArray.prototype.map.call(this.ie,e=>this.Ht(e,t))}Ht(t,e){csSetTimeout(()=>{t(e)})}}return s})(),Fy=(()=>{class s{constructor(t){this.It=t,this.Vi=[]}handleCommand(t){if(this.It.isNaturalPageViewSent())return this.Dw(t);this.xr(t)}Dw(t){let e=this.It.getSessionKey();return this.Af(t)&&e!==null&&this.Ht(t.callback,e),e}xr(t){this.Af(t)&&csArray.prototype.push.call(this.Vi,t.callback)}flushPendingCallbacks(){let t=this.It.getSessionKey();t!==null&&csArray.prototype.forEach.call(this.Vi,e=>{this.Ht(e,t)}),this.Vi=[]}Af(t){return t&&typeof t.callback=="function"}Ht(t,e){csSetTimeout(()=>{t(e)})}}return s})();function $y(s,n){let{isRecording:t,pageNumber:e,projectId:i,siteId:r,uxaDomain:o,csLiteDomain:c}=s,u=/^(.+)\.(\d+)$/.exec(s.sessionKey),p;if(t&&u){let[,v,f]=u;r?p=`${c}/sites/${r}/player?uu=${v}&sn=${f}&pn=${e}`:p=`${o}/quick-playback/index.html?pid=${i}&uu=${v}&sn=${f}&pvid=${e}&recordingType=cs`,n.withTimestamp&&(p+=`&t=${F.now()-n.recordingStartTimestamp}`)}return{replayLink:p,isRecording:t}}var zy=(()=>{class s{constructor(t){this.It=t}handleCommand(t,e){Js(t)&&ts(e)&&this.Ht(t,e)}Ht(t,e){csSetTimeout(()=>{let i=this.It.getTrackingContext();if(i){let r=$y(i,t);e(r)}})}}return s})(),Gy=(()=>{class s{constructor(){this.ie=new Set}handleCommand(t,e){return!ts(t)||this.ie.has(t)?null:(this.ie.add(t),e&&(this.ke=e,this.Rf(t,e)),()=>this.ie.delete(t))}executeCallbacks(t){this.xw(t)&&(this.ke=t,this.ie.forEach(e=>this.Rf(e,t)))}Rf(t,e){csSetTimeout(()=>{try{t(e)}catch{}})}xw(t){let{isRecording:e,recordingStartTimestamp:i,etrState:r,etrStatus:o,collectState:c}=t;return this.ke&&(this.ke.isRecording!==e||this.ke.recordingStartTimestamp!==i||this.ke.etrState!==r||this.ke.etrStatus!==o||this.ke.collectState!==c)}}return s})(),Su=["afterPageView"],qy=["getSessionKey"],Wy=["onRecordingContextChange","onRecordingStateChange"],Yy=["replay:link:generate"],Xy=(()=>{class s{constructor(t,e,i,r,o,c,u,p){this.O=t,this.R=e,this.E=i,this.ut=r,this.tt=o,this.f=c,this.as=u,this.Fs=p,this.Cf=null}init(){this.It=new Hy(this.O,this.R,this.f,this.as),this.ql=new By(this.It),this.If=new Fy(this.It),this.Lr=new Gy,this.Lw=new zy(this.It),this.E.register(qy,t=>this.If.handleCommand(t)),this.E.register(Su,t=>this.ql.handleCommand(t)),this.E.register(Wy,t=>this.Lr.handleCommand(t,this.Fs.getRecordingContext())),this.E.register(Yy,(t,e)=>{this.Cn&&this.Lw.handleCommand({...t,recordingStartTimestamp:this.Fs.getRecordingContext().recordingStartTimestamp},e)})}onAfterNaturalPageView(){var t;this.It.setNaturalPageViewSent(!0),this.If.flushPendingCallbacks(),this.ql.executeRegisteredCallbacks(),(t=this.Cf)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onAfterArtificialPageView(){var t;this.ql.executeRegisteredCallbacks(),(t=this.Cf)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onCollectStateChange(){this.executeRecordingContextChangeCallbacks()}onRecordingContextChange(){this.executeRecordingContextChangeCallbacks()}executeRecordingContextChangeCallbacks(){this.Lr.executeCallbacks(this.Fs.getRecordingContext())}setRecordingService(t){this.Cn=t}}return tt([Yr({wait:0,mode:"trailing"})],s.prototype,"executeRecordingContextChangeCallbacks",null),s})(),Ky=(()=>{class s{constructor(t){this.E=t}init(){this.Pf(s.Uw,Ph),this.Pf(s.Vw,Ih)}Pf(t,e){this.E.register([t],(i,r)=>{!L(i)||!(L(r)||Cs(r))||J.error(r,`${e}${i}`)})}}return s.Vw="logSnippetError",s.Uw="logImplementationSnippetError",s})(),Jy="@ETP@",kl="@user-identifier@",Qy=(()=>{class s extends re{constructor(t,e,i,r){super(),this.f=t,this.jw=e,this.ye=i,this.F=r,this.Wl=[],this.ji=[]}onStart(){csArray.prototype.forEach.call(this.Wl,t=>this.Of(t)),this.Wl=[],csArray.prototype.forEach.call(this.ji,t=>this.Nf(t)),this.ji=[]}onStop(){}Of(t){this.Hw(t)?An.isSupported()&&this.Bw(t):this.Fw(t)}trackPageEvent(t){if(!s.Mf(t))throw new pe(bc[0]);this.isStarted?this.Of(t):csArray.prototype.push.call(this.Wl,t)}Hw(t){return Dr(t,kl)}async Bw(t){if(!this.f.customHashIdEnabled)return;let e=csString.prototype.slice.call(t,kl.length);if(e.length>An.MAX_DIGEST_INPUT_SIZE){J.warn("UserIdentifier event: invalid user identifier");return}let i=await An.digest(e);i?(this.In={eventName:i,isETR:!1,isCustomHashId:!0},this.Ea()):J.warn("Page event: unable to compute customHashId"),this.f.encryptionEnabled&&this.F.emitUserIdentifierEvent(e)}Fw(t){this.F.emitPageEvent(t),this.In={eventName:t,isETR:!1,isCustomHashId:!1},this.Ea(),this.f.tagDeploymentMode===yi.LoadClicktalePtc&&ul.sendPageEvent(t)}Nf(t){this.f.malkaEtrEnabled?this.$w(t):this.zw(t)}trackEventTriggerRecording(t){if(!s.Mf(t))throw new pe(zn[0]);this.isStarted?this.Nf(t):csArray.prototype.push.call(this.ji,t)}$w(t){Dr(t,Jy)?this.F.emitEventTriggerRecording(t,Xs.ETR_PAGE):this.F.emitEventTriggerRecording(t,Xs.ETR_SESSION),this.In={eventName:t,isETR:!0,isCustomHashId:!1},this.Ea()}zw(t){fg(this.f)&&(this.F.emitEventTriggerRecording(t,Xs.ETR_LEGACY),this.In={eventName:t,isETR:!0,isCustomHashId:!1},this.Ea(),this.f.tagDeploymentMode===yi.LoadClicktalePtc&&ul.sendEventTriggerRecording(t))}getRequestParameters(){return{value:this.ye.compressSync(this.In.eventName,"base64"),ct:this.ye.algorithm,isETR:`${this.In.isETR}`,isCustomHashId:`${this.In.isCustomHashId}`}}Ea(){this.jw.send()}static Mf(t){return L(t)&&!!csString.prototype.trim.call(t)}}return s})(),bc=["trackPageEvent"],zn=["trackEventTriggerRecording"],Zy=(()=>{class s{constructor(t,e,i,r,o){this.f=t,this.E=e,this.ye=i,this.Ue=r,this.F=o}init(){let t=new Yi(this.f.getTrackerUri(),"pageEvent");this.Sa=new Qy(this.f,t,this.ye,this.F),t.setRequestParametersProviders(this.Sa,this.Ue),this.E.register(bc,e=>{this.Sa.trackPageEvent(e)}),this.E.register(zn,e=>{this.Sa.trackEventTriggerRecording(e)})}onStartTracking(){this.Sa.start()}}return s})(),tE=["hidePageTitle"],eE=["resetHidePageTitle"],sE="onNextPageviewOnly",iE=(()=>{class s{constructor(t,e){this.ve=t,this.E=e}init(){this.E.register(tE,t=>{let e=t===sE;this.ve.setHidePageTitle(e)}),this.E.register(eE,()=>this.ve.resetHidePageTitle())}onAfterNaturalPageView(){this.ve.updateStateOnAfterPageview()}onAfterArtificialPageView(){this.ve.updateStateOnAfterPageview()}}return s})(),nE=(()=>{class s{constructor(){this.kf=255,this.Gw="****",this.qw="data-cs-hide-title",this.Ww="data-heap-redact-text",this.va={value:!1,onNextPageviewOnly:!1}}getRequestParameters(){return{t:this.getPageTitle()}}getPageTitle(){return this.va.value||this.Yw()?this.Gw:this.Xw(window.document.title)}setHidePageTitle(t){this.va={value:!0,onNextPageviewOnly:t}}resetHidePageTitle(){this.va={value:!1,onNextPageviewOnly:!1}}updateStateOnAfterPageview(){this.va.onNextPageviewOnly&&this.resetHidePageTitle()}Yw(){let t=window.csquerySelector[document.nodeType].call(document,"head > title");return t===null?!1:t.getAttribute(this.qw)!==null||t.getAttribute(this.Ww)!==null}Xw(t){return t.length>this.kf?csString.prototype.substring.call(t,0,this.kf):t}}return s})(),Tr=(()=>{let s;return function(n){n.Artificial="a",n.Renewal="r",n.Natural="n"}(s||(s={})),s})(),vu=(()=>{class s{constructor(){this.Yl=Tr.Natural}setPageViewType(t){this.Yl=t}getPageViewType(){return this.Yl}getRequestParameters(){return{pvt:this.Yl}}}return s})(),rE=(()=>{class s extends vu{getRequestParameters(){return{}}}return s})(),_u=(()=>{class s extends re{constructor(t,e,i,r,o){super(),this.S=t,this.F=e,this.Xl=i,this.w=r,this.as=o}init(){this.Kw()}onStart(t){t?this.Jw():this.Qw()}onStop(){}triggerArtificialPageView(t,e){this.isStarted?this.Df(t,e):Nt(t)&&this.w.overridePath(t,e),this.isStarted||(this.F.emitTargetingRulesArtificialPageview(this.w.getUrl()),this.w.cleanupOverrideLifespan())}Qw(){this.as.setPageViewType(Tr.Natural),this.S.emitBeforeNaturalPageView(this.w.getAnonymizedUrl()),this.Xl.send(),this.w.cleanupOverrideLifespan(),this.S.emitAfterNaturalPageView()}Jw(){this.as.setPageViewType(Tr.Renewal),this.S.emitBeforeNaturalPageView(this.w.getAnonymizedUrl()),this.Xl.send(),this.S.emitAfterNaturalPageView()}Df(t,e){let i=this.w.getAnonymizedUrl();this.as.setPageViewType(Tr.Artificial),this.S.emitArtificialPageViewEnd(),Nt(t)&&this.w.overridePath(t,e),this.S.emitBeforeArtificialPageView(i,this.w.getAnonymizedUrl()),this.Xl.send(),this.w.cleanupOverrideLifespan(),this.S.emitAfterArtificialPageView()}Kw(){window.addEventListener("pageshow",t=>{this.isStarted&&t.persisted&&this.Df()})}}return s})(),oE=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function aE(){return{la:oE}}var cE=99999,lE=(()=>{class s{constructor(t){this.R=t,this.Zw=this.tb()&&window.CSCurrentScript}eb(){let t=window.CSCurrentScript;if(!t)return null;let e=window.performance.getEntriesByName(t.src,"resource")[0];return!e||this.sb(e)?null:Math.round(e.responseEnd-e.fetchStart)}sb(t){let e=t.transferSize;return e!==void 0?e===0||e===300||e<t.encodedBodySize:t.connectStart===t.domainLookupEnd}getRequestParameters(){if(!this.Zw||this.ib()!==1)return{};let t=this.eb();return t===null?{}:{dt:`${Math.min(t,cE)}`}}ib(){var t;return((t=this.R.getSession())===null||t===void 0?void 0:t.pageNumber)||null}tb(){return typeof window.performance=="object"&&typeof window.performance.getEntriesByName=="function"}}return s})(),wu=["trackPageview"],Ba=["setPath"],Fa=["setQuery"],Dl=["referrer:maskUrl"],hE=["referrer:removeQueryString"],uE=["referrer:keepQueryString"],na=s=>Js(s)&&s!==null,bu=(s,n,t,e)=>{s.register(wu,(i,r)=>{if(!L(i)){n.triggerArtificialPageView();return}na(r)?n.triggerArtificialPageView(i,r):n.triggerArtificialPageView(i)}),s.register(Ba,(i,r)=>{if(!L(i))throw new pe(Ba[0]);na(r)?t.overridePath(i,r):t.overridePath(i)}),s.register(Fa,(i,r)=>{if(!L(i))throw new pe(Fa[0]);na(r)?t.overrideQuery(i,r):t.overrideQuery(i)}),e&&(s.register(Dl,i=>{if(!L(i))throw new pe(Dl[0]);e.addUrlMaskingPattern(i)}),s.register(hE,()=>e.enableRemoveQueryString()),s.register(uE,()=>e.disableRemoveQueryString()))},dE=(()=>{class s{constructor(t,e,i,r){this.E=t,this.S=e,this.F=i,this.w=r}init(){let t=new Lp,e=new rE;this.ii=new _u(this.S,this.F,t,this.w,e),this.ii.init(),bu(this.E,this.ii,this.w)}start(){this.ii.start()}}return s})(),pE=(()=>{class s{constructor(t,e,i,r,o,c,u,p,v,f,w,_,R,H,U){this.f=t,this.E=e,this.S=i,this.Ue=r,this.O=o,this.R=c,this.Cs=u,this._t=p,this.vt=v,this.w=f,this.ne=w,this.as=_,this.F=R,this.ve=H,this.nn=U}init(){let t=new Yi(this.f.getTrackerUri(),"pageview");this.ii=new _u(this.S,this.F,t,this.w,this.as),this.ii.init();let e=new Dn(this.Ue,this.O,Yt,this.Cs,this.w,this._t,Xa,this.vt,this.as,new lE(this.R),this.ne);this.ve&&e.addProvider(this.ve),this.nn&&e.addProvider(this.nn);let i=this.f.isCsCrosswritingHeap();if(i||this.f.isCsSideloadingHeap()||this.f.isHeapSideloadsCs()){let r=this.f.getHeapEnvId()||void 0;e.addProvider({getRequestParameters(){let o={cw:i?"1":"2"};return r&&(o.happid=r),o}})}t.setRequestParametersProviders(e),bu(this.E,this.ii,this.w,this.Cs)}start(t){this.ii.start(t)}onBeforeSessionRenewal(){this.ii.stop()}}return s})();function fE(s,n){let t=!1,e=function(){if(!t)return s.apply(n,arguments)};return e.cancel=()=>t=!0,e}var Ts=csSymbol(),Tc=(()=>{class s{constructor(t){var e,i,r,o,c,u,p,v,f,w,_,R,H;this.A=t,this.Kl=null,this.Jl=null,this.Ql=null,this.Zl=null,this.th=null,this.nb=Gr(U=>this.processUpdateRulesInATick(U)),this.eh=null,this.ih=null,this.nh=null,this.A=U=>ye(()=>t(U)),typeof((i=(e=window.CSSStyleSheet)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i.insertRule)=="function"&&(this.Kl=_e({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:({context:U,args:I})=>{this.processInsertRule(U,I)}})),typeof((o=(r=window.CSSStyleSheet)===null||r===void 0?void 0:r.prototype)===null||o===void 0?void 0:o.deleteRule)=="function"&&(this.Jl=_e({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:({context:U,args:I})=>{this.processDeleteRule(U,I)}})),typeof((u=(c=window.CSSGroupingRule)===null||c===void 0?void 0:c.prototype)===null||u===void 0?void 0:u.insertRule)=="function"&&(this.Ql=_e({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:({context:U})=>this.processUpdateRule(U)})),typeof((v=(p=window.CSSGroupingRule)===null||p===void 0?void 0:p.prototype)===null||v===void 0?void 0:v.deleteRule)=="function"&&(this.Zl=_e({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:({context:U})=>this.processUpdateRule(U)})),!((f=window.StyleSheet)===null||f===void 0)&&f.prototype&&"disabled"in window.StyleSheet.prototype&&(this.th=Lr(window.StyleSheet.prototype,"disabled",(U,I,P)=>{I!==P&&this.rb(U,I)})),typeof((_=(w=window.CSSStyleDeclaration)===null||w===void 0?void 0:w.prototype)===null||_===void 0?void 0:_.setProperty)=="function"&&(this.eh=_e({target:window.CSSStyleDeclaration.prototype,methodName:"setProperty",hook:({context:U})=>{let I=U.parentRule;I instanceof CSSStyleRule&&this.processUpdateRule(I)}})),typeof((H=(R=window.CSSStyleDeclaration)===null||R===void 0?void 0:R.prototype)===null||H===void 0?void 0:H.removeProperty)=="function"&&(this.ih=_e({target:window.CSSStyleDeclaration.prototype,methodName:"removeProperty",hook:({context:U})=>{let I=U.parentRule;I instanceof CSSStyleRule&&this.processUpdateRule(I)}})),Object.getOwnPropertyDescriptor(window.CSSStyleRule.prototype,"style")&&(this.nh=Bf(window.CSSStyleRule.prototype,"style",U=>{this.processUpdateRule(U)}))}observe(){var t,e,i,r,o,c,u,p;(t=this.Kl)===null||t===void 0||t.activate(),(e=this.Jl)===null||e===void 0||e.activate(),(i=this.Ql)===null||i===void 0||i.activate(),(r=this.Zl)===null||r===void 0||r.activate(),(o=this.th)===null||o===void 0||o.activate(),(c=this.eh)===null||c===void 0||c.activate(),(u=this.ih)===null||u===void 0||u.activate(),(p=this.nh)===null||p===void 0||p.activate()}disconnect(){var t,e,i,r,o,c,u,p;(t=this.Kl)===null||t===void 0||t.deactivate(),(e=this.Jl)===null||e===void 0||e.deactivate(),(i=this.Ql)===null||i===void 0||i.deactivate(),(r=this.Zl)===null||r===void 0||r.deactivate(),(o=this.th)===null||o===void 0||o.deactivate(),(c=this.eh)===null||c===void 0||c.deactivate(),(u=this.ih)===null||u===void 0||u.deactivate(),(p=this.nh)===null||p===void 0||p.deactivate()}processInsertRule(t,[e,i]){if(t[Ts]==null&&!t.ownerNode)return;let r={type:"cssRuleInserted",sheet:t,rule:e,index:i};this.A(r)}processUpdateRule(t){let e=t;for(;e.parentRule!==null;)e=e.parentRule;e.parentStyleSheet!==null&&this.nb.push(e)}processUpdateRulesInATick(t){for(let e of t){if(e.parentStyleSheet===null)return;let i=e.parentStyleSheet,r=csArray.prototype.indexOf.call(qi(i.cssRules),e);if(r===-1)return;let o={type:"cssRuleUpdated",sheet:i,rule:e.cssText,index:r};this.A(o)}}processDeleteRule(t,[e]){if(t[Ts]==null&&!t.ownerNode)return;let i={type:"cssRuleDeleted",sheet:t,index:e};this.A(i)}rb(t,e){if(t[Ts]==null&&!t.ownerNode)return;let i={type:"cssStyleSheetDisabled",sheet:t,disabled:e};this.A(i)}}return Et([B()],s.prototype,"observe",null),Et([B()],s.prototype,"disconnect",null),Et([B()],s.prototype,"processInsertRule",null),Et([B()],s.prototype,"processUpdateRule",null),Et([B()],s.prototype,"processUpdateRulesInATick",null),Et([B()],s.prototype,"processDeleteRule",null),s})(),gE=(()=>{class s{constructor(t){this.ob=1,this._a=new Set,this.rh=null,this.oh=null,this.nl=(e,i)=>{(i==="initial"||i==="added")&&this.setStyleSheets(e,e.adoptedStyleSheets)},this.ab=e=>{let i=e.sheet;if(this._a.has(i)){if(e.type==="cssRuleInserted"){let r={type:"adoptedStyleSheetRuleInserted",sheetId:i[Ts],rule:e.rule,index:e.index};this.A(r)}else if(e.type==="cssRuleDeleted"){let r={type:"adoptedStyleSheetRuleDeleted",sheetId:i[Ts],index:e.index};this.A(r)}else if(e.type==="cssRuleUpdated"){let r={type:"adoptedStyleSheetRuleUpdated",sheetId:i[Ts],rule:e.rule,index:e.index};this.A(r)}else if(e.type==="cssStyleSheetDisabled"){let r={type:"adoptedStyleSheetDisabled",sheetId:i[Ts],disabled:e.disabled};this.A(r)}}},this.A=e=>ye(async()=>{await uh(2),t(e)}),this.de=new tn(this.nl),"adoptedStyleSheets"in Document.prototype&&(this.rh=Lr(window.Document.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.oh=Lr(window.ShadowRoot.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),this.xf=new Tc(this.ab)}observe(){var t,e;this.setStyleSheets(document,document.adoptedStyleSheets),this.de.observe(),(t=this.rh)===null||t===void 0||t.activate(),(e=this.oh)===null||e===void 0||e.activate(),this.xf.observe()}disconnect(){var t,e;this._a.clear(),this.de.disconnect(),(t=this.rh)===null||t===void 0||t.deactivate(),(e=this.oh)===null||e===void 0||e.deactivate(),this.xf.disconnect()}setStyleSheets(t,e){if(!e.length)return;this.cb(e);let i=Ge(e,o=>o[Ts]),r={type:"adoptedStyleSheetsSet",target:t,sheetsIds:i};this.A(r)}cb(t){ft(t,e=>{if(this._a.has(e))return;let i=this.ob++;e[Ts]=i,this._a.add(e);let r=this.lb(e),o={type:"adoptedStyleSheetRegistered",sheetId:i,cssRules:r,disabled:e==null?void 0:e.disabled};this.A(o)})}lb(t){let e=[];try{e=Ge(t.cssRules,i=>i.cssText)}catch{}return e}}return Et([B()],s.prototype,"observe",null),Et([B()],s.prototype,"disconnect",null),Et([B()],s.prototype,"setStyleSheets",null),s})(),mE=vi(vE,"optimizeMutations"),yE=csSymbol.for("ignoreNextSerialization");function EE(){let s=new Set,n=new Set,t=new Set,e=new Set,i=new Map,r=new Map,o=new Map,c=new Set,u=new Set,p=new Map,v=new Set;return{isMovedNode(f){return s.has(f)},markAsMovedNode(f){v.delete(f),s.add(f)},isDetachedMove(f){return!!At.findAncestor(f,w=>v.has(w),!0)},isAddedNode(f){let w=At.findAncestor(f,_=>n.has(_)||u.has(_)||s.has(_),!0);return!!w&&!s.has(w)},isMovedNodeIntoAddedNode(f){return s.has(f)&&!!At.findAncestor(f,w=>n.has(w)||u.has(w),!0)},markAsAddedNode(f){v.delete(f),u.delete(f),n.add(f)},markAsPendingInsert(f){u.add(f)},isPendingInsert(f){return u.has(f)},isRemovedNode(f){return!!At.findAncestor(f,w=>t.has(w),!0)},markAsRemovedNode(f){t.add(f)},isUselessNode(f){return e.has(f)},markAsUselessNode(f){e.add(f)},getPlaceholder(f,w){let _=w==="previous"?r:i;return f&&_.has(f)?_.get(f)||null:f},getSiblings(f){let w=f.addedNodes.length,_=this.getPlaceholder(f.previousSibling,"previous"),R=this.getPlaceholder(f.nextSibling,"next");if(w){let H=_,U=R,I=f.previousSibling!==_,P=f.nextSibling!==R;for(let $=0;$<w;$++){let q=f.addedNodes[$],M=f.addedNodes[w-$-1];this.isLatestNodeMutation(q,f)?(r.delete(q),f.previousSibling&&I&&(i.set(f.previousSibling,q),I=!1),H=q):r.set(q,H),this.isLatestNodeMutation(M,f)?(i.delete(M),f.nextSibling&&P&&(r.set(f.nextSibling,M),P=!1),U=M):i.set(M,U)}}else f.previousSibling&&f.previousSibling!==_&&i.set(f.previousSibling,R),f.nextSibling&&f.nextSibling!==R&&r.set(f.nextSibling,_);return{previousSibling:_,nextSibling:R}},setAttributeMutation(f,w){let _=o.get(f)||new Set;_.add(w),o.set(f,_)},isAttributeMutated(f,w){var _;return!!(!((_=o.get(f))===null||_===void 0)&&_.has(w))},setLatestNodeMutation(f,w){p.set(f,w)},isLatestNodeMutation(f,w){return p.get(f)===w},markAsFutureAddedNode(f){p.has(f)||v.add(f)},isTextMutated(f){return c.has(f)},setTextMutated(f){return c.add(f)}}}function SE(s,n){for(let t=0;t<s.addedNodes.length;t++){let e=s.addedNodes[t];n.markAsFutureAddedNode(e),n.setLatestNodeMutation(e,s)}for(let t=0;t<s.removedNodes.length;t++){let e=s.removedNodes[t];n.setLatestNodeMutation(e,s)}}function vE(s){let n=EE(),t=[];for(let e of s)e.type==="childList"&&SE(e,n);for(let e of s)switch(e.type){case"attributes":wE(e,n,t);break;case"characterData":_E(e,n,t);break;case"childList":AE(e,n,t);break}return t}function _E(s,n,t=[]){let e=s.target;return At.isConnected(e)&&!n.isTextMutated(e)&&!n.isAddedNode(e)&&!TE(e,"characterData")&&(n.setTextMutated(e),csArray.prototype.push.call(t,s)),t}function wE(s,n,t=[]){let e=s.target,i=`${s.attributeNamespace}/${s.attributeName}`;return At.isConnected(e)&&!n.isAttributeMutated(e,i)&&!n.isAddedNode(e)&&(n.setAttributeMutation(e,i),csArray.prototype.push.call(t,s)),t}var bE=30;function TE(s,n,t){let e=csSymbol.for(t?`${n}:${t}`:n),i=F.now(),r=s[e];return r&&i<r?!0:(s[e]=i+bE,!1)}function AE(s,n,t=[]){let e=At.isConnected(s.target),i=!e&&n.isRemovedNode(s.target),r=e&&n.isAddedNode(s.target),o=n.getSiblings(s),c=o.nextSibling,u=o.previousSibling,p=null,v=()=>{if(p){let{childListType:_,movedNodes:R,...H}=p;csArray.prototype.push.call(t,_==="added"?H:{...H,movedNodes:R}),p=null}},f=_=>_===(p==null?void 0:p.childListType)?p:(v(),{childListType:_,type:"childList",target:s.target,addedNodes:[],removedNodes:[],movedNodes:[],previousSibling:u,nextSibling:c});if(e){for(let _=0;_<s.addedNodes.length;_++){let R=s.addedNodes[_];n.isLatestNodeMutation(R,s)?(n.isMovedNode(R)?(p=f("moved"),csArray.prototype.push.call(p.movedNodes,R)):(n.markAsAddedNode(R),r||(p=f("added"),csArray.prototype.push.call(p.addedNodes,R))),u=R):At.isConnected(R)?n.isMovedNode(R)||n.markAsPendingInsert(R):n.markAsUselessNode(R)}v()}let w=Mn(s.removedNodes,_=>{if(At.isConnected(_)){if(!i&&!n.isPendingInsert(_)){if(n.isDetachedMove(_))return!0;n.markAsMovedNode(_),n.isMovedNodeIntoAddedNode(_)&&(_[yE]=!0)}return!1}return n.isUselessNode(_)?!1:(n.markAsRemovedNode(_),!0)});return w.length&&csArray.prototype.push.call(t,{type:"childList",removedNodes:w,addedNodes:[],movedNodes:[],target:s.target,nextSibling:c,previousSibling:u}),t}var RE=(()=>{class s{constructor(t){this.A=t,this.ah=!1,this.hb=e=>{e.sheet.ownerNode&&(e.type==="cssRuleInserted"?this.A({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssRuleDeleted"?this.A({type:e.type,target:e.sheet.ownerNode,index:e.index}):e.type==="cssRuleUpdated"?this.A({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssStyleSheetDisabled"&&this.A({type:e.type,target:e.sheet.ownerNode,disabled:e.disabled}))},this.A=e=>ye(()=>t(e)),this.Lf=new Tc(e=>ye(async()=>{await uh(),this.hb(e)})),"adoptedStyleSheets"in Document.prototype&&(this.Uf=new gE(t))}observe(){var t;this.ah=!1,this.D=new ns(e=>this.db(e),(e,i)=>{i==="added"&&this.pb(e)}),this.D.observe(),this.Lf.observe(),(t=this.Uf)===null||t===void 0||t.observe()}disconnect(){var t,e;(t=this.D)===null||t===void 0||t.disconnect(),this.Lf.disconnect(),(e=this.Uf)===null||e===void 0||e.disconnect(),this.ah=!0}db(t){if(this.ah)return;let e=mE(t);for(let i=0;i<e.length;i++){let r=e[i];if(!r){Ct.error("processRawMutations: empty record");continue}switch(r.type){case"attributes":this.processAttributeChanged(r);break;case"characterData":this.processCharacterDataChanged(r);break;case"childList":this.processChildListChanged(r);break;default:Ct.error(`processRawMutations: unknown record type '${r.type}'`);break}}}processAttributeChanged(t){let e={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:At.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this.A(e)}processCharacterDataChanged(t){let e={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this.A(e)}processChildListChanged(t){var e,i,r;if(!((e=t.movedNodes)===null||e===void 0)&&e.length){let o={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.previousSibling,nextSibling:t.nextSibling};this.A(o)}if(!((i=t.addedNodes)===null||i===void 0)&&i.length){let o={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:qi(t.addedNodes)};this.A(o)}if(!((r=t.removedNodes)===null||r===void 0)&&r.length){let o={type:"nodesRemoved",target:t.target,nodes:Ge(t.removedNodes,c=>c)};this.A(o)}}pb(t){let e={type:"shadowRootAttached",target:t.host,shadowRoot:t};this.A(e)}}return Et([B()],s.prototype,"processAttributeChanged",null),Et([B()],s.prototype,"processCharacterDataChanged",null),Et([B()],s.prototype,"processChildListChanged",null),s})(),Ac=(()=>{class s{constructor(t){this.type="asyncEvent",this.ch=!1,t&&t(e=>this.resolve(e))}resolve(t){if(this.ch)throw new Error("AsyncEvent already resolve.");t.timestamp==null&&(t={...t,timestamp:this.timestamp}),this.Ys=t,this.ch=!0,this.A&&this.A(this.Ys)}complete(t){this.ch&&t(this.Ys),this.A=t}wait(){return new Promise(t=>this.complete(t))}}return s})(),CE=Jh(),IE=(()=>{class s extends rs{constructor(){super(...arguments),this.wa=!1}onStart(){this.wa=!0,this.A=fE(this.fb,this),this.W=new RE(this.A),this.W.observe();let t=Ut.mutations.initialDOM.asyncMeasure(),e=()=>{this.wa=!1,Yg(),t()};this.produceEvent(new Ac(i=>CE(document,r=>{e(),i({type:"DomEvent",domEvent:"initialDOM",initialDOM:r})})))}onStop(){var t,e;this.wa=!1,(t=this.A)===null||t===void 0||t.cancel(),(e=this.W)===null||e===void 0||e.disconnect()}qt(t,e){let i={type:"DomEvent",domEvent:e.type,target:0,targetProps:{}};return"target"in e&&(i.target=bt(e.target),i.targetProps=pt.getProperties(e.target)),[e,i]}fb(t){if(!this.gb(t))switch(t.type){case"attributeChanged":{let[e,i]=this.qt(t.type,t);i.attribute=e.attribute,i.isSvg=Zi(e.target),i.namespace=e.namespace,i.newValue=e.newValue,i.oldValue=e.oldValue,i.localName=bn(e.target),i.linkRel=gh(e.target)?e.target.rel:null,i.parentLocalName=e.target.parentElement?bn(e.target.parentElement):void 0,i.localName==="input"&&(i.inputType=e.target.getAttribute("type")),this.produceEvent(i)}break;case"characterDataChanged":{let[e,i]=this.qt(t.type,t);i.newValue=e.newValue,i.oldValue=e.oldValue,i.targetNodeType=e.target.nodeType,i.parentLocalName=e.target.parentElement?bn(e.target.parentElement):null,i.parentProps=e.target.parentElement?pt.getProperties(e.target.parentElement):void 0,this.produceEvent(i)}break;case"nodesAdded":{let[e,i]=this.qt(t.type,t);i.targetLocalName=It(e.target)?bn(e.target):null,i.nextSibling=e.nextSibling?bt(e.nextSibling):null,i.previousSibling=e.previousSibling?bt(e.previousSibling):null,Ut.mutations.serializedMutations.measure(()=>{i.nodes=Ge(e.nodes,Na)}),this.produceEvent(i);break}case"nodesMoved":{let[e,i]=this.qt(t.type,t);i.previousSibling=e.previousSibling?bt(e.previousSibling):null,i.nextSibling=e.nextSibling?bt(e.nextSibling):null,i.nodesIds=Ge(e.nodes,bt),this.produceEvent(i);break}case"nodesRemoved":{let[e,i]=this.qt(t.type,t);i.nodesIds=Ge(e.nodes,bt),this.produceEvent(i);break}case"shadowRootAttached":{let[e,i]=this.qt(t.type,t);i.shadowRoot=Cn(e.shadowRoot),this.produceEvent(i);break}case"cssRuleInserted":{let[e,i]=this.qt(t.type,t);i.index=e.index,i.rule=e.rule,this.produceEvent(i);break}case"cssRuleDeleted":{let[e,i]=this.qt(t.type,t);i.index=e.index,this.produceEvent(i);break}case"cssRuleUpdated":{let[e,i]=this.qt(t.type,t);i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"cssStyleSheetDisabled":{let[e,i]=this.qt(t.type,t);i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetRegistered":{let[e,i]=this.qt(t.type,t);i.sheetId=e.sheetId,i.cssRules=e.cssRules,i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetsSet":{let[e,i]=this.qt(t.type,t);i.sheetsIds=e.sheetsIds,this.produceEvent(i);break}case"adoptedStyleSheetRuleInserted":{let[e,i]=this.qt(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleDeleted":{let[e,i]=this.qt(t.type,t);i.sheetId=e.sheetId,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleUpdated":{let[e,i]=this.qt(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetDisabled":{let[e,i]=this.qt(t.type,t);i.sheetId=e.sheetId,i.disabled=e.disabled,this.produceEvent(i);break}}}ba(t){return this.wa&&!pt.getProperty(t,Rn)}gb(t){switch(t.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this.ba(t.target)||W.isMaskedElement(t.target)||W.isMaskedElementChild(t.target);case"characterDataChanged":{let e=t.target.parentElement;return e!==null&&(this.ba(e)||W.isMaskedElement(e)||W.isMaskedElementChild(e))}case"attributeChanged":return this.ba(t.target)||W.isMaskedElementChild(t.target)||W.isMaskedAttribute(t.target,t.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":case"cssStyleSheetDisabled":return this.ba(t.target)||W.isMaskedElementChild(t.target);default:return!1}}}return s})(),Gn=(()=>{let s;return function(n){function t(e){return e.type==="DomEvent"}n.isDOMEvent=t}(s||(s={})),s})(),sn=(()=>{class s{constructor(){this.ce=[]}start(){}stop(){this.ce.length=0,this.ce=[]}pushEvent(t){if(s.pendingEvents++,this.isListening(t)){let e=this.ce;csSetTimeout(()=>{let r=Qs("Processor:processEvent",o=>this.processEvent(o))(t);r!=null&&csArray.prototype.forEach.call(e,o=>o(r)),s.pendingEvents--})}else csSetTimeout(()=>{csArray.prototype.forEach.call(this.ce,e=>e(t))})}subscribe(t){return csArray.prototype.push.call(this.ce,t),()=>{this.ce=csArray.prototype.filter.call(this.ce,e=>e!==t)}}emitEvent(t){ye(()=>csArray.prototype.forEach.call(this.ce,e=>e(t)))}}return s.pendingEvents=0,s})(),PE=(()=>{class s extends sn{isListening(t){return Gn.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded")}processEvent(t){let e=0,i=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let r of i){if(r instanceof Ks){let c=W.getMaskedAttributeDetails(r);r.attributes=this.$o(r,c)}if(W.getMaskedElementDetails(r).state===W.MaskedElementState.Child){if(t.domEvent==="initialDOM")return null;t.nodes=csArray.prototype.filter.call(t.nodes,c=>c!==r);continue}pt.traverse(r,c=>{if(c instanceof Ks){let u=W.getMaskedAttributeDetails(c);c.attributes=this.$o(c,u);let p=W.getMaskedElementDetails(c);p.state===W.MaskedElementState.Parent&&(this.Kc(c,p),e++)}})}return e>0&&ot.counters.sensitiveElements.count("masked-elements",e),t}$o(t,e){return e.attributes.length===0?t.attributes:csArray.prototype.filter.call(t.attributes,i=>csArray.prototype.indexOf.call(e.attributes,i.name)===-1)}Kc(t,e){let i=`width: ${e.width}px !important; height: ${e.height}px !important;`;t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),Ks.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})}}return Is([te("MaskedElementProcessor.processEvent")],s.prototype,"processEvent",null),s})();var xl=(()=>{let s;return function(n){function t(e){return e.type==="TextVisibility"}n.isTextVisibilityEvent=t}(s||(s={})),s})(),OE=(()=>{class s extends sn{constructor(t,e,i,r=null,o=!1){super(),this.N=i,this.zo=r,this.captureAnonymizedPlaceholders=o,this.Ta=new Qh(t,e,i,r,o)}setAnonymization(t){this.Ta.setAnonymization(t)}isListening(t){return xl.isTextVisibilityEvent(t)||Gn.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged")}processEvent(t){if(xl.isTextVisibilityEvent(t))return t.text=this.N.checkAndAnonymizePII(t.text,this.zo),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.uh(t);break;case"attributeChanged":this.yb(t);break;case"characterDataChanged":this.Eb(t);break}return t}uh(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes,i;t.domEvent==="nodesAdded"&&(i={targetLocalName:t.targetLocalName,targetProps:t.targetProps});for(let r of e)this.Ta.sanitize(r,i)}yb(t){if(!t.isSvg&&t.newValue){if(t.localName===null){t.newValue="";return}t.newValue=this.Ta.getAnonymizedAttributeValue(t.localName,t.attribute,t.newValue,t.inputType)}}Eb(t){t.newValue=this.Ta.getAnonymizedValue(t.newValue,t.parentLocalName,t.parentProps).anonymizedValue}}return Is([te("AnonymizedTextProcessor.processEvent")],s.prototype,"processEvent",null),s})();function Rc(s){let n=csString.prototype.trim.call(s);if(s==="")return[];let[t,e]=NE(n);return e?(Qi(t,",")||(e=ME(e)),[Ll(t),...Rc(e)]):[Ll(t)]}function NE(s){return csString.prototype.split.call(s,/\s(.+)/)}function Ll(s){return csString.prototype.split.call(s,/,$/)[0]}function ME(s){return csString.prototype.split.call(s,/,(.+)/)[1]||""}var kE=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\)(?!\\))/g;function DE(s,n){return csString.prototype.replace.call(s,kE,(...e)=>{let i=e[3]||e[4],r=e[9]||e[10]||e[11],o=LE((i||r).trim()),c=i?"@import ":"",u=n(o)||o;return`${c}url(${xE(u)})`})}function xE(s){return csString.prototype.indexOf.call(s,'"')===-1?`"${s}"`:csString.prototype.indexOf.call(s,"'")===-1?`'${s}'`:s}function Pn(s){let n=new Set;return DE(s,t=>{var e,i;return n.add((i=(e=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))===null||e===void 0?void 0:e[1])!==null&&i!==void 0?i:t),t}),Zs(n)}function LE(s){let n=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g;return csString.prototype.replace.call(s,n,(t,e,i,r)=>{if(e==="\\")return csString.prototype.slice.call(t,1);if(r)return r;let o=parseInt(i,16);return 55296<=o&&o<=57343||o===0||o>1114111?"\uFFFD":csString.fromCodePoint(o)})}var Ul=(()=>{class s{static async toStaticResourceEvent(t,e,i){let r=await s.wb(t);if(!r)return null;let o=await s.Hf(r),c=xe(t)?void 0:t,u={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:o,data:r}};return c&&(u.originalResourceName=c),u}static async toCSSStaticResourceEvent(t,e,i,r){let o=await s.bb(t,r),c=Ze(t),u=o.get(c);if(!u)return null;let p={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:u.hash,data:u.data}};return o.delete(c),o.size&&(p.nestedResources=[],o.forEach(v=>{v&&csArray.prototype.push.call(p.nestedResources,{hash:v.hash,data:v.data})})),p}static async Hf(t){let e=await t.arrayBuffer(),i=await crypto.subtle.digest(this.Bf,e);return ya(i)}static async wb(t){let e;if(!xe(t))e=await(await window.fetch(t)).blob();else{let i=Uc(t);if(!i)return null;e=i}return e}static async bb(t,e){let i=new Map,r=Ze(t),c=[{resourceRawPath:t,resourceAbsolutePath:r}];for(;c.length>0;){let u=csArray.prototype.pop.call(c);if(!e&&u.resourceAbsolutePath!==null&&!xe(u.resourceAbsolutePath)){i.set(u.resourceAbsolutePath,null);continue}if(i.get(u.resourceAbsolutePath)===void 0)try{if(u.resourceRawPath===null||csString.prototype.indexOf.call(u.resourceRawPath,".css")>0){if(!u.data){let _=await fetch(u.resourceAbsolutePath);u.data=await _.text()}u.nestedResources||(u.nestedResources=Pn(u.data));let f=!1,w=!1;for(let _ of u.nestedResources){let R=xe(_)?_:u.resourceAbsolutePath?sf(_,u.resourceAbsolutePath):Ze(_),H=i.get(R);if(H!==void 0){if(H!==null){let I=s.Tb(H,_);u.data=_t.stringReplaceAll(u.data,_,I)}continue}Je(c,I=>I.resourceAbsolutePath===R)!==void 0||(f=!0,w||(csArray.prototype.push.call(c,u),w=!0),csArray.prototype.push.call(c,{resourceRawPath:_,resourceAbsolutePath:R}))}if(!f){let _=await s.Ab(u.data);i.set(u.resourceAbsolutePath,{hash:_.hash,data:_.data})}}else{let f;if(!xe(u.resourceAbsolutePath))f=await(await fetch(u.resourceAbsolutePath)).blob();else{let _=Uc(u.resourceAbsolutePath);if(!_){i.set(u.resourceAbsolutePath,null);continue}f=_}let w=await s.Hf(f);i.set(u.resourceAbsolutePath,{hash:w,data:f})}}catch{i.set(u.resourceAbsolutePath,null)}}return i}static Tb(t,e){let i=`cs://resources/${t.hash}`;return xe(e)||(i+=`?${s.fh}=${e}`),i}static async Ab(t){let e=new Blob([t],{type:"text/css"}),i=await e.arrayBuffer(),r=await crypto.subtle.digest(s.Bf,i);return{data:e,hash:ya(r)}}}return s.Bf="SHA-256",s.fh="original-resource-name",s})(),$a=(()=>{class s extends sn{constructor(){super(),this.Aa="cssrm://",this._e=0,this.Ps=!1}isListening(t){return!s.isSupported()||!Gn.isDOMEvent(t)?!1:t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged"}processEvent(t){switch(t.domEvent){case"initialDOM":case"nodesAdded":this.Rb(t);break;case"attributeChanged":this.Cb(t);break;case"characterDataChanged":this.Ib(t);break}return t}disableOnlineAssets(){this.Ps=!1}enableOnlineAssets(){this.Ps=!0}isOnlineAssetsActivated(){return this.Ps}Rb(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let i of e)pt.traverse(i,(r,o)=>{if(r.nodeType===Ki.TEXT_NODE&&o){this.Pb(r,o.localName);return}if(!Ks.isElement(r))return;let c=Je(r.attributes,u=>u.name==="style");if(c&&(c.value=this.Ra(c.value)),this.Ob(r)||this.Nb(r,o)){let u=Je(r.attributes,v=>v.name==="src");u&&u.value&&(u.value=this.Ff(u.value));let p=Je(r.attributes,v=>v.name==="srcset");if(p){p.value=this.$f(p.value);return}}if(this.Mb(r)&&this.Ps){let u=Je(r.attributes,p=>p.name==="href");if(!u||!u.value)return;this._e++,this.Pn(Ze(u.value),this._e,!0),this.kb(r,u,this._e)}})}kb(t,e,i){csArray.prototype.push.call(t.attributes,{name:"data-cs-original-href",namespaceURI:"",value:e.value}),e.value=this.Aa+i}Pb(t,e){if(!t||e!=="style")return;let i=this.Ra(t.data);i!==null&&(t.data=i)}Ib(t){if(t.parentLocalName!=="style"||!t.newValue)return;let e=this.Ra(t.newValue);e!==null&&(t.newValue=e)}Cb(t){if(!t.newValue||t.newValue===t.oldValue)return;let e=t.attribute==="src",i=t.attribute==="srcset";if(t.attribute==="style"){t.newValue=this.Ra(t.newValue);return}if(!e&&!i)return;let o=t.localName==="img",c=t.localName==="source"&&t.parentLocalName&&t.parentLocalName==="picture";!o&&!c||(e&&(t.newValue=this.Ff(t.newValue)),i&&(t.newValue=this.$f(t.newValue)))}Ff(t){return xe(t)||this.Ps?(this._e++,this.Pn(t,this._e,!1,F.now()),this.Aa+this._e):t}$f(t){if(!this.Ps)return t;let e=t,i=Rc(t),r=F.now();for(let o of i)this._e++,this.Pn(Ze(o),this._e,!1,r),e=csString.prototype.replace.call(e,o,this.Aa+this._e);return e}Ra(t){let e=Pn(t),i=t,r=F.now();for(let o of e){let c=xe(o);if(!(c||this.Ps)||this.Db(o))continue;this._e++,i=csString.prototype.replace.call(i,o,this.Aa+this._e);let u=_p(o);c?this.Pn(o,this._e,!1,r):this.Ps&&(u?this.Pn(o,this._e,!0,r):this.Pn(Ze(o),this._e,!1,r))}return i}Pn(t,e,i,r=F.now()){let o=i?Ul.toCSSStaticResourceEvent:Ul.toStaticResourceEvent,c=new Ac(async u=>{try{let p=await o(t,e,r,this.Ps);u(p||{type:"warning",message:`Failed to process static resource: ${t}`})}catch(p){u({type:"warning",message:p})}});this.emitEvent(c)}Ob(t){return t.localName==="img"}Nb(t,e){return t.localName==="source"&&!!e&&e.localName==="picture"}Mb(t){return t.localName==="link"&&csArray.prototype.some.call(t.attributes,e=>e.name==="rel"&&e.value==="stylesheet")}static isSupported(){return lh()&&nd()&&!!csArray.from}Db(t){return csString.prototype.replace.call(t,/['"]+/g,"").length===0}}return Is([te("StaticResourceManagerProcessor.processEvent")],s.prototype,"processEvent",null),s})(),UE=(()=>{class s extends sn{constructor(t){super(),this.Z=t}isListening(t){return Gn.isDOMEvent(t)&&t.domEvent==="initialDOM"}processEvent(t){return t.domEvent==="initialDOM"&&(t.initialDOM.baseURI=this.Z.anonymizeUrl(t.initialDOM.baseURI)),t}}return Is([te("UrlAnonymizationProcessor.processEvent")],s.prototype,"processEvent",null),s})(),ra="textarea",VE=(()=>{class s extends sn{isListening(t){return Gn.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="characterDataChanged")}processEvent(t){switch(t.domEvent){case"initialDOM":this.xb(t);break;case"nodesAdded":this.Lb(t);break;case"characterDataChanged":this.Ub(t);break}return t}xb(t){pt.traverse(t.initialDOM,(e,i)=>{(this.zf(e,i)||this.Gf(e))&&(e.data=this.gh(e.data))})}Lb(t){for(let e of t.nodes)pt.traverse(e,(i,r)=>{(this.Vb(i,r,t)||this.Gf(i))&&(i.data=this.gh(i.data))})}Ub(t){var e;(t.parentLocalName===ra||!((e=t.targetProps)===null||e===void 0)&&e.editableNode)&&(t.newValue=this.gh(t.newValue))}gh(t){return csString.prototype.replace.call(t,/\S/g,"\u2022")}Vb(t,e,i){return this.jb(t,i)||this.zf(t,e)}jb(t,e){return t.nodeType===3&&e.targetLocalName===ra}zf(t,e){return t.nodeType===3&&dt(e)&&e.localName===ra}Gf(t){return t.nodeType===3&&zs.isEditableNode(t)}}return Is([te("AnonymizedEditableTextProcessor.processEvent")],s.prototype,"processEvent",null),s})(),jE=(()=>{class s{constructor(t){this.A=t,this.zt={boundElement:window,type:"resize",listener:()=>this.resizeListener()},this.A=t}observe(){Mt(this.zt),this.mh()}mh(){this.resizeListener()}disconnect(){kt(this.zt)}resizeListener(){let t={width:Yt.windowWidth(),height:Yt.windowHeight()};this.A(t)}}return Et([B("resize")],s.prototype,"resizeListener",null),s})(),$s=(()=>{let s;return function(n){n.PORTRAIT="Portrait",n.LANDSCAPE="Landscape"}(s||(s={})),s})(),mr=(()=>{let s;return function(n){n.PORTRAIT_PRIMARY="portrait-primary",n.PORTRAIT_SECONDARY="portrait-secondary",n.LANDSCAPE_PRIMARY="landscape-primary",n.LANDSCAPE_SECONDARY="landscape-secondary"}(s||(s={})),s})(),yr=(()=>{let s;return function(n){n[n.PORTRAIT=0]="PORTRAIT",n[n.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",n[n.LANDSCAPE=-90]="LANDSCAPE",n[n.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(s||(s={})),s})(),HE=(()=>{let s;return function(n){let t=null;n.isScreenOrientationApiSupported=()=>{var c;return t!=null?t:t=!!(!((c=yt.screen)===null||c===void 0)&&c.orientation)},n.isDeprecatedScreenOrientationApiSupported=()=>"orientation"in yt;function e(){return $s.LANDSCAPE}function i(){var c;switch((c=yt.screen.orientation)===null||c===void 0?void 0:c.type){case mr.PORTRAIT_PRIMARY:case mr.PORTRAIT_SECONDARY:return $s.PORTRAIT;case mr.LANDSCAPE_PRIMARY:case mr.LANDSCAPE_SECONDARY:return $s.LANDSCAPE;default:return $s.PORTRAIT}}function r(){switch(window.orientation){case yr.PORTRAIT:case yr.PORTRAIT_REVERSE:return $s.PORTRAIT;case yr.LANDSCAPE:case yr.LANDSCAPE_REVERSE:return $s.LANDSCAPE;default:return $s.PORTRAIT}}function o(){return n.isScreenOrientationApiSupported()?i():n.isDeprecatedScreenOrientationApiSupported()?r():e()}n.getCurrentOrientation=o}(s||(s={})),s})(),BE=(()=>{class s extends rs{constructor(){super(...arguments),this.yh=null,this.Eh=null,this.Vs=new jE(t=>{this.produceEvent({...t,type:"viewportResize"}),this.onScreenPotentiallyChanged()})}onScreenPotentiallyChanged(){let t=HE.getCurrentOrientation(),{screenWidth:e,screenHeight:i}=this.Hb(t);if(e!==this.yh||i!==this.Eh){this.yh=e,this.Eh=i;let r={type:"screenResize",width:e,height:i};this.produceEvent(r)}}Hb(t){let e,i,r=Yt.screenWidth(),o=Yt.screenHeight();return t===$s.PORTRAIT?(e=r,i=o):(e=Math.max(r,o),i=Math.min(r,o)),{screenWidth:e,screenHeight:i}}onStart(){this.Vs.observe()}onStop(){this.yh=null,this.Eh=null,this.Vs.disconnect()}}return s})();function FE(s){let n=csEventtarget.apply(s);return n&&It(n)&&csElementshadowRoot.apply(n)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:n}var $E=(()=>{class s extends rs{constructor(){super(),this.qf=t=>{let e=FE(t);e&&this.Sh(e,t.type)},this.de=new tn((t,e)=>{switch(e){case"initial":case"added":this.Wf(t);break;case"removed":this.Yf(t);break}}),this.B=new qe((t,e)=>{(e==="initial"||e==="added")&&this.Bb(t)})}static shouldProcessElement(t){return t.tagName==="VIDEO"&&At.isConnected(t)&&!W.isMaskedElement(t)&&!W.isMaskedElementChild(t)}static isPlaying(t){return!t.paused&&!t.ended}onStart(){this.Wf(document),this.de.observe(),this.B.observe("video")}onStop(){this.Yf(document),this.de.disconnect(),this.B.disconnect()}Sh(t,...e){if(this.isStarted&&s.shouldProcessElement(t))for(let i of e){let r=bt(t),o={type:"VideoEvent",videoEventType:i,nodeId:r};i==="seeked"&&(o.newTimePositionInSec=t.currentTime),Za(()=>this.produceEvent(o))}}Bb(t){for(let e of t)this.Sh(e,"seeked"),s.isPlaying(e)&&this.Sh(e,"play")}Wf(t){for(let e of["play","pause","seeked"])Mt({type:e,listener:this.qf,boundElement:t})}Yf(t){for(let e of["play","pause","seeked"])kt({type:e,listener:this.qf,boundElement:t})}}return s})();function zE(s){return s.nodeName==="SELECT"}function Cc(s){return s.nodeName==="INPUT"}function GE(s){return s.nodeName==="TEXTAREA"||Cc(s)&&!Tu(s)&&!Au(s)}function Tu(s){return Cc(s)&&s.type==="number"}function Au(s){return Cc(s)&&(s.type==="checkbox"||s.type==="radio")}var qE=(()=>{class s extends rs{constructor(t){super(),this.lt=t,this.vh=new Df("low"),this.On=e=>this.inputHandler(e),this.Oi=[],this.Fb(),this.$b(),this.B=new qe(e=>{for(let i of e)this._h(i)&&ye(()=>{this.bh(i,bt(i))},"low")}),this.de=new tn((e,i)=>{switch(i){case"initial":case"added":Mt({type:"change",listener:this.On,boundElement:e});break;case"removed":kt({type:"change",boundElement:e,listener:this.On});break}})}onStart(){Mt({type:"keyup",boundElement:document,listener:this.On}),Mt({type:"change",boundElement:document,listener:this.On}),ft(this.Oi,t=>t.activate()),this.B.observe(csArray.prototype.join.call(s.zb,",")),this.de.observe()}onStop(){kt({type:"keyup",boundElement:document,listener:this.On}),kt({type:"change",boundElement:document,listener:this.On}),ft(this.Oi,t=>t.deactivate()),this.B.disconnect(),this.de.disconnect(),this.vh.clear()}bh(t,e){var i,r,o;if(this.vh.has(t))return;if(this.vh.add(t),zE(t)){let p={type:"InputEvent",inputType:"select",target:bt(t),selectedIndex:t.selectedIndex,timestamp:F.now()};this.produceEvent(p);return}if(Au(t)){let p={type:"InputEvent",inputType:"checkable",target:bt(t),checked:t.checked,timestamp:F.now()};this.produceEvent(p);return}let c=GE(t),u=Tu(t);if(c||u){let p=(i=t.value)!==null&&i!==void 0?i:"";if(!((r=this.lt)===null||r===void 0)&&r.shouldEncrypt(t)){(o=this.lt)===null||o===void 0||o.registerInputNodeToEncrypt({targetId:e,targetValue:p,date:F.now()});return}let v=u?"0":"\u2022",f={type:"InputEvent",inputType:"text",target:bt(t),value:csString.prototype.replace.call(p,/\S/g,v),timestamp:F.now()};this.produceEvent(f)}}inputHandler(t){if(!this.isStarted)return;let e=Zt(t),i=bt(e);!i||!this._h(e)||At.isConnected(e)&&ye(()=>{this.bh(e,i)},"low")}Fb(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")}$b(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)}trackChanges(t,e,i=!1){let r=Lr(t.prototype,e,(o,c,u)=>{if(u!==c&&At.isConnected(o)){let p=i?o.parentElement:o;this.Gb(p)}});r&&csArray.prototype.push.call(this.Oi,r)}_h(t){return!W.isMaskedElement(t)&&!W.isMaskedElementChild(t)&&(Hr(t)||rc(t)||nc(t))}Gb(t){if(this.isStarted&&At.isConnected(t)){let e=bt(t);e&&this._h(t)&&ye(()=>{this.bh(t,e)},"low")}}}return s.zb=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],Is([Rt()],s.prototype,"inputHandler",null),Is([B()],s.prototype,"trackChanges",null),s})();var WE=(()=>{class s{constructor(t=Number.POSITIVE_INFINITY){this.oi=[],this.ot=[],this.qb=t}next(t){this.ot.length===this.qb&&csArray.prototype.shift.call(this.ot),csArray.prototype.push.call(this.ot,t),this.ot.length===1&&csSetTimeout(()=>this.clear());for(let e of this.oi)e(t)}subscribe(t){if(Je(this.oi,i=>t===i))return()=>{this.oi=csArray.prototype.filter.call(this.oi,i=>i!==t)};csArray.prototype.push.call(this.oi,t);for(let i of this.ot)t(i);return()=>{this.oi=csArray.prototype.filter.call(this.oi,i=>i!==t)}}clear(){this.ot=[]}hasObservers(){return this.oi.length>0}}return s})(),Ru=(()=>{var s;class n{constructor(e){this.A=e}observe(){this.Wb=s.Vr.subscribe(e=>this.A(e)),s.Ca||(s.Ca=!0,s.Ur.observe(),Te(document,NodeFilter.SHOW_ELEMENT).visitAll(i=>{s.Is.add(i),s.Vr.next(i)}))}disconnect(){s.Ca&&(this.Wb(),s.Vr.hasObservers()||(s.Ca=!1,s.Ur.disconnect(),s.Vr.clear(),s.Is.clear()))}}return s=n,n.Is=new zr,n.Vr=new WE,n.Yb=vi(t=>{ye(()=>{for(let e of t)e.type==="childList"&&ft(e.addedNodes,i=>{Te(i,NodeFilter.SHOW_ELEMENT).visitAll(o=>{s.Is.has(o)||(s.Is.add(o),s.Vr.next(o))})})})},"ElementObserver.findAllElements"),n.Ca=!1,n.Ur=new ns(s.Yb),Et([B()],n.prototype,"observe",null),Et([B()],n.prototype,"disconnect",null),n})(),YE=(()=>{class s extends rs{constructor(){super(),this.Ts=typeof window.customElements=="object"&&typeof window.customElements.whenDefined=="function"&&typeof window.Promise=="function",this.Xb=Qs("CustomElementRegistrationProducer:onElementsFound",e=>{for(let i of e)W.isMaskedElement(i)||W.isMaskedElementChild(i)||Vd(i)&&this.register(csString.prototype.toLowerCase.call(i.tagName))});let t=Gr(this.Xb);this.jr=new Ru(e=>t.push(e)),this.ni=new Set}onStart(){this.Ts&&this.jr.observe()}onStop(){this.ni.clear(),this.jr.disconnect()}async register(t){this.ni.has(t)||(this.ni.add(t),await window.customElements.whenDefined(t),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(t)}))}}return Is([B()],s.prototype,"register",null),s})(),Vl=(()=>{class s{static isNavigationTimingObserverSupported(){var t,e;return(((t=window.PerformanceObserver)===null||t===void 0?void 0:t.supportedEntryTypes)==null?void 0:csArray.prototype.indexOf.call((e=window.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes,"navigation"))>=0}static getTimeOrigin(){return window.performance.timeOrigin}static Xf(){if(this.isNavigationTimingObserverSupported())return new window.PerformanceObserver(t=>s.Kb(t))}static Kb(t){let i=t.getEntriesByType("navigation")[0];i&&(this.Hi=i,s.Nn(i))}static Zn(t){this.Jb(t),this.Hi&&t(this.Hi),this.Ve||this.Qb()}static Jb(t){this.Mt.add(t)}static Zb(t){this.Mt.delete(t)}static Qb(){if(this.Hr||(this.Hr=this.Xf()),!this.Hr){this.Hi||(this.Hi={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),this.Nn(this.Hi);return}this.Hr.observe({type:"navigation",buffered:!0}),this.Ve=!0}static Nn(t){this.Mt.forEach(e=>e(t))}static er(t){this.Zb(t),this.Mt.size===0&&this.Br()}static Br(){var t;this.Ve&&((t=this.Hr)===null||t===void 0||t.disconnect(),this.Ve=!1,this.Hi=null,this.Hr=this.Xf())}constructor(t){this.A=t}observe(){s.Zn(this.A)}disconnect(){s.er(this.A)}}return s.Ve=!1,s.Mt=new Set,s.Hi=null,s})(),XE=(()=>{class s extends rs{constructor(){super(...arguments),this.Ia=null,this.Kf=new Vl(t=>{if(this.Ia)return;let e=this.tT(t);e&&(this.Ia=e,this.produceEvent(e))})}onStart(){if(this.Ia){this.produceEvent(this.Ia);return}this.Kf.observe()}onStop(){this.Kf.disconnect()}tT(t){let e=Vl.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:e,requestStart:Math.floor(e+t.requestStart),domInteractive:Math.floor(e+t.domInteractive)},timestamp:F.now()}}}return s})(),KE="touchstart",JE="touchmove",QE="touchend",Cu=(()=>{class s{constructor(t){this.A=t}observe(){s.Jf&&s.Th(this.A)}disconnect(){s.Jf&&s.Ah(this.A)}static eT(t,e){csArray.prototype.forEach.call(Zs(s.Mt),i=>i(t,e))}static Th(t){s.Mt.has(t)||(s.Mt.add(t),s.Mt.size===1&&(s.Fr.onGesture(s.eT),csArray.prototype.forEach.call(s.Bs,e=>Mt(e))))}static Ah(t){s.Mt.delete(t),s.Mt.size===0&&csArray.prototype.forEach.call(s.Bs,e=>kt(e))}static Rh(t){if(s.Fr.isValidTouchEvent(t))switch(t.type){case"touchstart":s.Fr.processActionDown(t);break;case"touchmove":s.Fr.processActionMove();break;case"touchend":s.Fr.processActionUp(t);break}}}return s.Bs=[{boundElement:yt.document,type:KE,listener:n=>s.Rh(n)},{boundElement:yt.document,type:JE,listener:n=>s.Rh(n)},{boundElement:yt.document,type:QE,listener:n=>s.Rh(n)}],s.Jf=Ca.isGestureDetectionSupported(),s.Mt=new Set,s.Fr=new Ca,s})(),ZE=(()=>{class s extends rs{constructor(){super(),this.$r=new Cu(this.Fc.bind(this))}onStart(){this.$r.observe()}onStop(){this.$r.disconnect()}Fc(t){let e=this.sT(t);e&&this.produceEvent(e)}sT(t){return this.iT(t)?{type:"Gesture",targetId:bt(t.target),data:{type:t.type,direction:t.direction,distance:t.distance,velocity:t.velocity,pageX:t.pageX,pageY:t.pageY}}:null}iT(t){return t.target!==null&&!(It(t.target)&&W.isMaskedElementChild(t.target))}}return s})(),tS=(()=>{class s extends rs{constructor(){super(...arguments),this.Qf=new yu(t=>this.Pa(t))}Pa({message:t,filename:e,lineno:i,colno:r}){t=t!=null?t:"[NO ERROR MESSAGE]",e=!e||xe(e)?"":e,this.produceEvent({type:"JSError",message:t,filename:e,lineno:i,colno:r})}onStart(){this.Qf.observe()}onStop(){this.Qf.disconnect()}}return s})(),eS=(()=>{class s extends sn{constructor(t){super(),this.nT=t,this.Ul=1024,this.Vl=150}isListening(t){return t.type==="JSError"}processEvent(t){return t.message=_t.truncate(t.message,this.Ul,_t.ELLIPSIS),t.filename=_t.truncate(t.filename,this.Vl,_t.ELLIPSIS),this.nT(t)}}return s})();var Hi=[],za=!1,Iu=vi(iS,"executeTasks");function sS(s){if(csArray.prototype.push.call(Hi,s),!za){for(let n=0;n<3;n++)csSetTimeout(Iu);za=!0}}function iS(){let s=csDate.now();for(let n=0;n<Hi.length;n++)if(Hi[n](),csDate.now()-s>=35){Hi=csArray.prototype.slice.call(Hi,n+1),csSetTimeout(Iu);return}Hi=[],za=!1}var js=(()=>{let s;return function(n){n[n.Started=0]="Started",n[n.Stopped=1]="Stopped",n[n.Processing=2]="Processing",n[n.Completed=3]="Completed"}(s||(s={})),s})(),Pu=(()=>{class s{constructor(){this.kt=new Un,this.Pt=js.Stopped,this.A=null,this.tg=t=>{this.Pt===js.Stopped||!t||(this.A(t),this.eg())}}get queueLength(){return this.kt.length}start(t){if(this.A)throw new Error("callback already set");this.Pt=js.Started,this.A=t}push(t){this.kt.push(t),this.Ch()}stop(){this.A=null,this.Pt=js.Stopped,this.kt.clear()}static pipe(t,e){let i=t,r=new csArray;for(let c of e){let u=new s;u.start(p=>{c.pushEvent(p)}),csArray.prototype.push.call(r,u),ft(i,p=>p.subscribe(v=>u.push(v))),i=[c]}let o=new nS(r);return ft(i,c=>c.subscribe(u=>o.push(u))),o}sg(){return this.Pt===js.Stopped}rs(){return this.Pt===js.Processing}eg(){if(!this.sg()){if(this.kt.isEmpty){this.Pt=js.Completed;return}this.Pt=js.Processing,sS(()=>{let t=this.kt.pop();t instanceof Ac?t.complete(this.tg):this.tg(t)})}}Ch(){this.sg()||this.rs()||this.eg()}}return s})(),nS=(()=>{class s extends Pu{constructor(t){super(),this.ig=t}get queueLength(){return csArray.prototype.reduce.call(this.ig,(t,e)=>t+e.queueLength,0)}stop(){super.stop(),ft(this.ig,t=>t.stop())}}return s})(),rS=(()=>{class s{constructor(t,e=[]){this.producers=t,this.processors=e,this.G=!1,this.Mt=[]}get pendingEvents(){var t,e;return(e=(t=this.kt)===null||t===void 0?void 0:t.queueLength)!==null&&e!==void 0?e:0}start(){if(this.G)throw new Error("Recording is already started.");let t=this.Mt;this.kt=Pu.pipe(this.producers,this.processors),this.kt.start(e=>csArray.prototype.forEach.call(t,i=>i(e))),ft(this.producers,e=>e.start()),ft(this.processors,e=>e.start()),this.G=!0}stop(){this.kt.stop(),this.Mt.length=0;for(let t of this.producers)t.stop();for(let t of this.processors)t.stop();this.G=!1,this.Mt=[]}subscribe(t){if(this.G)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.Mt,t),()=>this.Mt=csArray.prototype.filter.call(this.Mt,e=>e!==t)}}return s})(),oS=(()=>{class s{constructor(t){this.Oa={},this.De=new wc(t)}save({key:t,metadata:e,events:i}){this.De.isThresholdReached()||(this.De.addString(t),typeof i=="string"?this.De.addString(i):this.De.addArrayBuffer(i),!this.De.isThresholdReached()&&(this.Oa[t]={metadata:e,events:i}))}recover(t){let e=[];csArray.prototype.forEach.call(this.cT(),i=>{let r=this.Oa[i];r!==void 0&&(delete r.metadata.datatype,csArray.prototype.push.call(e,r),this.lT(i))}),e.length!==0&&(t(e),this.De.reset())}cT(){return Object.keys(this.Oa)}lT(t){delete this.Oa[t]}}return s})(),Hs=(()=>{let s;return function(n){n[n.NOT_STARTED=0]="NOT_STARTED",n[n.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",n[n.OPEN_FAILED=2]="OPEN_FAILED",n[n.READY=3]="READY"}(s||(s={})),s})(),aS=(()=>{class s{constructor(t,e,i){this.En=t,this.hT=i,this.Bi=Hs.NOT_STARTED,this.Na=[],this.Ih=0,this.uT=self.origin,this.ke=typeof window=="object"?"":"worker-",this.De=new wc(e),this.Fl()}async Fl(){await this.ng(),this.Bi===Hs.READY?this.dT():this.hT(this.Na)}dT(){csArray.prototype.forEach.call(this.Na,t=>{this.save(t)}),this.Na=[]}async save(t){try{if(this.Bi===Hs.OPEN_IN_PROGRESS){csArray.prototype.push.call(this.Na,t);return}if(this.Bi!==Hs.READY||this.De.isThresholdReached())return;let{key:e,metadata:i,events:r}=t;if(this.De.addString(e),typeof r=="string"?this.De.addString(r):this.De.addArrayBuffer(r),this.De.isThresholdReached())return;await this.re.put(`${this.uT}/${e}`,new Response(r,{headers:i}))}catch{}}async recover(t){!this.re&&(await this.ng(),this.Bi!==Hs.READY)||this.pT(t)}async ng(){try{this.Bi=Hs.OPEN_IN_PROGRESS,this.re=await self.caches.open(`${this.ke}${this.En}`),this.Bi=Hs.READY}catch{this.Bi=Hs.OPEN_FAILED}}async pT(t){try{if(this.Ih++,this.Ih>1)return;let e=await this.re.keys();if(e.length===0)return;let i=await this.re.matchAll(),r=csArray.prototype.map.call(i,c=>{let u={};c.headers.forEach((v,f)=>{u[f]=v}),delete u["content-type"];let p=u.datatype;return delete u.datatype,p==="json"||p==="base64"?c.text().then(v=>({metadata:u,events:v})):c.arrayBuffer().then(v=>({metadata:u,events:v}))}),o=await Promise.all(r);await Promise.all(csArray.prototype.map.call(e,c=>this.re.delete(c))),t(o),this.De.reset()}catch{}finally{this.Ih--}}}return s})(),cS=(()=>{class s{constructor(t){try{this.fT(t)}catch{this.Ph()}}fT(t){self.caches?this.gT(t):this.Ph()}save(t){this.Ma.save(t)}recover(t){this.Ma.recover(t)}gT(t){this.Ma=new aS(t,s.rg,e=>{this.Ph(e)})}Ph(t){this.Ma=new oS(s.rg),t&&csArray.prototype.forEach.call(t,e=>{this.Ma.save(e)})}}return s.rg=1024*1024*16,s})(),lS=(()=>{class s{constructor(t,e){this.S=t,this.R=e,this.zr=De.ETR_DISABLED,this.ka=De.ETR_PENDING,this.Oh=!0}getEtrStatus(t){t===void 0&&(t=this.R.getSession());let e=t==null?void 0:t.etrStatus;return this.og()&&e===De.ETR_SAVED_SESSION?e:this.zr}onEventTriggerRecording(t,e){switch(e){case Xs.ETR_PAGE:this.ag(De.ETR_SAVED_PAGE);break;case Xs.ETR_LEGACY:case Xs.ETR_SESSION:this.ag(De.ETR_SAVED_SESSION);break}}onCollectStateChange(t,e){t===Q.RECORDING_TEMPORARILY?this.Oh=!0:this.Oh=!1,t===Q.ANALYTICS_ONLY&&e===be.ETR_ON?this.cg(this.ka):this.cg(De.ETR_DISABLED)}cg(t){this.zr=t,this.ka=De.ETR_PENDING,this.lg(t),this.S.emitRecordingContextChange()}ag(t){this.Oh?Number(t)>Number(this.ka)&&(this.ka=t):this.og()&&Number(t)>Number(this.zr)&&(this.zr=t,this.lg(t),this.S.emitRecordingContextChange())}lg(t){let e=this.R.getSession();e!==null&&e.etrStatus===De.ETR_NOT_SAVED_SESSION&&t===De.ETR_SAVED_SESSION&&(e.etrStatus=t,this.R.setSession(e))}og(){return this.zr!==De.ETR_DISABLED}}return s})(),X=(()=>{let s;return function(n){n[n.MUTATION_INSERT=1]="MUTATION_INSERT",n[n.MUTATION_REMOVE=2]="MUTATION_REMOVE",n[n.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",n[n.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",n[n.INITIAL_DOM=5]="INITIAL_DOM",n[n.SCROLL=6]="SCROLL",n[n.CLICK=8]="CLICK",n[n.RESIZE=9]="RESIZE",n[n.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",n[n.INPUT_SELECT=11]="INPUT_SELECT",n[n.INPUT_TEXT=12]="INPUT_TEXT",n[n.HASH_CHANGE=13]="HASH_CHANGE",n[n.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",n[n.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",n[n.MOUSE_OVER=16]="MOUSE_OVER",n[n.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",n[n.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",n[n.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",n[n.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",n[n.ATTACH_SHADOW=22]="ATTACH_SHADOW",n[n.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",n[n.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",n[n.PAGE_EVENT=27]="PAGE_EVENT",n[n.API_ERROR=28]="API_ERROR",n[n.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",n[n.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",n[n.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",n[n.KEY_DOWN=32]="KEY_DOWN",n[n.KEY_UP=33]="KEY_UP",n[n.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",n[n.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",n[n.USER_IDENTIFIER=38]="USER_IDENTIFIER",n[n.TOUCH_START=41]="TOUCH_START",n[n.TOUCH_MOVE=42]="TOUCH_MOVE",n[n.TOUCH_END=43]="TOUCH_END",n[n.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",n[n.POINTER_DOWN=47]="POINTER_DOWN",n[n.POINTER_MOVE=48]="POINTER_MOVE",n[n.POINTER_UP=49]="POINTER_UP",n[n.CUSTOM_ERROR=50]="CUSTOM_ERROR",n[n.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",n[n.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",n[n.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",n[n.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",n[n.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",n[n.SCREEN_RESIZE=65]="SCREEN_RESIZE",n[n.RESOURCE_HASHES=66]="RESOURCE_HASHES",n[n.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",n[n.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",n[n.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",n[n.TEXT_REF=73]="TEXT_REF",n[n.TOUCH_CANCEL=74]="TOUCH_CANCEL",n[n.MUTATION_MOVE=75]="MUTATION_MOVE",n[n.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",n[n.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",n[n.VIDEO_PLAY=78]="VIDEO_PLAY",n[n.VIDEO_PAUSE=79]="VIDEO_PAUSE",n[n.VIDEO_SEEK=80]="VIDEO_SEEK",n[n.ADOPTED_STYLESHEET_DISABLED=98]="ADOPTED_STYLESHEET_DISABLED",n[n.STYLESHEET_DISABLED=99]="STYLESHEET_DISABLED",n[n.DEBUG=999]="DEBUG"}(s||(s={})),s})();var wn=(()=>{let s;return function(n){n[n.SWIPE=0]="SWIPE",n[n.PINCH_IN=1]="PINCH_IN",n[n.PINCH_OUT=2]="PINCH_OUT",n[n.LONG_PRESS=3]="LONG_PRESS",n[n.TAP=4]="TAP",n[n.DOUBLE_TAP=5]="DOUBLE_TAP"}(s||(s={})),s})(),hS=(()=>{class s{constructor(t=100){this.mT=t,this.Da={},this.Gr=null,this.fh="original-resource-name"}onEvent(t){this.yT=t}processEvent(t){this.ET(t.resourceId,t.resource.hash,t.originalResourceName),this.ST(t)}flushEvents(){this.Gr&&csClearTimeout(this.Gr),this.hg()}onSendStaticResource(t){this.ST=t}hg(){if(!Object.keys(this.Da).length)return;let t={type:X.RESOURCE_HASHES,date:F.now(),args:[this.Da]};this.Gr=null,this.Da={},this.yT(t)}ET(t,e,i){let r=e;i&&(r+=`?${this.fh}=${i}`),this.Da[t]=r,!this.Gr&&(this.Gr=window.csSetTimeout(()=>this.hg(),this.mT))}}return s})();function uS(s,n,t){let{timestamp:e}=s;switch(s.domEvent){case"initialDOM":{let{initialDOM:i}=s,r={type:X.INITIAL_DOM,date:e,args:[i]};t.emitInitialDomDone(r);break}case"nodesAdded":{csArray.prototype.forEach.call(s.nodes,i=>{n({type:X.MUTATION_INSERT,date:e,args:[s.target,s.nextSibling,i]})});break}case"nodesMoved":{for(let i of s.nodesIds)n({type:X.MUTATION_MOVE,date:e,args:[i,s.nextSibling,s.target]});break}case"nodesRemoved":{csArray.prototype.forEach.call(s.nodesIds,i=>{n({type:X.MUTATION_REMOVE,date:e,args:[i]})});break}case"attributeChanged":{let{target:i,namespace:r,attribute:o,newValue:c}=s;n({type:X.MUTATION_ATTRIBUTE,date:e,args:[i,r,o,c]});break}case"characterDataChanged":{let{target:i,newValue:r}=s;n({type:X.MUTATION_CHARACTER_DATA,date:e,args:[i,r]});break}case"cssRuleInserted":{let{target:i,rule:r,index:o}=s,c=dt(o)?[i,r,o]:[i,r];n({type:X.STYLESHEET_RULE_INSERT,date:e,args:c});break}case"cssRuleDeleted":{let{target:i,index:r}=s;n({type:X.STYLESHEET_RULE_DELETE,date:e,args:[i,r]});break}case"cssRuleUpdated":{let{target:i,rule:r,index:o}=s;n({type:X.STYLESHEET_RULE_UPDATE,date:e,args:[i,r,o]});break}case"cssStyleSheetDisabled":{let{target:i,disabled:r}=s;n({type:X.STYLESHEET_DISABLED,date:e,args:[i,r]});break}case"shadowRootAttached":{let{target:i,shadowRoot:r}=s;n({type:X.ATTACH_SHADOW,date:e,args:[i,r]});break}case"adoptedStyleSheetRegistered":{let{sheetId:i,cssRules:r,disabled:o}=s;n({type:X.REGISTER_ADOPTED_STYLE_SHEET,date:e,args:[i,{cssRules:r,disabled:o}]});break}case"adoptedStyleSheetsSet":{let{target:i,sheetsIds:r}=s;n({type:X.SET_ADOPTED_STYLE_SHEETS,date:e,args:[i,r]});break}case"adoptedStyleSheetRuleInserted":{let{sheetId:i,rule:r,index:o}=s,c=dt(o)?[i,r,o]:[i,r];n({type:X.ADOPTED_STYLESHEET_RULE_INSERT,date:e,args:c});break}case"adoptedStyleSheetRuleDeleted":{let{sheetId:i,index:r}=s;n({type:X.ADOPTED_STYLESHEET_RULE_DELETE,date:e,args:[i,r]});break}case"adoptedStyleSheetRuleUpdated":{let{sheetId:i,rule:r,index:o}=s,c=[i,r,o];n({type:X.ADOPTED_STYLESHEET_RULE_UPDATE,date:e,args:c});break}case"adoptedStyleSheetDisabled":{let{sheetId:i,disabled:r}=s,o=[i,r];n({type:X.ADOPTED_STYLESHEET_DISABLED,date:e,args:o});break}default:J.error("translateDOMEvent: DOMEvent not supported");break}}function dS(s){let n=pS(s.data);return{type:X.GESTURE_RECOGNITION,args:[s.targetId,n],date:s.timestamp}}function pS(s){let n={type:fS(s.type)};for(let t in s){let e=s[t];e!==void 0&&t!=="type"&&(n[t]=e)}return n}function fS(s){switch(s){case Wt.DRAG:case Wt.FLICK:return wn.SWIPE;case Wt.LONG_PRESS:return wn.LONG_PRESS;case Wt.TAP:return wn.TAP;case Wt.PINCH_IN:return wn.PINCH_IN;case Wt.PINCH_OUT:return wn.PINCH_OUT}}function gS(s,n){let t=[],e=!1;return{push(i){if(csArray.prototype.push.call(t,i),t.length===n.batchSize){this.flush();return}n.autoFlushDelay&&n.autoFlushDelay>0&&!e&&(e=!0,csSetTimeout(()=>{e=!1,t.length>0&&this.flush()},n.autoFlushDelay))},flush(){if(!t.length)return;let i=t;t=[],s(i)}}}var mS=20;function yS(s){return gS(n=>{let t={visibleInViewPort:n},e={type:X.TEXT_VISIBILITY,date:F.now(),args:[t]};s(e)},{batchSize:mS,autoFlushDelay:1e3})}var oa=(()=>{let s;return function(n){n.REQUEST_START="requestStart",n.DOM_INTERACTIVE="domInteractive",n.TIME_ORIGIN="timeOrigin"}(s||(s={})),s})();function ES(s){return{type:X.PERFORMANCE_TIMINGS,args:[{performanceTiming:oa.REQUEST_START,timestamp:s.timings.requestStart},{performanceTiming:oa.DOM_INTERACTIVE,timestamp:s.timings.domInteractive},{performanceTiming:oa.TIME_ORIGIN,timestamp:s.timings.timeOrigin}],date:s.timestamp}}function SS(s){switch(s.inputType){case"text":return{type:X.INPUT_TEXT,args:[s.target,s.value],date:s.timestamp};case"select":return{type:X.INPUT_SELECT,args:[s.target,s.selectedIndex],date:s.timestamp};case"checkable":return{type:X.INPUT_CHECKABLE,args:[s.target,s.checked],date:s.timestamp}}}var vS=500,aa=0;function _S(){return{processEvent(s,n){if(s.originalEvent.type===X.PERFORMANCE_RESOURCE_TIMING)return aa>=vS?null:(aa+=1,n({...s.originalEvent,date:s.timestamp}));n(s.originalEvent)},reset(){aa=0}}}function wS(s){switch(s.videoEventType){case"play":return{type:X.VIDEO_PLAY,args:[s.nodeId],date:s.timestamp};case"pause":return{type:X.VIDEO_PAUSE,args:[s.nodeId],date:s.timestamp};case"seeked":{let n=s;return{type:X.VIDEO_SEEK,args:[n.nodeId,n.newTimePositionInSec],date:s.timestamp}}default:return null}}var bS=(()=>{class s{get pendingEvents(){return this.xa.pendingEvents}constructor(t,e,i,r,o){this.xa=t,this.S=e,this.xe=i,this.cs=r,this.ls=o,this.oe=()=>{},this.La=()=>{},this.ug=yS(c=>this.oe(c))}start(){var t,e;this.dg=_S(),this.xa.subscribe(i=>{var r,o,c,u,p,v;let f=i,{timestamp:w}=f;switch(f.type){case"Legacy":{let _=f.eventType==="user"?(r=this.La)!==null&&r!==void 0?r:()=>{}:this.oe;this.dg.processEvent(f,_)}break;case"CustomElementRegistration":{this.oe({type:X.CUSTOM_ELEMENT_REGISTRATION,date:w,args:[f.tagName]});break}case"DomEvent":{uS(f,this.oe,this.S);break}case"InputEvent":{let _=SS(f);(o=this.La)===null||o===void 0||o.call(this,_);break}case"encryptedCharacterDataChanged":{let{target:_,rawData:R,encryptedData:H,encryptionMetadata:U}=f;this.oe({type:X.MUTATION_ENCRYPTED_CHARACTER_DATA,date:w,args:[_,R,H,U]});break}case"StaticResource":{let{url:_}=f;this.oe({type:X.STATIC_RESOURCE_URL,date:w,args:[_]});break}case"ResizeMaskedElement":{let{target:_,width:R,height:H}=f;this.oe({type:X.MUTATION_ATTRIBUTE,date:w,args:[_,"","style",`width:${R}px !important;height:${H}px !important;`]});break}case"Gesture":{let _=dS(i);(c=this.La)===null||c===void 0||c.call(this,_);break}case"TextVisibility":{this.ug.push(f.text);break}case"StaticResourceManagerEvent":{(u=this.xe)===null||u===void 0||u.processEvent(f);break}case"screenResize":{let{width:_,height:R}=f,H={type:X.SCREEN_RESIZE,date:w,args:[_,R]};this.oe(H);break}case"viewportResize":{let{width:_,height:R}=f,H={type:X.RESIZE,date:w,args:[_,R]};this.oe(H);break}case"PerformanceTiming":{this.oe(ES(f));break}case"CustomError":{let _=(p=this.ls)===null||p===void 0?void 0:p.translate(f);_&&this.oe(_);break}case"JSError":{let _=(v=this.cs)===null||v===void 0?void 0:v.translate(f);_&&this.oe(_);break}case"VideoEvent":{let _=wS(f);_&&this.oe(_);break}case"warning":{J.warn(f.message);break}default:J.error(`WebRecorderEventTranslator: Event not supported (${f.type})`);break}}),this.S.emitInitialDomStart(),(t=this.cs)===null||t===void 0||t.start(),(e=this.ls)===null||e===void 0||e.start(),this.xa.start()}stop(){var t,e,i;this.reset(),this.flush(),this.xa.stop(),(t=this.xe)===null||t===void 0||t.flushEvents(),(e=this.cs)===null||e===void 0||e.stop(),(i=this.ls)===null||i===void 0||i.stop()}flush(){this.ug.flush()}onEvent(t,e){var i;this.oe=t,this.La=e,(i=this.xe)===null||i===void 0||i.onEvent(r=>this.oe(r))}reset(){this.dg.reset()}}return s})(),TS=(()=>{class s{constructor(){this.wr=20,this.Mi=0,this.U=!1}translate(t){if(this.Mi>=this.wr)return null;this.Mi+=1;let{message:e,attributes:i,timestamp:r}=t;return{type:X.CUSTOM_ERROR,date:r,args:[{errorType:"customError",message:e,attributes:i}]}}start(){this.U||(this.Mi=0,this.U=!0)}stop(){this.U=!1}}return s})(),AS=(()=>{class s{constructor(t){this.Ua=t,this.wr=20,this.xi=0,this.U=!1}translate(t){if(this.xi>=this.wr)return this.Ua.stop(),null;this.xi+=1;let{filename:e,message:i,lineno:r,colno:o,timestamp:c}=t;return{type:X.JAVASCRIPT_ERROR,date:c,args:[{errorType:"jsError",message:i,filename:e,lineno:r,colno:o}]}}start(){this.U||(this.xi=0,this.U=!0)}stop(){this.U=!1}}return s})(),RS=(()=>{class s extends rs{constructor(t){super(),this.je=t}subscribe(t){return super.subscribe(t)}onStart(){ft(this.je,t=>{t.onEvent(e=>{var i;return this.Mn(e,(i=t.eventType)!==null&&i!==void 0?i:"browser")})}),ft(this.je,t=>{var e;(e=t.start)===null||e===void 0||e.call(t)})}onStop(){ft(this.je,t=>{var e;return(e=t.stop)===null||e===void 0?void 0:e.call(t)})}Mn(t,e){this.produceEvent({timestamp:F.now(),type:"Legacy",originalEvent:t,eventType:e})}}return s})(),oe=(()=>{let s;return function(n){n[n.Active=0]="Active",n[n.Paused=1]="Paused",n[n.Stopped=2]="Stopped"}(s||(s={})),s})(),CS=(()=>{class s{constructor(t,e,i=[]){this.Mn=t,this.Nh=e,this.vT=i,this.Va=null,this.Pt=oe.Active,this.ot=[]}reset(){this.Va=null,this.ot=[],this.Pt=oe.Active}disconnect(){this.Pt=oe.Stopped}_T(){this.Nh(oe.Paused),this.Pt=oe.Paused,csSetTimeout(()=>{this.Pt===oe.Paused&&this.Mh()},s.STOP_TIMEOUT)}wT(){this.Nh(oe.Active),this.Pt=oe.Active,ft(this.ot,this.Mn),this.ot=[]}Mh(){this.ot=[],this.Nh(oe.Stopped),this.Pt=oe.Stopped}pushEvent(t,e){if(e.isUserEvent&&(this.Va=t.date,this.Pt!==oe.Active)){this.wT(),this.Mn(t);return}if(this.bT(t)){this.Mn(t);return}switch(this.Pt){case oe.Active:if(this.TT(t,e)){this._T(),csArray.prototype.push.call(this.ot,t);return}this.Mn(t);break;case oe.Paused:csArray.prototype.push.call(this.ot,t);break;case oe.Stopped:break}}TT(t,e){return!e.isUserEvent&&this.Va!==null&&t.date-this.Va>s.INACTIVITY_TIMEOUT}bT(t){return csArray.prototype.indexOf.call(this.vT,t.type)>-1}}return s.INACTIVITY_TIMEOUT=5e3,s.STOP_TIMEOUT=5e3,s})(),IS=2e3,PS=(()=>{class s extends re{constructor(t,e,i,r,o,c,u,p,v,f,w,_,R,H=[],U,I,P,$,q){super(),this.f=t,this.j=e,this.AT=i,this.Y=r,this.R=o,this.ge=c,this.pt=u,this.fe=p,this.lt=v,this.X=f,this.Dt=w,this.Rt=_,this.He=R,this.je=H,this.pg=U,this.Wt=I,this.kn=P,this.cs=$,this.ls=q,this.Js=0,this.Gs=new su,this.Dn={allowFromQuotaService:!0,allowFromSerialization:!0},this.fg=Wr(()=>{this.j.eventsCount()>0&&this.gg()},IS),this.Os=M=>this.processBrowserEvent(M),this.qr=M=>this.Nt(M),this.ja=0,this.Wr=0,this.Ge=new ou,this.kh=!1,this.mg=50*1024,this.Fi=!1,this.Yr=!1,this.ji=[],this.Ha=new CS(M=>this.J(M),M=>{switch(M){case oe.Active:this.RT();break;case oe.Stopped:this.CT();break}},[X.RESOURCE_HASHES,X.TEXT_VISIBILITY,X.API_ERROR,X.JAVASCRIPT_ERROR]),this.yg=M=>{this.Dt.removeBatchInProgress(`${M.params.sn}.${M.params.pn}.${M.params.ri}`)}}init(){this.Dh(),this.X.onLoad(this.yg),this.X.onError(this.yg)}RT(){csArray.prototype.forEach.call(this.pg,t=>t.start())}CT(){csArray.prototype.forEach.call(this.pg,t=>t.stopForInactivity())}Dh(){var t,e,i;this.He.onEvent(this.Os,this.qr),(t=this.lt)===null||t===void 0||t.onInputNodeToEncrypt(this.qr),(e=this.lt)===null||e===void 0||e.onApiErrorToEncrypt(r=>{this.Eg(r)}),(i=this.lt)===null||i===void 0||i.onUserIdentifierToEncrypt(this.Os),this.Ge.onEvent(r=>{if(csSetTimeout(()=>this.$i("page-state",r)),r!==Le.Visible){if(r===Le.Blur)return this.Sg();if(!this.kh)return this.kh=!0,csSetTimeout(()=>{this.kh=!1}),r===Le.Hidden?this.Sg():this.IT()}})}isRecording(){return this.R.hasValidSession()&&this.isStarted}Sg(){if(!this.canSendEvents())return;this.He.flush(),this.Dt.saveBatchesInProgress(),ft(this.je,c=>{var u,p;return ft((p=(u=c.getPendingEvents)===null||u===void 0?void 0:u.call(c))!==null&&p!==void 0?p:[],v=>this.j.addEvent(v))});let t=this.j.getEvents();if(t.length===0)return;this.$i("pending-events",this.He.pendingEvents);let e=this.X.getQueryParams();e.rst=this.getRecordingStartTimestamp(),this.Wr=t[t.length-1].date,e.let=this.getRecordingLastEventTimestamp();let i=this.j.getCurrentRequestIndex(),r=i.getCurrentIndex();e.ri=r.toString(),this.Rt.removeQueryParams(),this.Rt.setQueryParams(e);let o=this.j.stringifyEvents();if(o.length>this.mg){let c=this.vg();if(c.length>0){let u=mi(c);this.Rt.send(u)||this.Dt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:u}),i.increment()}if(this.j.eventsCount()>0){e.ri=i.getCurrentIndex().toString();let u=this.j.stringifyEvents();this.Dt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:u}),i.increment()}}else this.Rt.send(o)||this.Dt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:o}),i.increment();this.Rt.removeQueryParams(),this.j.clearEvents()}IT(){if(!this.canSendEvents())return;this.He.flush();let t=this.X.getQueryParams();this.Dt.saveBatchesInProgress(),t.rst=this.getRecordingStartTimestamp(),delete t.ri,t.hlm="true",this.Rt.removeQueryParams(),ft(this.je,r=>{var o,c;return ft((c=(o=r.getPendingEvents)===null||o===void 0?void 0:o.call(r))!==null&&c!==void 0?c:[],u=>this.j.addEvent(u))});let e=this.j.getEvents();if(e.length===0){delete t.let,delete t.rst,this.Rt.setQueryParams(t),this.Rt.send(),this.Rt.removeQueryParams();return}this.$i("pending-events",this.He.pendingEvents),this.Wr=e[e.length-1].date,t.let=this.getRecordingLastEventTimestamp(),this.Rt.setQueryParams(t);let i=this.j.stringifyEvents();if(i.length>this.mg){let r=this.vg();if(r.length>0){let o=mi(r);this.Rt.send(o)||this.Dt.save({key:`${t.sn}.${t.pn}.last`,metadata:{...t,datatype:"json"},events:o})}else delete t.let,delete t.rst,delete t.ri,this.Rt.removeQueryParams(),this.Rt.setQueryParams(t),this.Rt.send(),this.Rt.removeQueryParams();if(this.j.eventsCount()>0){t.rst=this.getRecordingStartTimestamp(),t.let=this.getRecordingLastEventTimestamp();let o=this.j.getCurrentRequestIndex(),c=o.getCurrentIndex();t.ri=c.toString();let u=this.j.stringifyEvents();this.Dt.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:u}),o.increment()}}else this.Rt.send(i)||(this.Dt.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:i}),this.j.getCurrentRequestIndex().increment());this.Rt.removeQueryParams(),this.j.clearEvents()}blockSendingEventsFromQuotaService(){this.Dn.allowFromQuotaService=!1}allowSendingEventsFromQuotaService(){this.Dn.allowFromQuotaService=!0}blockSendingEventsFromSerialization(){this.Dn.allowFromSerialization=!1}allowSendingEventsFromSerialization(){this.Dn.allowFromSerialization=!0}canSendEvents(){return this.Dn.allowFromQuotaService&&this.Dn.allowFromSerialization}onIframeJavascriptError(t){var e;if(this.ge&&this.cs){(e=this.ge)===null||e===void 0||e.anonymize(t);let i=this.cs.translate({message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename,timestamp:F.now(),type:"JSError"});i&&this.Os(i)}}onIframeCustomError(t){if(this.ls){let e=this.ls.translate({...t,timestamp:F.now(),type:"CustomError"});e&&this.Os(e)}}onIframeDetailedApiError(t){this._g(t)}onIframeRecordingUserEvent(t){for(let e of t)this.Nt(e)}onIframeRecordingBrowserEvent(t){if(this.isStarted)for(let e of t)this.processBrowserEvent(e)}processBrowserEvent(t){this.Y.isCurrentPageviewValid()&&this.Ha.pushEvent(t,{isUserEvent:!1})}Nt(t){this.Y.refreshSession(),this.Y.isSessionValid()&&this.Ha.pushEvent(t,{isUserEvent:!0})}J(t){Ut.general.nbEvents.increase(),this.j.addEvent(t),this.j.isThresholdReached()?this.pushEvents():this.j.isFull()&&this.fg(),this.wg(t)}wg(t){this.f.emitDebugEvents&&this.Gs.emit("recordingEvent",{...t,typeName:X[t.type]})}onStart(){var t;this.$i("tag-version","15.140.1"),this.$i("page-state",document.visibilityState),this.Ha.reset(),this.Ge.start(),this.initStates(),this.He.start(),this.pt&&this.fe&&this.pt.subscribe(s.jt,e=>this._g(e),{detailedEvent:!0}),this.f.emitDebugEvents&&this.Gs.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.ji,e=>this.bg(e)),this.ji=[],this.Fi&&((t=this.Wt)===null||t===void 0||t.enableOnlineAssets(),this.Fi=!1)}onStop(){var t;this.Ge.stop(),this.pt&&this.pt.unsubscribe(s.jt),this.He.stop(),this.Ha.disconnect(),(t=this.Wt)===null||t===void 0||t.disableOnlineAssets()}clearStates(){this.He.flush(),this.fg.cancel(),this.pushEvents(),this.X.removeQueryParams()}initStates(){this.ja=F.now(),this.j.getCurrentRequestIndex().reset(),this.Js=0,this.X.setQueryParams(this.AT.getRequestParameters())}pushEvents(){ft(this.je,t=>{var e;return(e=t.flushEvents)===null||e===void 0?void 0:e.call(t)}),this.j.eventsCount()>0&&(this.isStarted?this.gg():this.j.clearEvents())}gg(){if(!this.canSendEvents())return;let t=this.j.getOrderedBatchSlots();for(let e of t){let i=e.batch.getEvents();if(!i.length)continue;this.Wr=i[i.length-1].date;let r=e.metadata.requestIndex,o=r.getCurrentIndex(),c=this.ja>this.Wr?i[0].date:this.ja;this.X.setQueryParams({pn:csString(e.metadata.pageNumber),ri:o.toString(),rst:c.toString(),let:this.getRecordingLastEventTimestamp()});let u=this.X.getQueryParams();this.Dt.addBatchInProgress(`${u.sn}.${u.pn}.${o}`,{...this.X.getQueryParams()},i),this.X.send(i),r.increment(),e.batch.clearEvents(),this.Tg&&this.Tg()}this.j.clearEmptyBatchSlots()}addInitialDom(t){this.j.addEventByTimestamp(t),this.wg(t)}_g(t){if(this.kn&&(t.plainCustomRequestHeaders||t.plainCustomResponseHeaders||t.requestBodyAttributes||t.responseBodyAttributes||t.customRequestHeaders||t.customResponseHeaders||t.queryParameters||t.requestBody||t.responseBody)){if(this.kn.truncate(t),this.lt){this.lt.registerApiErrorToEncrypt(t);return}t.customRequestHeaders="",t.customResponseHeaders="",t.requestBodyAttributes="",t.responseBodyAttributes="",t.queryParameters="",t.requestBody="",t.responseBody=""}this.Eg(t)}Eg(t){if(this.Js<s.PT){let e={type:X.API_ERROR,date:F.now(),args:[this.fe.anonymize(t)]};this.Os(e),this.Js=this.Js+1,ot.counters.networkRequests.count("collected")}}OT(t){t===Xs.ETR_SESSION?this.X.setQueryParams({[s.NT]:s.Ag}):t===Xs.ETR_PAGE&&this.X.setQueryParams({[s.MT]:s.Ag})}clearEvents(){this.j.clearEvents()}onCustomJavaScriptErrorEvent(t){var e;let i=(e=this.cs)===null||e===void 0?void 0:e.translate({type:"JSError",timestamp:F.now(),message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename});i&&this.Os(i)}onCustomErrorEvent(t){var e;let i=(e=this.ls)===null||e===void 0?void 0:e.translate({type:"CustomError",timestamp:F.now(),message:t.message,attributes:t.attributes});i&&this.Os(i)}onPageEvent(t){this.Rg(t)}onUserIdentifierEvent(t){var e;let i={userIdentifier:t,date:F.now(),keyId:this.f.encryptionPublicKeyId};(e=this.lt)===null||e===void 0||e.registerUserIdentifierToEncrypt(i)}onEventTriggerRecording(t,e){this.isStarted?this.bg({eventName:t,eventType:e}):csArray.prototype.push.call(this.ji,{eventName:t,eventType:e})}bg(t){this.OT(t.eventType),this.Rg(t.eventName),this.pushEvents()}Rg(t){let e={type:X.PAGE_EVENT,date:F.now(),args:[{eventName:csString.prototype.slice.call(t,0,s.kT)}]};this.j.addEvent(e)}triggerUnanonymizationConsentGranted(){let t={date:F.now(),type:X.UNANONYMIZED_CONSENT_GRANTED};this.j.addEvent(t)}triggerUnanonymizationConsentWithdrawn(){let t={date:F.now(),type:X.UNANONYMIZED_CONSENT_WITHDRAWN};this.j.addEvent(t)}triggerRecordingForSessionGranted(){this.$i("consent-granted")}triggerRecordingForSessionWithdrawn(){this.$i("consent-withdrawn")}activateOnlineAssetsOnNextPageview(){this.Yr=!0}getStaticResourceManagerStatus(){return this.Wt?{isStarted:this.f.useStaticResourceManager&&$a.isSupported(),onlineAssets:{activated:this.Wt.isOnlineAssetsActivated(),enabledOnNextPageview:this.Yr}}:null}resetOnlineAssetsOnPageview(){this.Fi=!1,this.Yr=!1}updateOnlineAssetsOnPageview(){this.Wt&&this.Yr&&(this.Fi=!0,this.Yr=!1)}onRecordingRequestSent(t){this.Tg=t}getRecordingStartTimestamp(){return this.ja.toString()}getRecordingLastEventTimestamp(){return this.Wr.toString()}onOptOut(){ft(this.je,t=>{var e;return(e=t.releaseResources)===null||e===void 0?void 0:e.call(t)})}$i(t,e){if(!this.f.emitRecordInfoEvents)return;let i={date:F.now(),type:X.RECORDING_INFO_EVENT,args:e==null?[t]:[t,e]};this.j.addEvent(i)}vg(){return this.j.extractEvents(X.API_ERROR,X.JAVASCRIPT_ERROR,X.CUSTOM_ERROR,X.TEXT_VISIBILITY,X.POINTER_DOWN)}}return s.jt="RecordingService",s.kT=255,s.PT=20,s.MT="etrp",s.NT="etrs",s.Ag="1",tt([te("addInitialDom")],s.prototype,"addInitialDom",null),s})(),OS=(()=>{class s extends re{constructor(t,e,i){super(),this.Qt=t,this.Rt=e,this.X=i,this.xh=!1,this.Xr={},this.DT=r=>{if(r.length!==0)for(let o of r){let{metadata:c,events:u}=o;this.xT(c.rt)&&this.X.send(u,c)}},window.addEventListener("focus",()=>{this.recover()})}onStart(){this.Xr={}}onStop(){}recover(){this.Qt.recover(this.DT)}addBatchInProgress(t,e,i){this.Xr[t]={metadata:{...e},events:i}}removeBatchInProgress(t){delete this.Xr[t]}blockSendingLastMessage(){this.xh=!1}allowSendingLastMessage(){this.xh=!0}sendLastMessageBeacon(){if(this.xh){let{ri:t,rst:e,let:i,...r}=this.X.getQueryParams();r.hlm="true",this.Rt.setQueryParams(r),this.Rt.send()}}xT(t){return!!t&&csString.prototype.indexOf.call(t,Q.RECORDING_TEMPORARILY)===-1}saveBatchesInProgress(){csArray.prototype.forEach.call(Object.keys(this.Xr),t=>{let{metadata:e,events:i}=this.Xr[t];this.Qt.save({key:`${e.sn}.${e.pn}.${e.ri}`,metadata:{...e,datatype:"json"},events:csJSON.stringify(i)})})}save(t){this.Qt.save(t)}}return tt([B("RecordingRecovery")],s.prototype,"recover",null),s})(),NS=(()=>{let s;return function(n){n[n.NOT_EXIST=2]="NOT_EXIST"}(s||(s={})),s})(),MS=8*1024*1024,kS=(()=>{class s extends re{constructor(t,e,i){super(),this.xe=t,this.Cg=e,this.Et=i,this.Lh={},this.Ig=new Set,this.rs=!1}initState(){lh()&&(this.Ue=this.Et.getRequestParameters(),this.LT=`${this.Cg}/exist?${kn.toQuery(this.Ue)}`,this.UT=`${this.Cg}/putTag?${kn.toQuery(this.Ue)}`,this.Pg=Gi(async()=>{if(this.rs){this.Pg();return}this.rs=!0;try{await this.VT()}finally{this.rs=!1}},300),this.xe.onSendStaticResource(t=>{this.Og(t)}))}onStart(){}onStop(){}onIframeStaticResource(t){this.Og(t)}Og(t){this.Ng(t.resource.hash,t.resource.data),t.nestedResources&&t.nestedResources.length>0&&csArray.prototype.forEach.call(t.nestedResources,e=>{this.Ng(e.hash,e.data)})}Ng(t,e){this.Ig.has(t)||(this.Ig.add(t),this.Lh[t]=e,this.Pg())}async VT(){let t=this.Lh;this.Lh={};let e=await this.jT(t);if(!e.length)return;let i=this.HT(e);await Promise.all(csArray.prototype.map.call(i,r=>window.fetch(this.UT,{method:"POST",body:r})))}async BT(t){try{let e=Object.keys(t);if(!e.length)return[];let i={projectId:this.Ue.pid,filter:NS.NOT_EXIST,hashes:e,touch:!0};return await(await window.fetch(this.LT,{method:"POST",body:csJSON.stringify(i)})).json()}catch{return[]}}async jT(t){let e=[],i=await this.BT(t);return csArray.prototype.forEach.call(i,r=>{let o=t[r];o?csArray.prototype.push.call(e,{hash:r,data:o}):J.warn("SRM: received unknown hash: "+r)}),e}HT(t){let e=0,i=[new FormData];for(let r of t){let{data:o,hash:c}=r,u=i.length-1;if(e=e+o.size,e<MS)i[u].append("",o,c);else{let p=new FormData;p.append("",o,c),e=o.size,csArray.prototype.push.call(i,p)}}return i}}return s})(),Ou=2*1e3*1024,DS=200,jl=(()=>{class s{constructor(t=Ou){this.Ut=[],this.Uh=new wc(t)}addEvent(t){this.Uh.addString(mi(t)),csArray.prototype.push.call(this.Ut,t)}addEventByTimestamp(t){let e=0;for(;e<this.Ut.length&&!(this.Ut[e].date>=t.date);e+=1);csArray.prototype.splice.call(this.Ut,e,0,t)}eventsCount(){return this.Ut.length}clearEvents(){this.Uh.reset(),this.Ut=[]}isFull(){return this.eventsCount()>=DS}isThresholdReached(){return this.Uh.isThresholdReached()}getEvents(){return this.Ut}extractEvents(...t){let e=[],i=[];return csArray.prototype.forEach.call(this.Ut,r=>{csArray.prototype.indexOf.call(t,r.type)!==-1?csArray.prototype.push.call(e,r):csArray.prototype.push.call(i,r)}),this.Ut=i,e}stringifyEvents(){return mi(this.Ut)}hI(t){t.type===X.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)}}return tt([te("RecordingBatch.addEvent")],s.prototype,"addEvent",null),s})();function xS(s){if(typeof Object.values=="function")return Object.values(s);let n=[];for(let t in s)s.hasOwnProperty(t)&&csArray.prototype.push.call(n,s[t]);return n}var Hl=(()=>{class s{constructor(){this.Ba=1}getCurrentIndex(){return this.Ba}increment(){this.Ba+=1}reset(){this.Ba=1}getRequestParameters(){return{ri:`${this.Ba}`}}}return s})(),LS=3,US=8,VS=(()=>{class s{constructor(t,e=Ou,i=LS){this.FT=t,this.Mg=e,this.Vh=i,this.Fa={}}addEvent(t){this.kg().addEvent(t)}addEventByTimestamp(t){this.kg().addEventByTimestamp(t)}eventsCount(){return csArray.prototype.reduce.call(this.zi(),(t,e)=>t+e.batch.eventsCount(),0)}isFull(){return csArray.prototype.some.call(this.zi(),t=>t.batch.isFull())}isThresholdReached(){let t=this.zi();return t.length>=this.Vh||csArray.prototype.some.call(t,e=>e.batch.isThresholdReached())}getEvents(){return csArray.prototype.reduce.call(this.getOrderedBatchSlots(),(t,e)=>csArray.prototype.concat.call(t,e.batch.getEvents()),[])}extractEvents(...t){return csArray.prototype.reduce.call(this.getOrderedBatchSlots(),(e,i)=>csArray.prototype.concat.call(e,i.batch.extractEvents(...t)),[])}stringifyEvents(){return mi(this.getEvents())}clearEvents(){csArray.prototype.forEach.call(this.zi(),t=>t.batch.clearEvents())}clearEmptyBatchSlots(){let t=this.getOrderedBatchSlots();for(let e=0;e<t.length-1;e++)t[e].batch.eventsCount()===0&&delete this.Fa[t[e].metadata.pageNumber]}zi(){return xS(this.Fa)}getOrderedBatchSlots(){return csArray.prototype.sort.call(this.zi(),jS)}Dg(){let t=this.FT();if(t<=0)return{batch:new jl(this.Mg),metadata:{pageNumber:0,requestIndex:new Hl}};let e=this.Fa[t];if(e)return e;let i={batch:new jl(this.Mg),metadata:{pageNumber:t,requestIndex:new Hl}};return this.Fa[t]=i,this.zi().length>Math.max(this.Vh,US)&&J.warn(`RecordingBatchGroup: max number of slots overflowed(${this.zi().length}/${this.Vh})`),i}kg(){return this.Dg().batch}getCurrentRequestIndex(){return this.Dg().metadata.requestIndex}}return s})();function jS(s,n){return s.metadata.pageNumber-n.metadata.pageNumber}function ge(s,n=0){let t=Math.pow(10,n);return Math.round(s*t)/t}var HS=(()=>{class s{constructor(t,e){this.Ot=t,this.N=e,this.Bs=[{boundElement:window,type:"hashchange",listener:()=>this.hashChangeListener()},{boundElement:document,type:"visibilitychange",listener:()=>this.visibilityChangeListener()}]}onEvent(t){this.L=t}start(){this.wi(),this.triggerInitialEvents()}stop(){this.bi()}wi(){csArray.prototype.forEach.call(this.Bs,t=>Mt(t))}bi(){csArray.prototype.forEach.call(this.Bs,t=>kt(t))}triggerInitialEvents(){this.hashChangeListener()}hashChangeListener(){let t={type:X.HASH_CHANGE,args:[this.N.anonymizePII(this.Ot.href)],date:F.now()};this.L(t)}visibilityChangeListener(){let t={type:X.VISIBILITY_CHANGE,args:[document.visibilityState],date:F.now()};this.L(t)}}return tt([B("hashChange")],s.prototype,"hashChangeListener",null),tt([B("visibilityChange")],s.prototype,"visibilityChangeListener",null),s})();function BS(s){if(!L(s))return null;let t=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(s);return t?Number(t[2]):null}var FS=!!window.chrome,$S=33,zS=(()=>{class s{constructor(){this.eventType="user",this.Hh=[],this.KT=[{type:"pointerup",listener:e=>this.pointerUpListener(e),boundElement:document},{type:"pointermove",listener:e=>this.pointerMoveListener(e),boundElement:document},{type:"pointerdown",listener:e=>this.pointerDownListener(e),boundElement:document}],this.JT=[{type:"touchstart",listener:e=>this.touchStartListener(e),boundElement:document},{type:"touchmove",listener:e=>this.touchMoveListener(e),boundElement:document},{type:"touchend",listener:e=>this.touchEndCancelListener(e),boundElement:document},{type:"touchcancel",listener:e=>this.touchEndCancelListener(e),boundElement:document}],this.za=[{type:"click",listener:e=>this.clickListener(e),boundElement:document},{type:"keyup",listener:e=>this.keyUpListener(e),boundElement:document},{type:"keydown",listener:e=>this.keyDownListener(e),boundElement:document},{type:"copy",listener:e=>this.copyListener(e),boundElement:document},{type:"cut",listener:e=>this.cutListener(e),boundElement:document},{type:"paste",listener:e=>this.pasteListener(e),boundElement:document},{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e)),boundElement:document},{type:"mouseover",listener:e=>this.mouseOverListener(e),boundElement:document}],this.Bh=[{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e))}];let t=BS(window.navigator.userAgent);(t===null||t&&t>=16)&&csArray.prototype.push.call(this.Bh,{type:"mouseover",listener:e=>this.mouseOverListener(e)}),this.de=new tn((e,i)=>{switch(i){case"initial":case"added":this.wi(e);break;case"removed":this.bi(e);break}})}init(){this.QT(),this.ZT(),this.rl()}onEvent(t){csArray.prototype.push.call(this.Hh,t)}ae(t,e=!1){csArray.prototype.forEach.call(this.Hh,i=>i(t,e))}start(){this.mh(),this.wi(document),this.de.observe()}stop(){this.bi(document),this.de.disconnect(),this.Hh=[]}ZT(){this.tA()&&csArray.prototype.push.call(this.za,...this.KT)}QT(){this.eA()&&csArray.prototype.push.call(this.za,...this.JT)}wi(t){Nr(t)?csArray.prototype.forEach.call(this.za,e=>Mt(e)):csArray.prototype.forEach.call(this.Bh,e=>{let i={type:e.type,listener:e.listener,boundElement:t};Mt(i)})}bi(t){Nr(t)?csArray.prototype.forEach.call(this.za,e=>kt(e)):csArray.prototype.forEach.call(this.Bh,e=>{let i={type:e.type,listener:e.listener,boundElement:t};kt(i)})}tA(){return"PointerEvent"in window&&typeof window.PointerEvent=="function"}eA(){return"TouchEvent"in window&&typeof window.TouchEvent=="function"}mh(){this.sA()}sA(){let t=Fi.getScrollContainer()||document,e=bt(t),i=this.xg(t);if(i.top!==0||i.left!==0){let r={type:X.SCROLL,args:[e,i.left,i.top],date:F.now()};this.ae(r,!0)}}xg(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}}scrollListener(t){if(W.isMaskedElement(t)||W.isMaskedElementChild(t))return;let e=bt(t),i=this.xg(t),r={type:X.SCROLL,args:[e,i.left,i.top],date:F.now()};this.ae(r)}mouseOverListener(t){if(W.isMaskedElementChild(t.target))return;let e=bt(t.target),i={type:X.MOUSE_OVER,args:[e],date:F.now()};this.ae(i)}clickListener(t){let e=Zt(t);if(W.isMaskedElementChild(e))return;let i=bt(e),r={type:X.CLICK,args:[i],date:F.now()};this.ae(r)}keyUpListener(t){let e=Zt(t);if(W.isMaskedElementChild(e))return;let i=bt(e),r=this.V[t.key];if(r===void 0)return;let o={type:X.KEY_UP,args:[i,r],date:F.now()};this.ae(o)}keyDownListener(t){let e=Zt(t);if(W.isMaskedElementChild(e))return;let i=bt(e),r=this.V[t.key];if(r===void 0)return;let o={type:X.KEY_DOWN,args:[i,r],date:F.now()};this.ae(o)}copyListener(t){let e=Zt(t);if(W.isMaskedElementChild(e))return;let i=bt(e),r={type:X.CLIPBOARD_COMMAND,args:[i,$i.COPY],date:F.now()};this.ae(r)}cutListener(t){let e=Zt(t);if(W.isMaskedElementChild(e))return;let i=bt(e),r={type:X.CLIPBOARD_COMMAND,args:[i,$i.CUT],date:F.now()};this.ae(r)}pasteListener(t){let e=Zt(t);if(W.isMaskedElementChild(e))return;let i=bt(e),r={type:X.CLIPBOARD_COMMAND,args:[i,$i.PASTE],date:F.now()};this.ae(r)}pointerUpListener(t){let e=Zt(t);if(W.isMaskedElementChild(e))return;let i=bt(e),r={type:X.POINTER_UP,args:[t.pointerId,t.pointerType,ge(t.clientX,1),ge(t.clientY,1),i,t.button],date:F.now()};this.ae(r)}pointerMoveListener(t){let e={type:X.POINTER_MOVE,args:[t.pointerId,t.pointerType,ge(t.clientX,1),ge(t.clientY,1)],date:F.now()};this.ae(e)}pointerDownListener(t){let e=Zt(t);if(W.isMaskedElementChild(e))return;let i=bt(e),r={type:X.POINTER_DOWN,args:[t.pointerId,t.pointerType,ge(t.clientX,1),ge(t.clientY,1),i,t.button,{pageX:ge(t.pageX,1),pageY:ge(t.pageY,1)}],date:F.now()};this.ae(r)}touchStartListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],o={type:X.TOUCH_START,args:[r.identifier,ge(r.clientX,1),ge(r.clientY,1)],date:F.now()};this.ae(o)}}touchMoveListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],o={type:X.TOUCH_MOVE,args:[r.identifier,ge(r.clientX,1),ge(r.clientY,1)],date:F.now()};this.ae(o)}}touchEndCancelListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],o={type:t.type==="touchend"?X.TOUCH_END:X.TOUCH_CANCEL,args:[r.identifier,ge(r.clientX,1),ge(r.clientY,1)],date:F.now()};this.ae(o)}}rl(){this.V={},this.V[" "]=ht.SPACE,this.V.Spacebar=ht.SPACE,this.V.Backspace=ht.BACKSPACE,this.V.Enter=ht.ENTER,this.V.Delete=ht.DELETE,this.V.ArrowUp=ht.ARROWUP,this.V.ArrowDown=ht.ARROWDOWN,this.V.ArrowLeft=ht.ARROWLEFT,this.V.ArrowRight=ht.ARROWRIGHT,this.V.Up=ht.ARROWUP,this.V.Down=ht.ARROWDOWN,this.V.Left=ht.ARROWLEFT,this.V.Right=ht.ARROWRIGHT,this.V.CapsLock=ht.CAPSLOCK,this.V.Shift=ht.SHIFT,this.V.Tab=ht.TAB,this.V.Escape=ht.ESCAPE,this.V.Esc=ht.ESCAPE,this.V.End=ht.END,this.V.Alt=ht.ALT,this.V.Control=ht.CTRL,this.V.Meta=ht.META}}return tt([te("RecordingPageEvents.start")],s.prototype,"start",null),tt([B("scroll")],s.prototype,"scrollListener",null),tt([B("mouseOver"),Rt(),tg()],s.prototype,"mouseOverListener",null),tt([B("click"),Rt()],s.prototype,"clickListener",null),tt([B("Event handler type: keyup")],s.prototype,"keyUpListener",null),tt([B("Event handler type: keydown")],s.prototype,"keyDownListener",null),tt([B("Event handler type: copy")],s.prototype,"copyListener",null),tt([B("Event handler type: cut")],s.prototype,"cutListener",null),tt([B("Event handler type: paste")],s.prototype,"pasteListener",null),tt([B("Event handler type: pointerup"),Rt()],s.prototype,"pointerUpListener",null),tt([B("Event handler type: pointermove"),Rt(),Yr({wait:$S})],s.prototype,"pointerMoveListener",null),tt([B("Event handler type: pointerdown"),Rt()],s.prototype,"pointerDownListener",null),tt([B("Event handler type: touchstart"),Rt()],s.prototype,"touchStartListener",null),tt([B("Event handler type: touchmove"),Rt()],s.prototype,"touchMoveListener",null),tt([B("Event handler type: touchend-cancel"),Rt()],s.prototype,"touchEndCancelListener",null),s})(),GS=(()=>{class s{constructor(){}onScannedAsset(t){this.Ga=t}scanCssString(t){this.Fh(Pn(t))}scanElement(t,e){W.getMaskedElementDetails(t).state!==W.MaskedElementState.NotMasked||e&&W.isMaskedAttribute(t,e)||(jr(t)?this.iA(t):ic(t)?this.nA(t,e):(this.rA(t,e),this.oA(t,e),this.aA(t,e)))}nA(t,e){var i;if((!e||e==="href")&&t.href){let o={assetId:((i=t.sheet)===null||i===void 0?void 0:i.href)||t.href,assetBasePath:window.location.href,assetRawPath:Wh(t)};this.Ga({type:"stylesheet",asset:o})}}iA(t){var e;let i=new Set;if(t.textContent)for(let o of Pn(t.textContent))i.add(o);let r;try{r=(e=t.sheet)===null||e===void 0?void 0:e.cssRules}catch(o){o.name==="SecurityError"||o.name==="InvalidAccessError"||J.error(o.message)}if(r)for(let o=0;o<r.length;o++){let c=r.item(o).cssText;for(let u of Pn(c))i.add(u)}this.Fh(Zs(i))}$h(t){return!this.cA(t)&&!xe(t)&&!vp(t)}rA(t,e){if(Id(t)||Cd(t)){if(!e||e==="src"){let i=t.getAttribute("src");if(i&&this.$h(i)){let r={assetId:t.src,assetRawPath:i,assetBasePath:window.location.href};this.Ga({type:"asset",asset:r})}}(!e||e==="srcset")&&t.srcset&&this.lA(t.srcset)}}oA(t,e){if(t.nodeType!==1){Ct.warn(`StaticResourceUrlTracker: Wrong element nodeType: ${t==null?void 0:t.nodeName}/${t.nodeType}`);return}if(t.hasAttribute&&(!e||e==="style")&&t.hasAttribute("style")){let i=t.getAttribute("style");if(typeof i=="string")this.scanCssString(i);else throw new Error("Unexpected style: "+t.outerHTML)}}lA(t){this.Fh(Rc(t))}aA(t,e){if((Md(t)||kd(t)||Dd(t))&&(!e||e==="href"||e==="xlink:href")){let i=t.getAttribute("href")||t.getAttribute("xlink:href");if(i&&this.$h(i)){let r={assetId:Ze(i),assetRawPath:i,assetBasePath:window.location.href};this.Ga({type:"asset",asset:r})}}}Fh(t){return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,e=>this.$h(e)),e=>({rawUrl:e,absoluteUrl:Ze(e)})),e=>{let i={assetId:e.absoluteUrl,assetBasePath:window.location.href,assetRawPath:e.rawUrl};this.Ga({type:"asset",asset:i})})}cA(t){return/^https:\/\/\w+:\w+@/.test(t)}}return s})(),qS=30,WS=0,Nu=(()=>{class s{constructor(t,e=qS,i=WS){this.hA=t,this.uA=e,this.dA=i,this.We=new Un,this.Fe=!1,this.zh=0,this.Lg=()=>{for(this.zh=0;this.We.length;){if(this.zh>=this.uA){csSetTimeout(this.Lg,this.dA);return}let r=F.elapsed(),o=this.We.pop();if(!o)break;this.runTask(o);let c=F.elapsed()-r;this.zh+=c}this.Fe=!1}}schedule(t,e=!1){if(!this.hA||e){t();return}Ut.general.pendingTasks.increase(),this.We.push(t),this.pA()}pA(){this.Fe||(this.Fe=!0,csSetTimeout(()=>{this.Lg()}))}runTask(t){Ut.general.pendingTasks.decrease(),t()}runPendingTasks(){this.We.forEach(t=>{this.runTask(t)}),this.We.clear()}clearQueue(){Ut.general.pendingTasks.clear(),Ut.mutations.pendingMutations.clear(),this.We.clear()}isEmpty(){return this.We.length===0}}return tt([B("TaskScheduler"),te("runTask")],s.prototype,"runTask",null),tt([te("runPendingTasks")],s.prototype,"runPendingTasks",null),s})(),YS=(()=>{class s{constructor(){this.G=!1,this.Ug=new Tc(t=>t.type==="cssRuleInserted"&&this.fA(t)),this.gA=Gr(t=>{this.G&&t.length>0&&this.C.schedule(()=>ft(t,e=>this.Qr.scanElement(e)))}),this.mA=({type:t,asset:e})=>{var i,r,o;t==="stylesheet"&&((i=this.yA)===null||i===void 0||i.call(this,e)),(r=this.EA)===null||r===void 0||r.call(this,e);let c={date:F.now(),type:X.STATIC_RESOURCE_URL,args:[e.assetId]};(o=this.L)===null||o===void 0||o.call(this,c)},this.C=new Nu(!0,30,0),this.jr=new Ru(t=>this.SA(t)),this.D=new ns(t=>this.Po(t)),this.Qr=new GS,this.Qr.onScannedAsset(this.mA)}onEvent(t){this.L=t}onAsset(t){this.EA=t}onStyleSheetFound(t){this.yA=t}start(){this.G||(this.G=!0,this.Ug.observe(),this.jr.observe(),this.D.observe())}stop(){this.G&&(this.Ug.disconnect(),this.jr.disconnect(),this.D.disconnect(),this.G=!1)}fA(t){!t.rule||!this.G||this.Qr.scanCssString(t.rule)}SA(t){this.G&&W.getMaskedElementDetails(t).state===W.MaskedElementState.NotMasked&&this.gA.push(t)}Po(t){csSetTimeout(()=>{for(let e of t)switch(e.type){case"attributes":this.Qr.scanElement(e.target,e.attributeName);break;case"characterData":this.vA(e.target);break;case"childList":}})}vA(t){Or(t)&&csNodeparentNode.apply(t)&&jr(csNodeparentNode.apply(t))&&this.Qr.scanCssString(t.data)}}return s})(),XS="csPersisted",Bl="v2/recording",KS=["isRecording"],Mu=["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"],JS=["replay:resourceManager:getStatus","cssrm:getStatus"],QS=(()=>{class s{constructor(t,e,i,r,o,c,u,p,v,f,w,_,R,H,U,I,P,$,q,M,Z,at){this.Fs=t,this.R=e,this.f=i,this.Ue=r,this.E=o,this.N=c,this.Y=u,this.ue=p,this.ge=v,this.pt=f,this.fe=w,this.ft=_,this.S=R,this.Zs=H,this.Vg=U,this.ne=I,this.Vt=P,this.Z=$,this.kn=q,this.it=M,this.uI=Z,this.lt=at}init(){var t,e;let i=[],r=[];csArray.prototype.push.call(r,new PE),this.Zr=new OE(this.it.shouldUseAnonymization(),this.f.whitelistedAttributes,this.N,this.f.anonymizeDigits),this.Gi();let o=new cS(XS);this._A(o),this.j=new VS(()=>{var $;return(($=this.R.getSession())===null||$===void 0?void 0:$.pageNumber)||0});let c=new YS;csArray.prototype.push.call(i,c),this.f.useStaticResourceManager&&$a.isSupported()&&(this.Wt=new $a,this.xe=new hS,this.jg=new kS(this.xe,this.f.getStaticResourceManagerUri(),this.Ue),this.Vg.addListener(this.jg),csArray.prototype.push.call(r,this.Wt));let u=new Dn(this.Ue,{getRequestParameters:()=>({let:this.recordingService.getRecordingLastEventTimestamp()})},{getRequestParameters:()=>({rst:this.recordingService.getRecordingStartTimestamp()})},{getRequestParameters:()=>({rt:csArray.prototype.join.call(this.R.getCollectStates(),",")})}),p=new au(`${this.f.getRecordingUri()}/${Bl}`);csArray.prototype.push.call(r,this.Zr),csArray.prototype.push.call(r,new UE(this.Z)),csArray.prototype.push.call(r,new VE),this.qi=new zS,this.qi.init(),csArray.prototype.push.call(i,this.qi),this.Dt=new OS(o,p,this.X),csArray.prototype.push.call(i,new HS(window.location,this.N));let v=new IE,f=new BE,w=new $E,_=new qE(this.lt),R=new YE,H=[f,this.ue,v,new RS(csArray.prototype.filter.call(i,$=>$)),R,new XE,new ZE,_,w];this.f.jsErrorsEnabled&&(this.Ua=new tS,this.bA=new eS($=>this.ge.anonymize($)),this.cs=new AS(this.Ua),csArray.prototype.push.call(H,this.Ua),csArray.prototype.push.call(r,this.bA)),!((e=this.f.customErrors)===null||e===void 0)&&e.enabled&&(this.ls=new TS);let U=new rS(H,r),I=new bS(U,this.S,this.xe,this.cs,this.ls),P=[v,f,w,_,R];this.recordingService=new PS(this.f,this.j,u,this.Y,this.R,this.ge,this.pt,this.fe,this.lt,this.X,this.Dt,p,I,i,P,this.Wt,this.kn,this.cs,this.ls),this.Zs.addListener(this.recordingService),this.Vg.addListener(this.recordingService),this.recordingService.init(),this.E.register(KS,()=>this.R.isReplayRecorded()&&!this.ne.isUrlExcludedForSessionReplay()),this.E.register(Mu,()=>{this.recordingService.activateOnlineAssetsOnNextPageview(),this.S.emitRecordingContextChange()}),this.E.register(JS,()=>this.recordingService.getStaticResourceManagerStatus()),this.to=new lS(this.S,this.R),this.Zs.addListener(this.to),this.Fs.enableRecordingContext(this.recordingService,this.R,this.to),this.Gh()}onAfterNaturalPageView(){var t;this.ne.isUrlExcludedForSessionReplay()?this.recordingService.resetOnlineAssetsOnPageview():this.recordingService.updateOnlineAssetsOnPageview(),(t=this.jg)===null||t===void 0||t.initState()}onStartTracking(){this.Dt.recover(),this.Gi(),this.R.isReplayRecorded()&&!this.ne.isUrlExcludedForSessionReplay()&&(this.R.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.qh())}onArtificialPageViewEnd(){this.R.isReplayRecorded()&&!this.ne.isUrlExcludedForSessionReplay()&&!this.R.isTemporarilyRecorded()&&this.Dt.sendLastMessageBeacon(),this.recordingService.clearStates()}onAfterArtificialPageView(){this.Gi(),this.R.isReplayRecorded()&&!this.ne.isUrlExcludedForSessionReplay()?(this.R.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.recordingService.updateOnlineAssetsOnPageview(),this.TA()):(this.recordingService.resetOnlineAssetsOnPageview(),this.xn())}onBeforeSessionRenewal(){this.recordingService.clearStates(),this.xn()}onOptout(){this.xn(),this.recordingService.onOptOut()}onReplayUnanonymizationConsentGranted(){this.Gi(),this.recordingService.triggerUnanonymizationConsentGranted(),this.S.emitRecordingContextChange()}onReplayUnanonymizationConsentWithdrawn(){this.Gi(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.S.emitRecordingContextChange()}onCollectStateChange(t,e){t===Q.QUOTA_REACHED||t===Q.ANALYTICS_ONLY&&e===be.ETR_OFF?(this.recordingService.clearEvents(),this.xn()):(this.X.setQueryParams({rt:csArray.prototype.join.call(this.R.getCollectStates(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents(),this.to.onCollectStateChange(t,e))}onInitialDomStart(){this.recordingService.blockSendingEventsFromSerialization(),this.Dt.blockSendingLastMessage()}onInitialDomDone(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.Dt.allowSendingLastMessage(),this.qi.start(),this.recordingService.pushEvents(),ot.counters.longTasks.count>0&&ot.counters.longTasks.flush(),ot.counters.tasks.count>0&&ot.counters.tasks.flush()}onAfterReplayRecordingConsentGranted(){this.R.isReplayRecorded()&&!this.ne.isUrlExcludedForSessionReplay()&&(this.R.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.qh(),this.recordingService.triggerRecordingForSessionGranted())}onAfterReplayRecordingConsentWithdrawn(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this.xn())}Gh(){var t,e,i,r;if(!((e=(t=this.f.experimental.sessionReplay)===null||t===void 0?void 0:t.shadowRoot)===null||e===void 0)&&e.filterByHostSelector){let o=(r=(i=this.f.experimental.sessionReplay)===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.filterByHostSelector;ft(o,c=>{ne(c)&&ns.setShadowRootFilter(u=>{try{return Ae.call(u.host,c)}catch{return!1}})})}}qh(){this.recordingService.start(),this.Dt.start(),this.S.emitRecordingContextChange()}xn(){this.recordingService.stop(),this.Dt.stop(),this.S.emitRecordingContextChange()}TA(){this.xn(),this.qh()}_A(t){let e="byteArray";this.X=this.Vt.create(`${this.f.getRecordingUri()}/${Bl}`,!0,e,t,["rt","v","pid","pn","sn","uu"])}Gi(){var t;let e=this.it.shouldUseAnonymization();this.Zr.setAnonymization(e),(t=this.wA)===null||t===void 0||t.setAnonymization(e)}}return tt([te("Recording.onStartTracking")],s.prototype,"onStartTracking",null),tt([te("onInitialDomDone")],s.prototype,"onInitialDomDone",null),s})(),ZS=(()=>{class s{constructor(t,e){this.he=t,this.f=e,this.Hg=!1}enableRecordingContext(t,e,i){this.Hg=!0,this.Cn=t,this.R=e,this.to=i}getRecordingContext(){var t,e,i;if(!this.Hg)return{isRecording:!1,recordingStartTimestamp:0,etrState:be.ETR_OFF,etrStatus:De.ETR_DISABLED,collectState:Q.ANALYTICS_ONLY};let r=this.R.getSession();return{isRecording:this.Cn.isRecording(),useAnonymization:this.he.getSensitiveStatus().useAnonymization,enableOnlineResources:(t=this.Cn.getStaticResourceManagerStatus())===null||t===void 0?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:(e=this.Cn.getStaticResourceManagerStatus())===null||e===void 0?void 0:e.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.Cn.getRecordingStartTimestamp(),10),etrState:this.f.malkaEtrEnabled?be.ETR_ON:be.ETR_OFF,etrStatus:this.to.getEtrStatus(r),collectState:(i=r==null?void 0:r.collectState)!==null&&i!==void 0?i:Q.ANALYTICS_ONLY}}}return s})(),xn=(()=>{class s{static isRecordingSupported(){return"MutationObserver"in window&&"visibilityState"in document}static isAsyncSerializationSupported(){return"Promise"in window&&"findIndex"in csArray.prototype}}return s})(),tv=(()=>{let s;return function(n){n.COMPRESSION_DISABLED="compressionDisabled"}(s||(s={})),s})(),ev=(()=>{class s{constructor(){}static init(t){(!this.Wh||t!==void 0)&&this.initFlags(t)}static initFlags(t=document.cookie){var e;let i=(e=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))===null||e===void 0?void 0:e[1];if(this.Wh=new Map,i){let r=csString.prototype.split.call(i,".");for(let o=0;o<r.length;o++){let[c,u]=csString.prototype.split.call(r[o],"=");this.Wh.set(c,u||"true")}}}static getBoolean(t){let e=this.getString(t);return e!=null&&e!=="false"&&parseInt(e)!==0}static getString(t){var e;return this.init(),(e=this.Wh)===null||e===void 0?void 0:e.get(t)}static isCompressionEnabled(){return!this.getBoolean(tv.COMPRESSION_DISABLED)}static Log(t){return(e,i,r)=>{var o;let c=i.toString(),u=`${(o=e.constructor)===null||o===void 0?void 0:o.name}.${c}`,p=r.value;sv(s.getString("debugLog"),t)&&(r.value=function(...v){return console.log(u,...v),p.bind(this)(...v)})}}}return s})();function sv(s,n){var t;return s==null?!1:s===n||!!(!((t=csString.prototype.match.call(s,new csRegExp("(^|,)("+n+")(,|$)")))===null||t===void 0)&&t.length)}function Fl(){function i(a){let E=a.length;for(;--E>=0;)a[E]=0}let r=0,o=1,c=2,u=3,p=258,v=29,f=256,w=f+1+v,_=30,R=19,H=2*w+1,U=15,I=16,P=7,$=256,q=16,M=17,Z=18,at=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),gt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Vt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ft=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N=512,z=new Array((w+2)*2);i(z);let Y=new Array(_*2);i(Y);let st=new Array(N);i(st);let Pt=new Array(p-u+1);i(Pt);let $t=new Array(v);i($t);let ae=new Array(_);i(ae);function Ue(a,E,S,b,g){this.static_tree=a,this.extra_bits=E,this.extra_base=S,this.elems=b,this.max_length=g,this.has_stree=a&&a.length}let os,ce,Dt;function Ce(a,E){this.dyn_tree=a,this.max_code=0,this.stat_desc=E}let as=a=>a<256?st[a]:st[256+(a>>>7)],Ie=(a,E)=>{a.pending_buf[a.pending++]=E&255,a.pending_buf[a.pending++]=E>>>8&255},Tt=(a,E,S)=>{a.bi_valid>I-S?(a.bi_buf|=E<<a.bi_valid&65535,Ie(a,a.bi_buf),a.bi_buf=E>>I-a.bi_valid,a.bi_valid+=S-I):(a.bi_buf|=E<<a.bi_valid&65535,a.bi_valid+=S)},vt=(a,E,S)=>{Tt(a,S[E*2],S[E*2+1])},V=(a,E)=>{let S=0;do S|=a&1,a>>>=1,S<<=1;while(--E>0);return S>>>1},bi=a=>{a.bi_valid===16?(Ie(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)},Ti=(a,E)=>{let S=E.dyn_tree,b=E.max_code,g=E.stat_desc.static_tree,O=E.stat_desc.has_stree,C=E.stat_desc.extra_bits,k=E.stat_desc.extra_base,nt=E.stat_desc.max_length,et,Qt,ue,wt,ys,xs,hr=0;for(wt=0;wt<=U;wt++)a.bl_count[wt]=0;for(S[a.heap[a.heap_max]*2+1]=0,et=a.heap_max+1;et<H;et++)Qt=a.heap[et],wt=S[S[Qt*2+1]*2+1]+1,wt>nt&&(wt=nt,hr++),S[Qt*2+1]=wt,!(Qt>b)&&(a.bl_count[wt]++,ys=0,Qt>=k&&(ys=C[Qt-k]),xs=S[Qt*2],a.opt_len+=xs*(wt+ys),O&&(a.static_len+=xs*(g[Qt*2+1]+ys)));if(hr!==0){do{for(wt=nt-1;a.bl_count[wt]===0;)wt--;a.bl_count[wt]--,a.bl_count[wt+1]+=2,a.bl_count[nt]--,hr-=2}while(hr>0);for(wt=nt;wt!==0;wt--)for(Qt=a.bl_count[wt];Qt!==0;)ue=a.heap[--et],!(ue>b)&&(S[ue*2+1]!==wt&&(a.opt_len+=(wt-S[ue*2+1])*S[ue*2],S[ue*2+1]=wt),Qt--)}},ti=(a,E,S)=>{let b=new Array(U+1),g=0,O,C;for(O=1;O<=U;O++)b[O]=g=g+S[O-1]<<1;for(C=0;C<=E;C++){let k=a[C*2+1];k!==0&&(a[C*2]=V(b[k]++,k))}},Wn=()=>{let a,E,S,b,g,O=new Array(U+1);for(S=0,b=0;b<v-1;b++)for($t[b]=S,a=0;a<1<<at[b];a++)Pt[S++]=b;for(Pt[S-1]=b,g=0,b=0;b<16;b++)for(ae[b]=g,a=0;a<1<<gt[b];a++)st[g++]=b;for(g>>=7;b<_;b++)for(ae[b]=g<<7,a=0;a<1<<gt[b]-7;a++)st[256+g++]=b;for(E=0;E<=U;E++)O[E]=0;for(a=0;a<=143;)z[a*2+1]=8,a++,O[8]++;for(;a<=255;)z[a*2+1]=9,a++,O[9]++;for(;a<=279;)z[a*2+1]=7,a++,O[7]++;for(;a<=287;)z[a*2+1]=8,a++,O[8]++;for(ti(z,w+1,O),a=0;a<_;a++)Y[a*2+1]=5,Y[a*2]=V(a,5);os=new Ue(z,at,f+1,w,U),ce=new Ue(Y,gt,0,_,U),Dt=new Ue(new Array(0),Vt,0,R,P)},nn=a=>{let E;for(E=0;E<w;E++)a.dyn_ltree[E*2]=0;for(E=0;E<_;E++)a.dyn_dtree[E*2]=0;for(E=0;E<R;E++)a.bl_tree[E*2]=0;a.dyn_ltree[$*2]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0},rn=a=>{a.bi_valid>8?Ie(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},Zr=(a,E,S,b)=>{rn(a),b&&(Ie(a,S),Ie(a,~S)),a.pending_buf.set(a.window.subarray(E,E+S),a.pending),a.pending+=S},Ps=(a,E,S,b)=>{let g=E*2,O=S*2;return a[g]<a[O]||a[g]===a[O]&&b[E]<=b[S]},Ee=(a,E,S)=>{let b=a.heap[S],g=S<<1;for(;g<=a.heap_len&&(g<a.heap_len&&Ps(E,a.heap[g+1],a.heap[g],a.depth)&&g++,!Ps(E,b,a.heap[g],a.depth));)a.heap[S]=a.heap[g],S=g,g<<=1;a.heap[S]=b},Ai=(a,E,S)=>{let b,g,O=0,C,k;if(a.last_lit!==0)do b=a.pending_buf[a.d_buf+O*2]<<8|a.pending_buf[a.d_buf+O*2+1],g=a.pending_buf[a.l_buf+O],O++,b===0?vt(a,g,E):(C=Pt[g],vt(a,C+f+1,E),k=at[C],k!==0&&(g-=$t[C],Tt(a,g,k)),b--,C=as(b),vt(a,C,S),k=gt[C],k!==0&&(b-=ae[C],Tt(a,b,k)));while(O<a.last_lit);vt(a,$,E)},Os=(a,E)=>{let S=E.dyn_tree,b=E.stat_desc.static_tree,g=E.stat_desc.has_stree,O=E.stat_desc.elems,C,k,nt=-1,et;for(a.heap_len=0,a.heap_max=H,C=0;C<O;C++)S[C*2]!==0?(a.heap[++a.heap_len]=nt=C,a.depth[C]=0):S[C*2+1]=0;for(;a.heap_len<2;)et=a.heap[++a.heap_len]=nt<2?++nt:0,S[et*2]=1,a.depth[et]=0,a.opt_len--,g&&(a.static_len-=b[et*2+1]);for(E.max_code=nt,C=a.heap_len>>1;C>=1;C--)Ee(a,S,C);et=O;do C=a.heap[1],a.heap[1]=a.heap[a.heap_len--],Ee(a,S,1),k=a.heap[1],a.heap[--a.heap_max]=C,a.heap[--a.heap_max]=k,S[et*2]=S[C*2]+S[k*2],a.depth[et]=(a.depth[C]>=a.depth[k]?a.depth[C]:a.depth[k])+1,S[C*2+1]=S[k*2+1]=et,a.heap[1]=et++,Ee(a,S,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],Ti(a,E),ti(S,nt,a.bl_count)},zt=(a,E,S)=>{let b,g=-1,O,C=E[0*2+1],k=0,nt=7,et=4;for(C===0&&(nt=138,et=3),E[(S+1)*2+1]=65535,b=0;b<=S;b++)O=C,C=E[(b+1)*2+1],!(++k<nt&&O===C)&&(k<et?a.bl_tree[O*2]+=k:O!==0?(O!==g&&a.bl_tree[O*2]++,a.bl_tree[q*2]++):k<=10?a.bl_tree[M*2]++:a.bl_tree[Z*2]++,k=0,g=O,C===0?(nt=138,et=3):O===C?(nt=6,et=3):(nt=7,et=4))},Gt=(a,E,S)=>{let b,g=-1,O,C=E[0*2+1],k=0,nt=7,et=4;for(C===0&&(nt=138,et=3),b=0;b<=S;b++)if(O=C,C=E[(b+1)*2+1],!(++k<nt&&O===C)){if(k<et)do vt(a,O,a.bl_tree);while(--k!==0);else O!==0?(O!==g&&(vt(a,O,a.bl_tree),k--),vt(a,q,a.bl_tree),Tt(a,k-3,2)):k<=10?(vt(a,M,a.bl_tree),Tt(a,k-3,3)):(vt(a,Z,a.bl_tree),Tt(a,k-11,7));k=0,g=O,C===0?(nt=138,et=3):O===C?(nt=6,et=3):(nt=7,et=4)}},Kt=a=>{let E;for(zt(a,a.dyn_ltree,a.l_desc.max_code),zt(a,a.dyn_dtree,a.d_desc.max_code),Os(a,a.bl_desc),E=R-1;E>=3&&a.bl_tree[Ft[E]*2+1]===0;E--);return a.opt_len+=3*(E+1)+5+5+4,E},Jt=(a,E,S,b)=>{let g;for(Tt(a,E-257,5),Tt(a,S-1,5),Tt(a,b-4,4),g=0;g<b;g++)Tt(a,a.bl_tree[Ft[g]*2+1],3);Gt(a,a.dyn_ltree,E-1),Gt(a,a.dyn_dtree,S-1)},to=a=>{let E=4093624447,S;for(S=0;S<=31;S++,E>>>=1)if(E&1&&a.dyn_ltree[S*2]!==0)return 0;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return 1;for(S=32;S<f;S++)if(a.dyn_ltree[S*2]!==0)return 1;return 0},on=!1,eo=a=>{on||(Wn(),on=!0),a.l_desc=new Ce(a.dyn_ltree,os),a.d_desc=new Ce(a.dyn_dtree,ce),a.bl_desc=new Ce(a.bl_tree,Dt),a.bi_buf=0,a.bi_valid=0,nn(a)},an=(a,E,S,b)=>{Tt(a,(r<<1)+(b?1:0),3),Zr(a,E,S,!0)},St=a=>{Tt(a,o<<1,3),vt(a,$,z),bi(a)},ei=(a,E,S,b)=>{let g,O,C=0;a.level>0?(a.strm.data_type===2&&(a.strm.data_type=to(a)),Os(a,a.l_desc),Os(a,a.d_desc),C=Kt(a),g=a.opt_len+3+7>>>3,O=a.static_len+3+7>>>3,O<=g&&(g=O)):g=O=S+5,S+4<=g&&E!==-1?an(a,E,S,b):a.strategy===4||O===g?(Tt(a,(o<<1)+(b?1:0),3),Ai(a,z,Y)):(Tt(a,(c<<1)+(b?1:0),3),Jt(a,a.l_desc.max_code+1,a.d_desc.max_code+1,C+1),Ai(a,a.dyn_ltree,a.dyn_dtree)),nn(a),b&&rn(a)},Ri=(a,E,S)=>(a.pending_buf[a.d_buf+a.last_lit*2]=E>>>8&255,a.pending_buf[a.d_buf+a.last_lit*2+1]=E&255,a.pending_buf[a.l_buf+a.last_lit]=S&255,a.last_lit++,E===0?a.dyn_ltree[S*2]++:(a.matches++,E--,a.dyn_ltree[(Pt[S]+f+1)*2]++,a.dyn_dtree[as(E)*2]++),a.last_lit===a.lit_bufsize-1);var so=eo,Yn=an,io=ei,no=Ri,ro=St,oo={_tr_init:so,_tr_stored_block:Yn,_tr_flush_block:io,_tr_tally:no,_tr_align:ro},Xn=(a,E,S,b)=>{let g=a&65535|0,O=a>>>16&65535|0,C=0;for(;S!==0;){C=S>2e3?2e3:S,S-=C;do g=g+E[b++]|0,O=O+g|0;while(--C);g%=65521,O%=65521}return g|O<<16|0};let ao=()=>{let a,E=[];for(var S=0;S<256;S++){a=S;for(var b=0;b<8;b++)a=a&1?3988292384^a>>>1:a>>>1;E[S]=a}return E},co=new Uint32Array(ao());var Pe=(a,E,S,b)=>{let g=co,O=b+S;a^=-1;for(let C=b;C<O;C++)a=a>>>8^g[(a^E[C])&255];return a^-1},cs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Jn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:cn,_tr_stored_block:ln,_tr_flush_block:ls,_tr_tally:le,_tr_align:Qn}=oo,{Z_NO_FLUSH:hs,Z_PARTIAL_FLUSH:Ns,Z_FULL_FLUSH:Zn,Z_FINISH:mt,Z_BLOCK:si,Z_OK:qt,Z_STREAM_END:us,Z_STREAM_ERROR:fe,Z_DATA_ERROR:lo,Z_BUF_ERROR:hn,Z_DEFAULT_COMPRESSION:ho,Z_FILTERED:uo,Z_HUFFMAN_ONLY:Ci,Z_RLE:tr,Z_FIXED:er,Z_DEFAULT_STRATEGY:sr,Z_UNKNOWN:po,Z_DEFLATED:ds}=Jn,fo=9,go=15,mo=8,un=256+1+29,ir=30,So=19,vo=2*un+1,_o=15,ct=3,Ve=258,he=Ve+ct+1,dn=32,ps=42,Ii=69,Pi=73,ii=91,Oi=103,fs=113,je=666,xt=1,ni=2,Oe=3,Ms=4,pn=3,He=(a,E)=>(a.msg=cs[E],E),Ni=a=>(a<<1)-(a>4?9:0),Be=a=>{let E=a.length;for(;--E>=0;)a[E]=0},Ne=(a,E,S)=>(E<<a.hash_shift^S)&a.hash_mask,Se=a=>{let E=a.state,S=E.pending;S>a.avail_out&&(S=a.avail_out),S!==0&&(a.output.set(E.pending_buf.subarray(E.pending_out,E.pending_out+S),a.next_out),a.next_out+=S,E.pending_out+=S,a.total_out+=S,a.avail_out-=S,E.pending-=S,E.pending===0&&(E.pending_out=0))},Lt=(a,E)=>{ls(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,E),a.block_start=a.strstart,Se(a.strm)},lt=(a,E)=>{a.pending_buf[a.pending++]=E},Me=(a,E)=>{a.pending_buf[a.pending++]=E>>>8&255,a.pending_buf[a.pending++]=E&255},fn=(a,E,S,b)=>{let g=a.avail_in;return g>b&&(g=b),g===0?0:(a.avail_in-=g,E.set(a.input.subarray(a.next_in,a.next_in+g),S),a.state.wrap===1?a.adler=Xn(a.adler,E,g,S):a.state.wrap===2&&(a.adler=Pe(a.adler,E,g,S)),a.next_in+=g,a.total_in+=g,g)},gn=(a,E)=>{let S=a.max_chain_length,b=a.strstart,g,O,C=a.prev_length,k=a.nice_match,nt=a.strstart>a.w_size-he?a.strstart-(a.w_size-he):0,et=a.window,Qt=a.w_mask,ue=a.prev,wt=a.strstart+Ve,ys=et[b+C-1],xs=et[b+C];a.prev_length>=a.good_match&&(S>>=2),k>a.lookahead&&(k=a.lookahead);do if(g=E,!(et[g+C]!==xs||et[g+C-1]!==ys||et[g]!==et[b]||et[++g]!==et[b+1])){b+=2,g++;do;while(et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&b<wt);if(O=Ve-(wt-b),b=wt-Ve,O>C){if(a.match_start=E,C=O,O>=k)break;ys=et[b+C-1],xs=et[b+C]}}while((E=ue[E&Qt])>nt&&--S!==0);return C<=a.lookahead?C:a.lookahead},gs=a=>{let E=a.w_size,S,b,g,O,C;do{if(O=a.window_size-a.lookahead-a.strstart,a.strstart>=E+(E-he)){a.window.set(a.window.subarray(E,E+E),0),a.match_start-=E,a.strstart-=E,a.block_start-=E,b=a.hash_size,S=b;do g=a.head[--S],a.head[S]=g>=E?g-E:0;while(--b);b=E,S=b;do g=a.prev[--S],a.prev[S]=g>=E?g-E:0;while(--b);O+=E}if(a.strm.avail_in===0)break;if(b=fn(a.strm,a.window,a.strstart+a.lookahead,O),a.lookahead+=b,a.lookahead+a.insert>=ct)for(C=a.strstart-a.insert,a.ins_h=a.window[C],a.ins_h=Ne(a,a.ins_h,a.window[C+1]);a.insert&&(a.ins_h=Ne(a,a.ins_h,a.window[C+ct-1]),a.prev[C&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=C,C++,a.insert--,!(a.lookahead+a.insert<ct)););}while(a.lookahead<he&&a.strm.avail_in!==0)},ks=(a,E)=>{let S=65535;for(S>a.pending_buf_size-5&&(S=a.pending_buf_size-5);;){if(a.lookahead<=1){if(gs(a),a.lookahead===0&&E===hs)return xt;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;let b=a.block_start+S;if((a.strstart===0||a.strstart>=b)&&(a.lookahead=a.strstart-b,a.strstart=b,Lt(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-he&&(Lt(a,!1),a.strm.avail_out===0))return xt}return a.insert=0,E===mt?(Lt(a,!0),a.strm.avail_out===0?Oe:Ms):(a.strstart>a.block_start&&(Lt(a,!1),a.strm.avail_out===0),xt)},Mi=(a,E)=>{let S,b;for(;;){if(a.lookahead<he){if(gs(a),a.lookahead<he&&E===hs)return xt;if(a.lookahead===0)break}if(S=0,a.lookahead>=ct&&(a.ins_h=Ne(a,a.ins_h,a.window[a.strstart+ct-1]),S=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),S!==0&&a.strstart-S<=a.w_size-he&&(a.match_length=gn(a,S)),a.match_length>=ct)if(b=le(a,a.strstart-a.match_start,a.match_length-ct),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ct){a.match_length--;do a.strstart++,a.ins_h=Ne(a,a.ins_h,a.window[a.strstart+ct-1]),S=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=Ne(a,a.ins_h,a.window[a.strstart+1]);else b=le(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(b&&(Lt(a,!1),a.strm.avail_out===0))return xt}return a.insert=a.strstart<ct-1?a.strstart:ct-1,E===mt?(Lt(a,!0),a.strm.avail_out===0?Oe:Ms):a.last_lit&&(Lt(a,!1),a.strm.avail_out===0)?xt:ni},We=(a,E)=>{let S,b,g;for(;;){if(a.lookahead<he){if(gs(a),a.lookahead<he&&E===hs)return xt;if(a.lookahead===0)break}if(S=0,a.lookahead>=ct&&(a.ins_h=Ne(a,a.ins_h,a.window[a.strstart+ct-1]),S=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ct-1,S!==0&&a.prev_length<a.max_lazy_match&&a.strstart-S<=a.w_size-he&&(a.match_length=gn(a,S),a.match_length<=5&&(a.strategy===uo||a.match_length===ct&&a.strstart-a.match_start>4096)&&(a.match_length=ct-1)),a.prev_length>=ct&&a.match_length<=a.prev_length){g=a.strstart+a.lookahead-ct,b=le(a,a.strstart-1-a.prev_match,a.prev_length-ct),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=g&&(a.ins_h=Ne(a,a.ins_h,a.window[a.strstart+ct-1]),S=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);if(a.match_available=0,a.match_length=ct-1,a.strstart++,b&&(Lt(a,!1),a.strm.avail_out===0))return xt}else if(a.match_available){if(b=le(a,0,a.window[a.strstart-1]),b&&Lt(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return xt}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(b=le(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ct-1?a.strstart:ct-1,E===mt?(Lt(a,!0),a.strm.avail_out===0?Oe:Ms):a.last_lit&&(Lt(a,!1),a.strm.avail_out===0)?xt:ni},nr=(a,E)=>{let S,b,g,O,C=a.window;for(;;){if(a.lookahead<=Ve){if(gs(a),a.lookahead<=Ve&&E===hs)return xt;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=ct&&a.strstart>0&&(g=a.strstart-1,b=C[g],b===C[++g]&&b===C[++g]&&b===C[++g])){O=a.strstart+Ve;do;while(b===C[++g]&&b===C[++g]&&b===C[++g]&&b===C[++g]&&b===C[++g]&&b===C[++g]&&b===C[++g]&&b===C[++g]&&g<O);a.match_length=Ve-(O-g),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ct?(S=le(a,1,a.match_length-ct),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(S=le(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),S&&(Lt(a,!1),a.strm.avail_out===0))return xt}return a.insert=0,E===mt?(Lt(a,!0),a.strm.avail_out===0?Oe:Ms):a.last_lit&&(Lt(a,!1),a.strm.avail_out===0)?xt:ni},wo=(a,E)=>{let S;for(;;){if(a.lookahead===0&&(gs(a),a.lookahead===0)){if(E===hs)return xt;break}if(a.match_length=0,S=le(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,S&&(Lt(a,!1),a.strm.avail_out===0))return xt}return a.insert=0,E===mt?(Lt(a,!0),a.strm.avail_out===0?Oe:Ms):a.last_lit&&(Lt(a,!1),a.strm.avail_out===0)?xt:ni};function ve(a,E,S,b,g){this.good_length=a,this.max_lazy=E,this.nice_length=S,this.max_chain=b,this.func=g}let Ds=[new ve(0,0,0,0,ks),new ve(4,4,8,4,Mi),new ve(4,5,16,8,Mi),new ve(4,6,32,32,Mi),new ve(4,4,16,16,We),new ve(8,16,32,32,We),new ve(8,16,128,128,We),new ve(8,32,128,256,We),new ve(32,128,258,1024,We),new ve(32,258,258,4096,We)],rr=a=>{a.window_size=2*a.w_size,Be(a.head),a.max_lazy_match=Ds[a.level].max_lazy,a.good_match=Ds[a.level].good_length,a.nice_match=Ds[a.level].nice_length,a.max_chain_length=Ds[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ct-1,a.match_available=0,a.ins_h=0};function bo(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ds,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(vo*2),this.dyn_dtree=new Uint16Array((2*ir+1)*2),this.bl_tree=new Uint16Array((2*So+1)*2),Be(this.dyn_ltree),Be(this.dyn_dtree),Be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(_o+1),this.heap=new Uint16Array(2*un+1),Be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*un+1),Be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let mn=a=>{if(!a||!a.state)return He(a,fe);a.total_in=a.total_out=0,a.data_type=po;let E=a.state;return E.pending=0,E.pending_out=0,E.wrap<0&&(E.wrap=-E.wrap),E.status=E.wrap?ps:fs,a.adler=E.wrap===2?0:1,E.last_flush=hs,cn(E),qt},yn=a=>{let E=mn(a);return E===qt&&rr(a.state),E},To=(a,E)=>!a||!a.state||a.state.wrap!==2?fe:(a.state.gzhead=E,qt),ki=(a,E,S,b,g,O)=>{if(!a)return fe;let C=1;if(E===ho&&(E=6),b<0?(C=0,b=-b):b>15&&(C=2,b-=16),g<1||g>fo||S!==ds||b<8||b>15||E<0||E>9||O<0||O>er)return He(a,fe);b===8&&(b=9);let k=new bo;return a.state=k,k.strm=a,k.wrap=C,k.gzhead=null,k.w_bits=b,k.w_size=1<<k.w_bits,k.w_mask=k.w_size-1,k.hash_bits=g+7,k.hash_size=1<<k.hash_bits,k.hash_mask=k.hash_size-1,k.hash_shift=~~((k.hash_bits+ct-1)/ct),k.window=new Uint8Array(k.w_size*2),k.head=new Uint16Array(k.hash_size),k.prev=new Uint16Array(k.w_size),k.lit_bufsize=1<<g+6,k.pending_buf_size=k.lit_bufsize*4,k.pending_buf=new Uint8Array(k.pending_buf_size),k.d_buf=1*k.lit_bufsize,k.l_buf=3*k.lit_bufsize,k.level=E,k.strategy=O,k.method=S,yn(a)},Ao=(a,E)=>ki(a,E,ds,go,mo,sr),En=(a,E)=>{let S,b;if(!a||!a.state||E>si||E<0)return a?He(a,fe):fe;let g=a.state;if(!a.output||!a.input&&a.avail_in!==0||g.status===je&&E!==mt)return He(a,a.avail_out===0?hn:fe);g.strm=a;let O=g.last_flush;if(g.last_flush=E,g.status===ps)if(g.wrap===2)a.adler=0,lt(g,31),lt(g,139),lt(g,8),g.gzhead?(lt(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),lt(g,g.gzhead.time&255),lt(g,g.gzhead.time>>8&255),lt(g,g.gzhead.time>>16&255),lt(g,g.gzhead.time>>24&255),lt(g,g.level===9?2:g.strategy>=Ci||g.level<2?4:0),lt(g,g.gzhead.os&255),g.gzhead.extra&&g.gzhead.extra.length&&(lt(g,g.gzhead.extra.length&255),lt(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(a.adler=Pe(a.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=Ii):(lt(g,0),lt(g,0),lt(g,0),lt(g,0),lt(g,0),lt(g,g.level===9?2:g.strategy>=Ci||g.level<2?4:0),lt(g,pn),g.status=fs);else{let C=ds+(g.w_bits-8<<4)<<8,k=-1;g.strategy>=Ci||g.level<2?k=0:g.level<6?k=1:g.level===6?k=2:k=3,C|=k<<6,g.strstart!==0&&(C|=dn),C+=31-C%31,g.status=fs,Me(g,C),g.strstart!==0&&(Me(g,a.adler>>>16),Me(g,a.adler&65535)),a.adler=1}if(g.status===Ii)if(g.gzhead.extra){for(S=g.pending;g.gzindex<(g.gzhead.extra.length&65535)&&!(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>S&&(a.adler=Pe(a.adler,g.pending_buf,g.pending-S,S)),Se(a),S=g.pending,g.pending===g.pending_buf_size));)lt(g,g.gzhead.extra[g.gzindex]&255),g.gzindex++;g.gzhead.hcrc&&g.pending>S&&(a.adler=Pe(a.adler,g.pending_buf,g.pending-S,S)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=Pi)}else g.status=Pi;if(g.status===Pi)if(g.gzhead.name){S=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>S&&(a.adler=Pe(a.adler,g.pending_buf,g.pending-S,S)),Se(a),S=g.pending,g.pending===g.pending_buf_size)){b=1;break}g.gzindex<g.gzhead.name.length?b=g.gzhead.name.charCodeAt(g.gzindex++)&255:b=0,lt(g,b)}while(b!==0);g.gzhead.hcrc&&g.pending>S&&(a.adler=Pe(a.adler,g.pending_buf,g.pending-S,S)),b===0&&(g.gzindex=0,g.status=ii)}else g.status=ii;if(g.status===ii)if(g.gzhead.comment){S=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>S&&(a.adler=Pe(a.adler,g.pending_buf,g.pending-S,S)),Se(a),S=g.pending,g.pending===g.pending_buf_size)){b=1;break}g.gzindex<g.gzhead.comment.length?b=g.gzhead.comment.charCodeAt(g.gzindex++)&255:b=0,lt(g,b)}while(b!==0);g.gzhead.hcrc&&g.pending>S&&(a.adler=Pe(a.adler,g.pending_buf,g.pending-S,S)),b===0&&(g.status=Oi)}else g.status=Oi;if(g.status===Oi&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&Se(a),g.pending+2<=g.pending_buf_size&&(lt(g,a.adler&255),lt(g,a.adler>>8&255),a.adler=0,g.status=fs)):g.status=fs),g.pending!==0){if(Se(a),a.avail_out===0)return g.last_flush=-1,qt}else if(a.avail_in===0&&Ni(E)<=Ni(O)&&E!==mt)return He(a,hn);if(g.status===je&&a.avail_in!==0)return He(a,hn);if(a.avail_in!==0||g.lookahead!==0||E!==hs&&g.status!==je){let C=g.strategy===Ci?wo(g,E):g.strategy===tr?nr(g,E):Ds[g.level].func(g,E);if((C===Oe||C===Ms)&&(g.status=je),C===xt||C===Oe)return a.avail_out===0&&(g.last_flush=-1),qt;if(C===ni&&(E===Ns?Qn(g):E!==si&&(ln(g,0,0,!1),E===Zn&&(Be(g.head),g.lookahead===0&&(g.strstart=0,g.block_start=0,g.insert=0))),Se(a),a.avail_out===0))return g.last_flush=-1,qt}return E!==mt?qt:g.wrap<=0?us:(g.wrap===2?(lt(g,a.adler&255),lt(g,a.adler>>8&255),lt(g,a.adler>>16&255),lt(g,a.adler>>24&255),lt(g,a.total_in&255),lt(g,a.total_in>>8&255),lt(g,a.total_in>>16&255),lt(g,a.total_in>>24&255)):(Me(g,a.adler>>>16),Me(g,a.adler&65535)),Se(a),g.wrap>0&&(g.wrap=-g.wrap),g.pending!==0?qt:us)},Ro=a=>{if(!a||!a.state)return fe;let E=a.state.status;return E!==ps&&E!==Ii&&E!==Pi&&E!==ii&&E!==Oi&&E!==fs&&E!==je?He(a,fe):(a.state=null,E===fs?He(a,lo):qt)},Co=(a,E)=>{let S=E.length;if(!a||!a.state)return fe;let b=a.state,g=b.wrap;if(g===2||g===1&&b.status!==ps||b.lookahead)return fe;if(g===1&&(a.adler=Xn(a.adler,E,S,0)),b.wrap=0,S>=b.w_size){g===0&&(Be(b.head),b.strstart=0,b.block_start=0,b.insert=0);let nt=new Uint8Array(b.w_size);nt.set(E.subarray(S-b.w_size,S),0),E=nt,S=b.w_size}let O=a.avail_in,C=a.next_in,k=a.input;for(a.avail_in=S,a.next_in=0,a.input=E,gs(b);b.lookahead>=ct;){let nt=b.strstart,et=b.lookahead-(ct-1);do b.ins_h=Ne(b,b.ins_h,b.window[nt+ct-1]),b.prev[nt&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=nt,nt++;while(--et);b.strstart=nt,b.lookahead=ct-1,gs(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=ct-1,b.match_available=0,a.next_in=C,a.input=k,a.avail_in=O,b.wrap=g,qt};var Io=Ao,Po=ki,Sn=yn,Oo=mn,No=To,Di=En,ms=Ro,or=Co,Mo="pako deflate (from Nodeca project)",oi={deflateInit:Io,deflateInit2:Po,deflateReset:Sn,deflateResetKeep:Oo,deflateSetHeader:No,deflate:Di,deflateEnd:ms,deflateSetDictionary:or,deflateInfo:Mo};let ko=(a,E)=>Object.prototype.hasOwnProperty.call(a,E);var ar=function(a){let E=Array.prototype.slice.call(arguments,1);for(;E.length;){let S=E.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(let b in S)ko(S,b)&&(a[b]=S[b])}}return a},ai=a=>{let E=0;for(let b=0,g=a.length;b<g;b++)E+=a[b].length;let S=new Uint8Array(E);for(let b=0,g=0,O=a.length;b<O;b++){let C=a[b];S.set(C,g),g+=C.length}return S},ci={assign:ar,flattenChunks:ai};let Ye=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ye=!1}let li=new Uint8Array(256);for(let a=0;a<256;a++)li[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;li[254]=li[254]=1;var Do=a=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let E,S,b,g,O,C=a.length,k=0;for(g=0;g<C;g++)S=a.charCodeAt(g),(S&64512)===55296&&g+1<C&&(b=a.charCodeAt(g+1),(b&64512)===56320&&(S=65536+(S-55296<<10)+(b-56320),g++)),k+=S<128?1:S<2048?2:S<65536?3:4;for(E=new Uint8Array(k),O=0,g=0;O<k;g++)S=a.charCodeAt(g),(S&64512)===55296&&g+1<C&&(b=a.charCodeAt(g+1),(b&64512)===56320&&(S=65536+(S-55296<<10)+(b-56320),g++)),S<128?E[O++]=S:S<2048?(E[O++]=192|S>>>6,E[O++]=128|S&63):S<65536?(E[O++]=224|S>>>12,E[O++]=128|S>>>6&63,E[O++]=128|S&63):(E[O++]=240|S>>>18,E[O++]=128|S>>>12&63,E[O++]=128|S>>>6&63,E[O++]=128|S&63);return E};let cr=(a,E=a.length)=>{if(E<65534&&a.subarray&&Ye)return String.fromCharCode.apply(null,a.length===E?a:a.subarray(0,E));let S="";for(let b=0;b<E;b++)S+=String.fromCharCode(a[b]);return S};var xo=(a,E)=>{let S=E||a.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,E));let b,g,O=new Array(S*2);for(g=0,b=0;b<S;){let C=a[b++];if(C<128){O[g++]=C;continue}let k=li[C];if(k>4){O[g++]=65533,b+=k-1;continue}for(C&=k===2?31:k===3?15:7;k>1&&b<S;)C=C<<6|a[b++]&63,k--;if(k>1){O[g++]=65533;continue}C<65536?O[g++]=C:(C-=65536,O[g++]=55296|C>>10&1023,O[g++]=56320|C&1023)}return cr(O,g)},Lo=(a,E)=>{E=E||a.length,E>a.length&&(E=a.length);let S=E-1;for(;S>=0&&(a[S]&192)===128;)S--;return S<0||S===0?E:S+li[a[S]]>E?S:E},lr={string2buf:Do,buf2string:xo,utf8border:Lo};function Uo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Vo=Uo;let h=Object.prototype.toString,{Z_NO_FLUSH:l,Z_SYNC_FLUSH:d,Z_FULL_FLUSH:m,Z_FINISH:y,Z_OK:T,Z_STREAM_END:x,Z_DEFAULT_COMPRESSION:D,Z_DEFAULT_STRATEGY:A,Z_DEFLATED:j}=Jn;function G(a){this.options=ci.assign({level:D,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:A},a||{});let E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Vo,this.strm.avail_out=0;let S=oi.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(S!==T)throw new Error(cs[S]);if(E.header&&oi.deflateSetHeader(this.strm,E.header),E.dictionary){let b;if(typeof E.dictionary=="string"?b=lr.string2buf(E.dictionary):h.call(E.dictionary)==="[object ArrayBuffer]"?b=new Uint8Array(E.dictionary):b=E.dictionary,S=oi.deflateSetDictionary(this.strm,b),S!==T)throw new Error(cs[S]);this._dict_set=!0}}G.prototype.push=function(a,E){let S=this.strm,b=this.options.chunkSize,g,O;if(this.ended)return!1;for(E===~~E?O=E:O=E===!0?y:l,typeof a=="string"?S.input=lr.string2buf(a):h.call(a)==="[object ArrayBuffer]"?S.input=new Uint8Array(a):S.input=a,S.next_in=0,S.avail_in=S.input.length;;){if(S.avail_out===0&&(S.output=new Uint8Array(b),S.next_out=0,S.avail_out=b),(O===d||O===m)&&S.avail_out<=6){this.onData(S.output.subarray(0,S.next_out)),S.avail_out=0;continue}if(g=oi.deflate(S,O),g===x)return S.next_out>0&&this.onData(S.output.subarray(0,S.next_out)),g=oi.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===T;if(S.avail_out===0){this.onData(S.output);continue}if(O>0&&S.next_out>0){this.onData(S.output.subarray(0,S.next_out)),S.avail_out=0;continue}if(S.avail_in===0)break}return!0},G.prototype.onData=function(a){this.chunks.push(a)},G.prototype.onEnd=function(a){a===T&&(this.result=ci.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function K(a,E){E=E||{};let S=new G(E);if(S.push(a,!0),S.err)throw S.msg||cs[S.err];return S.result}function it(a,E){return E=E||{},E.gzip=!0,K(a,E)}return(a,E,S)=>{let b=it(a);return E==="base64"?b=btoa(cr(b)):b=b.buffer,S&&S(b),b}}var iv=(()=>{class s extends Nh{constructor(t){super(t),this.algorithm=$r.GZIP,this.Bg=Fl(),this.AA=(i,r,o)=>{let c=this.Bg(i,r);o(c)},this.compress=$l(),typeof CompressionStream!="undefined"&&FS||(this.compress=this.AA,this.getCompressorSourceCode=()=>Fl.toString())}compressSync(t,e){return this.Bg(t,e)}getCompressorSourceCode(){return $l.toString()}}return s})();function $l(){let s=n=>new Promise(t=>{let e=new FileReader;e.onload=i=>t(i.target.result.split(",")[1]),e.readAsDataURL(new Blob([n]))});return(n,t,e)=>{let i=new Response(n).body.pipeThrough(new CompressionStream("gzip")),r=new Response(i).arrayBuffer();if(t==="base64"){r.then(o=>s(o)).then(o=>e(o));return}r.then(o=>e(o))}}var nv=(()=>{class s extends Nh{constructor(){super(...arguments),this.algorithm=$r.UNCOMPRESSED}compress(t,e,i){i(this.compressSync(t,e))}compressSync(t,e){return t}getCompressorSourceCode(){return function(){return(t,e,i)=>i(t)}.toString()}}return s})(),ku=(()=>{class s{static create(t,e=!0){return this.instance?this.instance:e&&!ev.isCompressionEnabled()?new nv(t):this.instance=new iv(t)}}return s})(),Du=["setEncryptionSelectors"],Qr=["setPIISelectors"],xu=["setCapturedElementsSelector"],rv=(()=>{class s{constructor(t,e,i,r,o,c,u){this.S=t,this.E=e,this.nt=i,this.we=r,this.Ft=o,this.lt=c,this.Ln=u}init(){var t,e;this.Ln&&this.lt&&((t=this.Ln)===null||t===void 0||t.addSelector((e=this.lt)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ht()}onStartTracking(t){this.we.start(),this.S.emitSensitiveStatusChange()}onBeforeArtificialPageView(){this.we.stop(),this.S.emitSensitiveStatusChange()}onAfterArtificialPageView(){this.we.start(),this.S.emitSensitiveStatusChange()}onBeforeSessionRenewal(){this.we.stop(),this.S.emitSensitiveStatusChange()}onOptout(){this.we.stop(),this.S.emitSensitiveStatusChange()}onReplayUnanonymizationConsentGranted(){this.S.emitSensitiveStatusChange()}onReplayUnanonymizationConsentWithdrawn(){this.S.emitSensitiveStatusChange()}ht(){this.E.register(Qr,t=>{this.nt.setMaskedElementSettingsFromCommand(t),this.S.emitSensitiveStatusChange()}),this.E.register(xu,t=>{this.Ft.setWhitelistedElementsSelector(t),this.S.emitSensitiveStatusChange()}),this.E.register(Du,t=>{var e,i;(e=this.lt)===null||e===void 0||e.setEncryptionSelectors(t),(i=this.Ln)===null||i===void 0||i.addSelector(t)})}}return s})();var ov=(()=>{class s extends re{constructor(t,e,i,r,o,c){super(),this.ue=t,this.nt=e,this.Ft=i,this.Ln=r,this.Un=o,this.it=c}onStart(){var t,e,i;this.Ft.start(),this.ue.setMaskedElementSettings(this.nt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements())),this.ue.startIdentifier(),(e=this.Ln)===null||e===void 0||e.start(),(i=this.Un)===null||i===void 0||i.start()}onStop(){var t,e;this.Ft.stop(),this.ue.stopIdentifier(),(t=this.Ln)===null||t===void 0||t.stop(),(e=this.Un)===null||e===void 0||e.stop()}}return s})(),av=(()=>{class s{constructor(t,e,i,r,o){this.it=t,this.nt=e,this.we=i,this.Ft=r,this.lt=o}getSensitiveStatus(){var t,e;return{started:this.we.isStarted,useAnonymization:this.it.shouldUseAnonymization(),capturedElementSelector:this.Ft.getWhitelistedElementsSelector(),maskedElementSettings:this.nt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:(e=this.lt)===null||e===void 0?void 0:e.getEncryptionSelectors()}}getElementSensitiveStatus(t){let e=this.we.isStarted,i=this.it.shouldUseAnonymization();return e?W.isMaskedElement(t)||W.isMaskedElementChild(t)?Fs.MASKED:Yf.shouldEncrypt(t)?Fs.ENCRYPTED:zs.isEditableNode(t)?Fs.ANONYMIZED:i?bs.isWhitelistedElement(t)?Fs.CAPTURED:Fs.ANONYMIZED:Fs.CAPTURED:Fs.ANONYMIZED}}return s})(),cv=(()=>{class s{constructor(t){this.Y=t}onAfterVisitorRenewal(){this.Y.renewSession()}}return s})(),lv=(()=>{let s;return function(n){n.URL="url"}(s||(s={})),s})(),zl=(()=>{let s;return function(n){function t(f,w){for(let _ of f)if(i(_,w))return!0;return!1}n.isUrlMatching=t;function e(f,w){if(L(w)){for(let _ of f)if(i(_,w))return!0}else if(Rr(w)){for(let _ of f)if(i(_,csString(w)))return!0}return!1}n.isMatching=e;function i(f,w){let _=r(f,w);return f.negate?!_:_}function r(f,w){switch(f.rule_type==="date"&&(f.match_operation==="less_than"||f.match_operation==="greater_than")&&(w=(new csDate(w).valueOf()/1e3).toFixed(0)),f.match_operation){case"exact":switch(f.rule_type){case"string":return L(f.pattern)?csString.prototype.toLowerCase.call(w)===csString.prototype.toLowerCase.call(f.pattern):!1;case"boolean":return w===f.pattern||w===csString(f.pattern);case"number":return Nt(w)?Number(w)===Number(f.pattern):!1;default:return w===f.pattern}case"starts_with":return L(f.pattern)?csString.prototype.indexOf.call(w,f.pattern)===0:!1;case"ends_with":return L(f.pattern)?Qi(w,f.pattern):!1;case"contains":return L(f.pattern)?csString.prototype.indexOf.call(w,f.pattern)!==-1:!1;case"regex":if(!L(f.pattern))return!1;try{return new csRegExp(f.pattern).test(w)}catch(_){return J.warn(`targeting.matchOperation.regex invalid ${_==null?void 0:_.message}`),!1}case"simple":return L(f.pattern)?v(w)===v(f.pattern):!1;case"greater_than":return Number(w)>Number(f.pattern);case"less_than":return Number(w)<Number(f.pattern);case"exact_date":{let _=Number(f.pattern);if(!Ht(_))return!1;let R=new csDate(_*1e3);return new csDate(w).toDateString()===R.toDateString()}case"exact_days_ago":return o(f,w);case"more_than_days_ago":return c(f,w);case"less_than_days_ago":return u(f,w);case"unknown":return p(w);default:return J.warn(`targeting.matchOperation.regex not managed operation ${f.match_operation}`),!1}}function o(f,w){let _=new csDate,R=_.setDate(_.getDate()-Number(f.pattern)),H=new csDate(R);return new csDate(w).toDateString()===H.toDateString()}function c(f,w){let _=Number(f.pattern);if(!Ht(_))return!1;let R=Number(_)+1,H=new csDate,U=new csDate(H);return U.setDate(H.getDate()-R),new csDate(w).getTime()<=U.getTime()}function u(f,w){let _=Number(f.pattern);if(!Ht(_))return!1;if(_===0)return o(f,w);let R=new csDate,H=new csDate(R);return H.setDate(R.getDate()-_),new csDate(w).getTime()>=H.getTime()}function p(f){return Nt(f)?L(f)?csString.prototype.trim.call(f)==="":Rr(f)?f===!0:Ht(f)?f!==0:!1:!0}function v(f){let w=Xt(f,"http://")||Xt(f,"https://")?f:`https://${f}`,_=Oh(w);return _!==null?csString.prototype.replace.call(_.host,/^www./,""):f}}(s||(s={})),s})(),ca={isLegacyURL:s=>s.component==="url",isLegacyTrigger:s=>s.component==="trigger",isURL:s=>s.type===lv.URL},hv=(()=>{class s{constructor(){this.$g=new qr,this.zg=[],this.Gg=[]}setTargetingRules(t){this.$g.setRegexRules(csArray.prototype.filter.call(t,ca.isURL));for(let e of t)ca.isLegacyURL(e)?csArray.prototype.push.call(this.zg,e):ca.isLegacyTrigger(e)&&csArray.prototype.push.call(this.Gg,e)}matchUrl(t){return zl.isUrlMatching(this.zg,t)||this.$g.evaluateUrl(t)}matchTrigger(t){return zl.isMatching(this.Gg,t)}}return s})(),uv=(()=>{class s extends re{constructor(t,e,i){super(),this.qa=t,this.Xh=e,this.w=i}init(){this.Kh=new hv,this.qa&&this.Kh.setTargetingRules(this.qa)}onStart(){}checkInitialUrlTargetingRules(){let t=this.w.getAnonymizedUrl();this.Jh(t,"url")&&this.Xh()}onStop(){}onTargetingRulesArtificialPageview(t){this.isStarted&&this.Jh(t,"url")&&this.Xh()}onExternalEvent(t){this.isStarted&&this.Jh(t.name,"trigger")&&this.Xh()}Jh(t,e){var i,r;return e==="url"&&L(t)&&(!((i=this.Kh)===null||i===void 0)&&i.matchUrl(t))?!0:!!(e==="trigger"&&(!((r=this.Kh)===null||r===void 0)&&r.matchTrigger(t)))}}return s})(),dv=(()=>{class s{constructor(t,e,i,r,o,c){this.qa=t,this.NA=e,this.S=i,this.bt=r,this.F=o,this.w=c}init(){this.so=new uv(this.qa,this.NA,this.w),this.F.addListener(this.so),this.so.init()}start(){this.so.start()}stop(){this.so.stop()}checkInitialUrlTargetingRules(){this.so.checkInitialUrlTargetingRules()}emitTargetingCollectState(){let t=this.bt.getInitialCollectState();t===Q.ANALYTICS_ONLY?this.S.emitCollectStateChange(Q.ANALYTICS_ONLY_RULES_TARGETING,be.ETR_OFF):t===Q.RECORDING_GLOBAL_SAMPLING&&this.S.emitCollectStateChange(Q.RECORDING_RULES_TARGETING,be.ETR_OFF)}}return s})(),Lu=["networkRequest:maskUrls"],pv=["networkRequest:maskUrls:reset"],fv=(()=>{class s{constructor(t,e){this.qg=t,this.ft=e}init(){this.qg.register(Lu,t=>{if(L(t)){this.ft.addPartialUrlMaskingPattern(t);return}if(csArray.isArray(t))for(let e of t)L(e)&&this.ft.addPartialUrlMaskingPattern(e)}),this.qg.register(pv,()=>this.ft.resetPartialUrlMaskingPatterns())}}return s})(),Uu=":";function Gl(s){let n=[],t=gv(s),e=csString.prototype.split.call(t,"/");for(let i of e)Xt(i,Uu)?csArray.prototype.push.call(n,{key:i,value:`CS_ANONYMIZED_${csString.prototype.toUpperCase.call(csString.prototype.slice.call(i,1))}`}):csArray.prototype.push.call(n,{key:i,value:null});return n}function gv(s){let n=s;return Xt(s,"/")&&(n=csString.prototype.substring.call(n,1)),Qi(s,"/")&&(n=csString.prototype.slice.call(n,0,-1)),n}var Vu=(()=>{class s{constructor(){this.Wg=new Set,this.Yg=[],this.Qh=new Set,this.Zh=[]}addUrlMaskingPattern(t){if(this.Wg.has(t))return;this.Wg.add(t);let e=Gl(t);csArray.prototype.push.call(this.Yg,e)}getUrlMaskingPatterns(){return this.Yg}resetPartialUrlMaskingPatterns(){this.Qh.clear(),this.Zh=[]}addPartialUrlMaskingPattern(t){if(this.Qh.has(t))return;this.Qh.add(t);let e=Gl(t);csArray.prototype.push.call(this.Zh,e)}getPartialUrlMaskingPatterns(){return this.Zh}}return s})();var mv=(()=>{class s{constructor(t,e,i){this.f=t,this.O=e,this.R=i,this.Qe=F.now()}resetStartTime(){this.Qe=F.now()}getSessionData(){let{projectId:t}=this.f,e=this.O.getVisitor();e==null&&J.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{id:i,visitsCount:r}=e!=null?e:{},o=this.R.getSession();o===null&&J.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{pageNumber:c}=o!=null?o:{};return{projectId:t,userId:i,sessionNumber:r,pageNumber:c,relativeTimestamp:F.now()-this.Qe}}}return s})(),yv=["clearSession"],Ev=["extendSession"],Sv=["extendSessionV2"],vv=["getSessionData"],_v=["session:start:newVisitor"],wv=["session:clear:visitor"],bv=(()=>{class s{constructor(t,e,i,r){this.f=t,this.O=e,this.R=i,this.E=r}init(){this.tu=new mv(this.f,this.O,this.R),this.E.register(yv,()=>this.R.removeSession()),this.E.register(Ev,()=>this.R.extendSessionPeriodically(),{disableApplyPending:!0}),this.f.isHeapSideloadsCs()&&this.E.register(Sv,()=>this.R.extendSession(),{disableApplyPending:!0}),this.E.register(vv,()=>this.tu.getSessionData(),{disableApplyPending:!0}),this.E.register(_v,()=>this.O.renewVisitor()),this.E.register(wv,()=>{this.O.resetVisitor()},{disableApplyImmediate:!0})}onBeforeNaturalPageView(){this.O.createOrUpdateVisitor(),this.R.createOrUpdateSession()}onBeforeArtificialPageView(){this.O.createOrUpdateVisitor(),this.R.createOrUpdateSession()}onAfterNaturalPageView(){this.tu.resetStartTime()}onAfterArtificialPageView(){this.tu.resetStartTime()}onOptout(){this.O.removeVisitor(),this.R.removeSession()}onCollectStateChange(t){this.R.updateCollectState(t)}}return s})(),Tv=(()=>{class s{constructor(t,e,i,r,o,c,u,p,v,f,w,_,R,H,U,I,P,$,q,M,Z,at,gt,Vt,Ft,N,z,Y,st,Pt,$t,ae,Ue,os){this.Et=t,this.Wi=e,this.ye=i,this.O=r,this.R=o,this.Y=c,this.Cs=u,this.S=p,this.E=v,this.eu=f,this.f=w,this.su=_,this.ai=R,this.io=H,this._t=U,this.N=I,this.Q=P,this.Z=$,this.w=q,this.xA=M,this.F=Z,this.ut=at,this.vt=gt,this.Xg=Vt,this.ne=Ft,this.LA=N,this.C=z,this.Vt=Y,this.M=st,this.wt=Pt,this.bt=$t,this.nt=ae,this.ve=Ue,this.Es=os,this.UA=(ce=!1)=>{let Dt=this.R.getSession();Dt===null?(this.Vn=new dv(this.f.recordTargetingRules,this.Kg,this.S,this.bt,this.F,this.w),this.Vn.init(),this.Vn.start()):(Dt.collectState===Q.RECORDING_RULES_TARGETING||Dt.collectState===Q.ANALYTICS_ONLY_RULES_TARGETING)&&this.Kg(ce)},this.Kg=(ce=!1)=>{this.Hn.onLoad(()=>{var Dt,Ce;(Dt=this.Vn)===null||Dt===void 0||Dt.emitTargetingCollectState(),(Ce=this.Vn)===null||Ce===void 0||Ce.stop(),this.S.emitStartTracking(ce)}),this.no(ce)},this.no=(ce=!1)=>{this.ai.isActive()||(this.nt.init(),this.iu.start(ce),this.Hn.start())},this.VA=()=>{this.S.emitBeforeSessionRenewal(),this.Bn(!0),this.S.emitAfterSessionRenewal()},this.jA=()=>{this.S.emitBeforeSessionRenewal(),this.bt.refreshQuota(ce=>{ce!==Q.QUOTA_REACHED&&(this.Bn(!0),this.S.emitAfterSessionRenewal())})}}start(){if(this.su.init(),this.ai.init(),this.ai.isActive())return;let t,e,i,r,o,c,u,p,v,f,w,_,R,H,U,I,P,$,q;this.C.schedule(()=>{U=new cv(this.Y),_=new gg(this.Q),R=new Vh(()=>{}),I=new jh,q=new Wf;let M=new ov(R,this.nt,I,$,q,this.Wa());H=new av(this.Wa(),this.nt,M,I,P);let Z=new rv(this.S,this.E,this.nt,M,I,P,$);Z.init(),this.S.addListener(Z),t=new Gm(this.f,this.Wi,this.O,this.Q,_,this.E,this.Y,new og(J),this.ut,this.Vt,this.F,H,this.Ks),e=new Cy(this.E,this.R,this.f,this.Et,this.ye,this.N),w=new ZS(H,this.f);let at=null,gt=new vu;i=new Xy(this.O,this.R,this.E,this.ut,at,this.f,gt,w),r=new ky(this.f,this.Wi,this.O,this.E,this.N,this.Y,this.w),this.f.isHeapSideloadsCs()&&(this.ve||(this.ve=new nE),this.Jg=new iE(this.ve,this.E),this.S.addListener(this.Jg),this.Jg.init());let Vt;if(this.f.isHeapSideloadsCs()){Vt=new bg;let Ft=new _g(Vt,this.E);this.S.addListener(Ft),Ft.init()}this.iu=new pE(this.f,this.E,this.S,this.Wi,this.O,this.R,this.Cs,this._t,this.vt,this.w,this.ne,gt,this.F,this.ve,Vt),this.Qg=new bv(this.f,this.O,this.R,this.E),u=new Zy(this.f,this.E,this.ye,this.Wi,this.F),p=new Ky(this.E),v=new yg,this.Hn=new nu}),this.f.apiErrors.enabled&&this.C.schedule(()=>{this.ft=new Vu,this.HA=new fv(this.E,this.ft),this.HA.init()}),this.f.apiErrors.enabled&&this.C.schedule(()=>{var M,Z;let at=new sy(this.f.apiErrors,this.N);this.pt=new Km(new lm,new am,at),this.fe=new Jm(this.ft,this.Z,!!(!((Z=(M=this.f)===null||M===void 0?void 0:M.experimental)===null||Z===void 0)&&Z.anonymizeNameInUrls)),this.kn=new Qm;let gt=new Ym(this.pt,this.fe,this.f,this.Wi,this.ut,this.E,this.Vt);gt.init(),this.S.addListener(gt)}),this.f.customErrors.enabled&&this.C.schedule(()=>{var M,Z,at;let gt;this.Qs=new dy(this.N,!((at=(Z=this.f)===null||Z===void 0?void 0:Z.experimental)===null||at===void 0)&&at.anonymizeNameInUrls?this.Z:void 0);let Vt=new ay(this.Qs,this.f,this.Wi,this.E,this.F,this.Vt,this.ut,gt);Vt.init(),this.S.addListener(Vt)}),this.f.jsErrorsEnabled&&this.C.schedule(()=>{this.Rs=new Sy,this.ge=new _y(this.N,this.w);let M=new Ey(this.Rs,this.ge,this.f,this.Wi,this.ut,this.E,this.F,this.w,this.Vt);M.init(),this.S.addListener(M)}),this.C.schedule(()=>{this.io.init()}),this.C.schedule(()=>{i.init()}),this.C.schedule(()=>{e.init()}),this.C.schedule(()=>{r.init()}),this.C.schedule(()=>{this.Xg.init()}),this.C.schedule(()=>{this.iu.init()}),this.C.schedule(()=>{this.Qg.init()}),this.C.schedule(()=>{u.init()}),this.C.schedule(()=>{this.xA.init()}),this.C.schedule(()=>{p.init()}),this.C.schedule(()=>{v.init()}),this.C.schedule(()=>{this.LA.init()}),this.C.schedule(()=>{this.S.addListener(this.Qg),this.S.addListener(this.eu),this.S.addListener(t),this.S.addListener(this.io),this.S.addListener(i),this.S.addListener(r),this.S.addListener(this.Xg),this.S.addListener(this.iu),this.S.addListener(u),this.S.addListener(e),this.S.addListener(v),this.S.addListener(U)}),xn.isRecordingSupported()&&this.C.schedule(()=>{let M=new QS(w,this.R,this.f,this.Et,this.E,this.N,this.Y,R,this.ge,this.pt,this.fe,this.ft,this.S,this.F,this.ut,this.ne,this.Vt,this.Z,this.kn,this.Wa(),this.Qs,P);M.init(),this.S.addListener(M),i.setRecordingService(M.recordingService)}),this.C.schedule(()=>{var M;let Z,at;if(at=new eu(this.F),Z=new tu(this.E,at,this.f,this.M,this.wt,this.O,this.N,this.Wa(),this.nt),Z.init(),!((M=this.f.voc)===null||M===void 0)&&M.enabled&&!this.f.vocData){let gt=new om(this.f,this.E,this.w,Z,at);gt.init(),this.S.addListener(gt)}}),this.C.schedule(()=>{t.init()}),this.f.isHeapSideloadsStartDataCollection()&&this.C.schedule(()=>{this.E.register(["startDataCollection"],()=>{this.no()})}),this.C.schedule(()=>{this.f.isQuotaEnabled()?this.Y.onSessionExpired(()=>{this.jA()}):this.Y.onSessionExpired(()=>{this.VA()}),this.Bn()})}Bn(t=!1){var e,i,r;if(this.f.hasTargetingRules()){this.UA(t),this.E.start(),(e=this.Ks)===null||e===void 0||e.start(),this.Vn&&this.Vn.checkInitialUrlTargetingRules();return}this.E.start(),(i=this.Ks)===null||i===void 0||i.start(),this.Hn.onLoad(()=>{this.S.emitStartTracking(t)}),(!qh(this.f)&&!this.f.isHeapSideloadsStartDataCollection()||t)&&this.no(t)}Wa(){if(this.it)return this.it;let t=new qr;return this.it=new Hh(this.f,this.w,t,this._t),this.it.init(),this.it.shouldUseAnonymization()&&ot.counters.pageAnonymisation.count("anonymized-on-start"),this.it}}return s})(),Av=(()=>{class s{constructor(t,e,i,r,o,c,u,p){this.f=t,this.O=e,this.Xe=i,this.Zg=r,this.BA=o,this.FA=c,this.$A=u,this.nu=p}compute(t){var e,i;this.f.crossDomainTracking&&!this.f.cookielessTrackingEnabled?this.f.crossDomainSingleIframeTracking?(e=this.$A)===null||e===void 0||e.start(()=>this.ru(t)):(i=this.FA)===null||i===void 0||i.applyUpToDate(()=>this.ru(t)):this.ru(t)}ru(t){this.BA.handle(),this.Zg.clear(),this.zA()?(this.Zg.restoreClearedVisitor(),t(!0)):(this.Xe.exclude(this.f),t(!1))}zA(){let t=gi.boolean(this.f.sampleRate);return this.nu.isForceIncluded()||!this.Xe.isExcluded()&&this.O.doesVisitorExist()||!this.Xe.isExcluded()&&t}}return s})(),ql=(()=>{class s{constructor(t,e,i,r){this.f=t,this.gt=e,this.S=i,this.R=r,this.GA=10*1e3}createOrUpdateVisitor(){var t;let e=this.getVisitor();e===null&&(e=this.qA(),(t=this.R)===null||t===void 0||t.removeSession()),this.WA(e),this.setVisitor(e)}qA(){return{id:Zh.generate(),visitsCount:0,appliedTrackingDraw:this.f.lastTrackingDraw,creationTimestamp:jc(),lastVisitTimestamp:0,hitTimestamp:0,expires:F.now()+this.f.visitorCookieTimeout,allowSubdomains:this.f.allowSubdomains,identityPrint:null}}WA(t){let e=jc();this.R&&!this.R.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=e),t.hitTimestamp=e,t.appliedTrackingDraw=this.f.lastTrackingDraw,this.tm=t.visitsCount}getRequestParameters(){let t=this.getVisitor();return t?{uu:t.id,sn:`${t.visitsCount}`,hd:`${t.hitTimestamp}`}:{}}getVisitor(){return this.gt.get()}setVisitor(t){this.gt.set(t)}doesVisitorExist(){return this.gt.get()!==null}resetVisitor(){this.em(),this.S.emitAfterVisitorCleared()}removeVisitor(){this.gt.remove()}hasAllowSubdomainsChanged(){let t=this.getVisitor();return t?t.allowSubdomains!==this.f.allowSubdomains:!1}handleSubdomainChange(){this.gt.handleSubdomainChange()}isSessionRenewed(){let t=this.getVisitor();return t===null||this.tm===void 0?!1:t.visitsCount!==this.tm}YA(){return!dt(this.sm)||F.now()-this.sm>this.GA}renewVisitor(){this.YA()?(this.sm=F.now(),this.em(),this.S.emitAfterVisitorRenewal()):J.warn("session:start:newVisitor is trying to renew visitor under time limit")}em(){this.S.emitBeforeVisitorRenewal(),this.removeVisitor()}}return s})(),Fe="_cs_s",Ga=18e5,la=".",Rv=13,Er=(()=>{let s;return function(n){n[n.NOT_FOUND=0]="NOT_FOUND",n[n.EXPIRED=1]="EXPIRED",n[n.FOUND=2]="FOUND"}(s||(s={})),s})(),Cv=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.K=i,this.re=null,this.ou=!1}get(t){let e=this.getRawSession(t);return this.isValid(e)?Lh(e):null}getRawSession(t){if(t){let v=this.au();return Ra(v)}let{sessionString:e,status:i}=this.KA(),r=Ra(e);if(i!==Er.EXPIRED)return r;if(this.f.cookielessTrackingEnabled)return null;let o=this.au();if(!o)return null;let c=csString.prototype.split.call(o,la);if(!s.im(c))return o;let u=c[c.length-1],p=parseInt(u,10);return isNaN(p)||this.JA(p),r}onCookieToSet(t){this.Si=t}onCookieToRemove(t){this.vi=t}set(t,e=Ga){var i;let r=F.now()+e,o=If(t);o+=`${la}${r}`,this.QA(o,r),this.f.cookielessTrackingEnabled?this.K.setItem(Fe,o):(this.M.set(Fe,o,e),(i=this.Si)===null||i===void 0||i.call(this,Fe,o,e))}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(Fe):(this.M.delete(Fe),(t=this.vi)===null||t===void 0||t.call(this,Fe)),this.ZA()}handleSubdomainChange(){if(this.f.cookielessTrackingEnabled)return;let t=this.get(!0);t&&(this.f.allowSubdomains?this.M.delete(Fe,Fr.CURRENT_DOMAIN):this.M.delete(Fe,this.M.getRootDomain()),this.set(t))}isValid(t){return t!==null&&dc(t)}QA(t,e){this.re={sessionString:t,expires:e}}KA(){return this.re?this.re&&F.now()<=this.re.expires?{sessionString:this.re.sessionString,status:Er.FOUND}:{sessionString:this.re.sessionString,status:Er.EXPIRED}:{sessionString:this.au(),status:Er.NOT_FOUND}}ZA(){this.re=null}JA(t){this.re&&(this.re.expires=t,this.ou=!0)}isCacheRefreshed(){return this.ou}resetCacheRefreshed(){this.ou=!1}au(){if(this.f.cookielessTrackingEnabled){let e=this.K.getItem(Fe);return!e||this.nm(e)?null:e}let t=this.M.get(Fe);return!t||this.nm(t)?null:t}nm(t){let e=csString.prototype.split.call(t,la);if(!s.im(e))return!1;let i=parseInt(e[e.length-1],10);return!isNaN(i)&&F.now()>i}static im(t){return t[t.length-1].length===Rv}}return s})(),Ic=60*1e3,Iv=60*Ic,Pv=4*Iv-Ic,ji=(()=>{let s;return function(n){n[n.NO=0]="NO",n[n.WITHDRAWN=1]="WITHDRAWN",n[n.GRANTED=2]="GRANTED"}(s||(s={})),s})(),Ov=(()=>{class s{constructor(t,e,i,r,o){this.Le=t,this.bt=e,this.S=i,this.t0=r,this.e0=o,this.ro=null,this.lu=0,this.oo=ji.NO}setDynamicVariablesService(t){this.s0=t}createOrUpdateSession(){this.hu(),this.i0=F.now(),this.lu=0;let t=this.rm();t===null?(t=this.n0(),this.Ya(t),this.S.emitSessionCreated()):(t=this.bt.sanitizeSessionCollectState(t),this.r0(t),t.collectState=this.bt.getEligibleCollectState(t)),this.setSession(t)}grantReplayRecording(t){t.collectState=this.bt.getInitialCollectState(),t.collectState=this.bt.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)}grantReplayRecordingBeforeSessionStart(){this.oo=ji.GRANTED}withdrawnReplayRecording(t){t.collectState=this.bt.getRecordingConsentWithdrawn(),this.setSession(t)}withdrawnReplayRecordingBeforeSessionStart(){this.oo=ji.WITHDRAWN}Ya(t){this.oo===ji.WITHDRAWN?(t.collectState=this.bt.getRecordingConsentWithdrawn(),this.setSession(t)):this.oo===ji.GRANTED?t.collectState=this.bt.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.bt.computeInitialCollectState(t),this.oo=ji.NO}n0(){return{pageNumber:1,collectState:this.bt.getInitialCollectState(),replayConsent:this.t0?Aa.NOT_EXPRESSED:Aa.UNNECESSARY,etrStatus:De.ETR_NOT_SAVED_SESSION}}r0(t){t.pageNumber+=1}isReplayRecorded(){let t=this.getSession();return!!t&&this.bt.isReplayRecorded(t)}isTemporarilyRecorded(){let t=this.getSession();return(t==null?void 0:t.collectState)===Q.RECORDING_TEMPORARILY}getRequestParameters(){let t={},e=this.getSession();return e!==null&&(t.pn=`${e.pageNumber}`),t}getSession(){return this.Le.get()}rm(){return this.Le.get(!0)}doesSessionExist(){return this.Le.get()!==null}setSession(t){this.Le.set(t),this.S.emitSessionRefreshed()}refreshSession(){let t=this.rm();t&&this.setSession(t)}removeSession(){this.Le.remove(),this.S.emitSessionRemoved()}getCollectStates(){let t=this.getSession(),e=[];return t&&(t.collectState!==Q.ANALYTICS_ONLY&&csArray.prototype.push.call(e,t.collectState===Q.RECORDING_RULES_TARGETING?Q.RECORDING_GLOBAL_SAMPLING:t.collectState),this.e0&&csArray.prototype.push.call(e,Q.RECORDING_ETR_SAMPLING)),e}updateCollectState(t){let e=this.getSession();e!==null&&(e.collectState=t,this.setSession(e))}hasValidSession(){let t=this.Le.getRawSession();return this.Le.isValid(t)}handleSubdomainChange(){this.Le.handleSubdomainChange()}pollCacheRefreshEvent(t=!0){let e=this.Le.isCacheRefreshed();return e&&t&&this.Le.resetCacheRefreshed(),e}extendSessionPeriodically(){this.ro||this.om()}extendSession(){let t=this.getSession();return t===null?(J.warn("extendSession is trying to extend an expired session"),this.hu(),!1):(this.setSession(t),!0)}om(){if(this.o0()){this.hu();return}this.extendSession()&&(this.a0(),this.c0())}c0(){this.ro=window.csSetTimeout(()=>{this.om()},Ga-Ic)}o0(){return Pv-(F.now()+Ga-this.i0)<0}hu(){this.ro&&(window.csClearTimeout(this.ro),this.ro=null)}a0(){this.lu+=1,this.s0.trackDynamicVariable("session_expiry_update",this.lu)}}return s})(),Nv=(()=>{class s{constructor(t,e,i){this.f=t,this.O=e,this.Xe=i}clear(){this.l0()&&(this.am=this.O.getVisitor(),this.O.removeVisitor()),this.h0()&&this.Xe.removeExclusion()}l0(){return this.O.doesVisitorExist()&&this.O.getVisitor().appliedTrackingDraw!==this.f.lastTrackingDraw}h0(){return this.Xe.getAppliedTrackingDraw()!==this.f.lastTrackingDraw}restoreClearedVisitor(){this.am&&this.O.setVisitor(this.am)}}return s})(),Mv=(()=>{class s{constructor(t,e,i){this.O=t,this.R=e,this.u0=i}handle(){this.O.hasAllowSubdomainsChanged()&&(this.O.handleSubdomainChange(),this.R.handleSubdomainChange(),this.u0.handleSubdomainChange())}}return s})(),Bs="_cs_c",ui=(()=>{let s;return function(n){n[n.NOT_REQUIRED=0]="NOT_REQUIRED",n[n.NOT_EXPRESSED=1]="NOT_EXPRESSED",n[n.GRANTED=2]="GRANTED",n[n.WITHDRAWN=3]="WITHDRAWN"}(s||(s={})),s})(),kv=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.wt=i}get(){let t;return this.f.cookielessTrackingEnabled?t=this.wt.getItem(Bs):t=this.M.get(Bs),t===null?t:Number(t)}set(t){this.f.cookielessTrackingEnabled?this.wt.setItem(Bs,csString(t)):this.M.set(Bs,csString(t),Qa)}remove(){this.f.cookielessTrackingEnabled?this.wt.removeItem(Bs):this.M.delete(Bs)}handleSubdomainChange(){this.f.cookielessTrackingEnabled||(this.f.allowSubdomains?this.M.delete(Bs,Fr.CURRENT_DOMAIN):this.M.delete(Bs,this.M.getRootDomain()))}}return s})(),Dv=(()=>{class s{constructor(t,e,i){this.f=t,this.R=e,this.S=i}grantReplayConsent(){if(!Ys.isReplayConsentNeeded(this.f))return;let t=this.R.getSession();if(!t){this.R.grantReplayRecordingBeforeSessionStart();return}Ys.isRecordingBlockedByConsent(t)&&(this.R.grantReplayRecording(t),this.S.emitAfterReplayRecordingConsentGranted())}withdrawReplayConsent(){if(!Ys.isReplayConsentNeeded(this.f))return;let t=this.R.getSession();if(!t){this.R.withdrawnReplayRecordingBeforeSessionStart();return}Ys.isRecordingWithDrawn(t)||(this.R.withdrawnReplayRecording(t),this.S.emitAfterReplayRecordingConsentWithdrawn())}}return s})(),xv=["replay:consent:unanonymized:granted","trackConsentGranted"],Lv=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],Uv=["replay:consent:startForSession:granted"],Vv=["replay:consent:startForSession:withdrawn"],jv=(()=>{class s{constructor(t,e,i,r,o){this.f=t,this.E=e,this._t=i,this.R=r,this.S=o}init(){this.cm=new Dv(this.f,this.R,this.S),this._t.setInitialConsent(),this.ht()}ht(){this.E.register(xv,()=>{this._t.grantReplayAnonymizationConsent()}),this.E.register(Lv,()=>{this._t.withdrawReplayAnonymizationConsent()}),this.E.register(Uv,()=>{this.cm.grantReplayConsent()}),this.E.register(Vv,()=>{this.cm.withdrawReplayConsent()})}onOptout(){this._t.removeAllConsents()}onBeforeVisitorRenewal(){this._t.removeAllConsents()}onAfterVisitorRenewal(){this._t.setInitialConsent()}onAfterVisitorCleared(){this._t.setInitialConsent()}}return s})(),Hv=(()=>{class s{constructor(t,e,i){this.f=t,this.gt=e,this.S=i}setInitialConsent(){let t=this.gt.get();(t===null||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()}hasConsentRequiredChanged(t){let e=this.f.consentRequired;return e&&t===ui.NOT_REQUIRED||!e&&t!==ui.NOT_REQUIRED}handleSubdomainChange(){this.gt.handleSubdomainChange()}setDefaultReplayAnonymization(){let t=this.f.consentRequired?ui.NOT_EXPRESSED:ui.NOT_REQUIRED;this.gt.set(t)}grantReplayAnonymizationConsent(){this.f.consentRequired&&(this.gt.set(ui.GRANTED),this.S.emitReplayUnanonymizationConsentGranted())}withdrawReplayAnonymizationConsent(){this.f.consentRequired&&(this.gt.set(ui.WITHDRAWN),this.S.emitReplayUnanonymizationConsentWithdrawn())}removeAllConsents(){this.gt.remove()}isReplayUnanonymizedAllowedByConsent(){return!this.f.consentRequired||this.gt.get()===ui.GRANTED}getRequestParameters(){return{uc:`${this.gt.get()}`}}}return s})(),Bv=(()=>{class s{constructor(t,e,i,r,o,c,u){this.S=t,this.E=e,this.eu=i,this.su=r,this.ai=o,this.d0=c,this.io=u}start(){this.S.addListener(this.d0),this.S.addListener(this.io),this.S.addListener(this.eu),this.io.init(),this.su.init(),this.ai.init(),!this.ai.isActive()&&this.E.start()}}return s})(),Fv=(()=>{class s{constructor(t,e){this.Ot=t,this.gt=e}exclude(t){this.gt.set(csString(t.lastTrackingDraw))}removeExclusion(){this.gt.remove()}isExcluded(){return this.p0()||this.f0()}p0(){return this.getAppliedTrackingDraw()!==0}getAppliedTrackingDraw(){return this.gt.get()}f0(){return csString.prototype.indexOf.call(this.Ot.href,ws)>0}}return s})(),$v=(()=>{class s{constructor(t){this.Ui=t}onOptout(){this.Ui.removeExclusion()}}return s})(),ha=(()=>{let s;return function(n){n.SessionReplay="SR",n.None=""}(s||(s={})),s})(),zv=".^",ju=".*",Gv=(()=>{class s{constructor(t){this.w=t,this.du=new csRegExp(`${zv}`)}setExcludeUrlForSessionReplay(t){try{this.du=new csRegExp(t)}catch{J.warn(`excludeURLforReplay - invalid regex '${t}'`),this.du=new csRegExp(`${ju}`)}}lm(){return this.du.test(this.w.getAnonymizedUrl())?ha.SessionReplay:ha.None}isUrlExcludedForSessionReplay(){return this.lm()===ha.SessionReplay}getRequestParameters(){return{ex:this.lm()}}}return s})(),Hu=["excludeURLforReplay"],qv=(()=>{class s{constructor(t,e){this.Ui=t,this.E=e}init(){this.E.register(Hu,t=>{if(L(t))this.Ui.setExcludeUrlForSessionReplay(t);else throw new pe("excludeURLforReplay")})}}return s})(),ua="_cs_inc",Wv=(()=>{class s{constructor(t,e){this.Ot=t,this.M=e}isForceIncluded(){return this.g0()||this.m0()}isForceReplayRecorded(){return this.y0(Q.RECORDING_GLOBAL_SAMPLING)}g0(){return this.M.get(ua)!==null}y0(t){return this.M.get(ua)===t}m0(){return csString.prototype.indexOf.call(this.Ot.href,ua)>0}}return s})(),Tn="_cs_optout",Yv=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.wt=i}get(){return this.f.cookielessTrackingEnabled?this.wt.getItem(Tn):this.M.get(Tn)}set(t){this.f.cookielessTrackingEnabled?this.wt.setItem(Tn,t):this.M.set(Tn,t,Qa)}}return s})(),Wl="1",Xv=(()=>{class s{constructor(t,e,i){this.S=t,this.Ot=e,this.gt=i}init(){!this.isActive()&&this.E0()&&this.activate()}isActive(){return this.gt.get()===Wl}activate(){this.S.emitOptout(),this.gt.set(Wl)}E0(){return csString.prototype.indexOf.call(this.Ot.href,Tn)>0}}return s})(),Kv=["optout"];var Jv=(()=>{class s{constructor(t,e){this.E=t,this.ai=e}init(){this.E.register(Kv,()=>{this.ai.activate()})}}return s})();var Qv=(()=>{class s{constructor(t,e){this.E=t,this.ut=e}init(){this.ut.addListener(this.E)}onOptout(){this.E.stop()}onBeforeSessionRenewal(){this.E.stop()}}return s})();var Zv=(()=>{let s;return function(n){n.UXA="_uxa",n.WVT="cs_wvt"}(s||(s={})),s})(),t_=(()=>{class s extends re{constructor(t){super(),this.pu=t,this.hs={}}register(t,e,i){for(let r of t){let o=(...c)=>{try{let u=e(...c);return ot.counters.commandApplied.count(r),u}catch(u){u instanceof pe?(ot.counters.commandMisuse.count(r),J.warn(`Misused Command: ${r}; Args: ${csJSON.stringify(c)}; Error: ${Cs(u)?u.stack:u}`)):(ot.counters.commandError.count(r),J.error(`Command Error - ${r}: ${Cs(u)?u.stack:u}`))}};this.hs[r]={callback:o,configuration:i},this.hs}}onStart(){this.v0(),this._0()}onStop(){for(let t of this.pu)window[t]=[]}applyFromIntegration(t,e,i){this.hm(t,e,`Commands.apply.from.integration: ${i}`),ot.counters.commandsFromIntegrations.count(t)}applyFromImplementation(t,e,i){this.hm(t,e,`Commands.apply.from.implementation: ${i}`),ot.counters.commandsFromCSTC.count(t)}onIframeCommands(t){for(let e of t.commands)this.w0(e.name,e.params,t.iframePath),ot.counters.commandsFromIframe.count(e.name)}hm(t,e,i){if(!this.isStarted){window._uxa.push([t,...e]);return}J.tryToExecute(i,()=>{if(this.hs[t])return this.hs[t].callback(...e)})()}w0(t,e,i){J.tryToExecute(`Commands.apply.from.iframe: ${i}`,()=>{if(this.hs[t])return this.hs[t].callback(...e)})()}v0(){for(let t of this.pu)window[t].forEach(([e,...i])=>this.um(e,i,!1))}_0(){for(let t of this.pu)window[t]={push:([e,...i])=>this.um(e,i,!0)}}um(t,e,i){var r,o;if(this.hs[t]){if(((r=this.hs[t].configuration)===null||r===void 0?void 0:r.disableApplyPending)&&!i||((o=this.hs[t].configuration)===null||o===void 0?void 0:o.disableApplyImmediate)&&i)return;try{return this.hs[t].callback(...e)}catch(u){J.error(`Command ${t} failed - params: ${csJSON.stringify(e)}`,u)}}}}return s})();var Yl=(()=>{class s{constructor(t,e,i,r,o){this.f=t,this.O=e,this.R=i,this._m=r,this.Ns=o}getRequestParameters(){var t;let e={...hc(),...this.f.getRequestParameters()},i=this.R.getSession();i&&(e.pn=`${i.pageNumber}`);let r=this.O.getVisitor();if(r&&(e.sn=`${r.visitsCount}`,e.uu=`${r.id}`),!((t=this._m)===null||t===void 0)&&t.hasSubProjectId()&&(e.subProjectID=`${this._m.getSubProjectId()}`),this.I0(e),window.heap&&!this.f.isCsCrosswritingHeap())try{e.happid=window.heap.appid,window.heap.getSessionId&&(e.hsid=window.heap.getSessionId()),window.heap.getUserId?e.huu=window.heap.getUserId():window.heap.userId&&(e.huu=window.heap.userId),window.heap.getPageviewMetadata&&(e.hpvid=window.heap.getPageviewMetadata().pageviewId)}catch{delete e.happid,delete e.hsid,delete e.huu,delete e.hpvid}return e}I0(t){if(!this.Ns)return;let e=this.Ns.getSharedContext();e&&(t.happid=e.happid,t.t=e.pageTitle,t.fvt=csString(e.firstViewTime),t.fvurl=e.firstViewUrl,e.previousViewUrl&&(t.pvurl=e.previousViewUrl),t.url=e.currentViewUrl,e.sessionReferrer&&(t.fpvurl=e.sessionReferrer),t.sw=csString(e.screenWidth),t.sh=csString(e.screenHeight),t.cvt=csString(e.currentViewTime),e.encryptedIdentity&&(t.i=e.encryptedIdentity),e.cvarp&&(t.cvarp=e.cvarp))}}return s})(),e_=(()=>{class s{constructor(t,e){this.E=t,this.ps=e}init(){this.E.register(["debugEvents"],t=>{typeof t=="boolean"&&this.ps.updateDynamicFields("emitDebugEvents",t)})}}return s})();function Xl(s,n,t){if(!dt(n)&&!dt(t))return s.href;let e=dt(n)?Bu(n):s.pathname,i=dt(t)?Fu(t):s.search;return`${s.protocol}//${s.host}${e}${i}`}function Bu(s){return Xt(s,"/")?s:`/${s}`}function Fu(s){return Xt(s,"?")||s===""?s:`?${s}`}var da=(()=>{let s;return function(n){n[n.page=1]="page",n[n.onNextPageviewOnly=2]="onNextPageviewOnly"}(s||(s={})),s})(),s_=(()=>{class s{constructor(t,e){this.Ot=t,this.Z=e,this.P0=10}overridePath(t,e){if(t===""){this.Fn=void 0;return}let i=this.wm(e);i&&(this.mu=i),this.Fn=e?this.bm(t,e):t}overrideQuery(t,e){let i=this.wm(e);i&&(this.yu=i),this.co=e?this.bm(t,e):t}computeOverriddenUrl(t){return this.O0(t)?this.getAnonymizedUrl():t}N0(t){return(typeof t=="string"||typeof t=="number")&&t in da}O0(t){let e=this.ko(this.Ot.href);return this.ko(t)===e}ko(t){return Dp(t,"/")?csString.prototype.slice.call(t,0,-1):t}wm(t){return dt(t==null?void 0:t.lifespan)&&this.N0(t==null?void 0:t.lifespan)?t==null?void 0:t.lifespan:null}M0(){return this.mu&&this.mu in da}k0(){return this.yu&&this.yu in da}cleanupOverrideLifespan(){this.M0()&&(this.Fn=void 0,this.mu=void 0),this.k0()&&(this.co=void 0,this.yu=void 0)}getAnonymizedUrl(){let t=Xl(this.Ot,this.Fn,this.co);return this.Z.anonymizeUrl(t)}getUrl(){return Xl(this.Ot,this.Fn,this.co)}getAnonymizedPathAndQuery(){let t=dt(this.Fn)?Bu(this.Fn):this.Ot.pathname,e=dt(this.co)?Fu(this.co):this.Ot.search;return this.Z.anonymizeUrl(t+e)}getUrlProtocol(){return this.Ot.protocol}getRequestParameters(){return{url:this.getAnonymizedUrl()}}bm(t,e){return this.D0(e)?this.x0(t):this.L0(e)?this.U0(t):t}L0(t){return!!t.decodeURI}U0(t){return this.Tm(t,1,!1)}D0(t){return!!t.decodeURIDeep}x0(t){return this.Tm(t,this.P0,!0)}Tm(t,e,i){let r=t;for(let o=0;o<e;o++)try{let c=window.decodeURI(r);if(c===r)return r;r=c}catch{return r}return i&&J.warn(`decodeURIDeep limit reached: ${r}`),r}}return s})(),Pc=(()=>{class s{constructor(){this.listeners=[]}addListener(t){csArray.prototype.push.call(this.listeners,t)}}return s})(),i_=(()=>{class s extends Pc{emitPageEvent(t){for(let e of this.listeners)e.onPageEvent&&e.onPageEvent(t)}emitEventTriggerRecording(t,e){for(let i of this.listeners)i.onEventTriggerRecording&&i.onEventTriggerRecording(t,e)}emitCustomJavaScriptErrorEvent(t){for(let e of this.listeners)e.onCustomJavaScriptErrorEvent&&e.onCustomJavaScriptErrorEvent(t)}emitCustomErrorEvent(t){for(let e of this.listeners)e.onCustomErrorEvent&&e.onCustomErrorEvent(t)}emitUserIdentifierEvent(t){for(let e of this.listeners)e.onUserIdentifierEvent&&e.onUserIdentifierEvent(t)}emitExternalEvent(t){for(let e of this.listeners)e.onExternalEvent&&e.onExternalEvent({type:rt.EXTERNAL_EVENT,name:t,ts:0})}emitTargetingRulesArtificialPageview(t){for(let e of this.listeners)e.onTargetingRulesArtificialPageview&&e.onTargetingRulesArtificialPageview(t)}}return s})(),On="|iframe|",n_=(()=>{class s extends Pc{constructor(t,e,i,r){super(),this.V0=t,this.j0=e,this.H0=i,this.B0=r}emitIframeEvent(t,e,i){if(this.F0(e)&&t===null){J.error(`iframeEventEmitter received event ${e} with null iframe, content:${csJSON.stringify(i)}`);return}switch(e){case se.ChildLogMessage:this.$0(i);break;case se.AnalysisEvent:{let r=i,o=this.V0.transformEvent(t,r);o.isUserEvent?this.z0(o.event):this.G0(o.event);break}case se.RecordingEvent:{let r=i,o=this.B0.transformEvents(t,r);if(o.events.length===0)return;o.containsUserEvent?this.q0(o.events):this.W0(o.events);break}case se.JavascriptError:this.Y0(i);break;case se.ApiError:this.X0(i);break;case se.DetailedApiError:this.K0(i);break;case se.CustomError:this.J0(i);break;case se.EmerchandisingMessage:{let r=this.H0.transformEvent(t,i);this.Q0(r);break}case se.Commands:{let r=this.j0.transformEvent(t,i);this.Z0(r);break}case se.IntegrationCallback:this.tR(i);break;case se.StaticResource:this.eR(i);break;case se.TrackingContextRequestMessage:this.sR(i);break;default:J.error(`Parent received unknown data type from iframe : ${csJSON.stringify(i)}`)}}F0(t){let e=[se.AnalysisEvent,se.RecordingEvent,se.EmerchandisingMessage,se.Commands];return csArray.prototype.indexOf.call(e,t)!==-1}$0(t){let{message:e,errorCode:i,level:r}=t;switch(r){case Ot.debug:J.debug(e,i);break;case Ot.warn:J.warn(e,!0,i);break;case Ot.implementation:J.implementation(e,i);break;case Ot.error:J.error(e,i);break;case Ot.critical:J.critical(e,i);break}}z0(t){for(let e of this.listeners)e.onIframeAnalysisUserEvent&&e.onIframeAnalysisUserEvent(t)}G0(t){for(let e of this.listeners)e.onIframeAnalysisBrowserEvent&&e.onIframeAnalysisBrowserEvent(t)}q0(t){for(let e of this.listeners)e.onIframeRecordingUserEvent&&e.onIframeRecordingUserEvent(t)}W0(t){for(let e of this.listeners)e.onIframeRecordingBrowserEvent&&e.onIframeRecordingBrowserEvent(t)}Y0(t){for(let e of this.listeners)e.onIframeJavascriptError&&e.onIframeJavascriptError(t)}X0(t){for(let e of this.listeners)e.onIframeApiError&&e.onIframeApiError(t)}K0(t){for(let e of this.listeners)e.onIframeDetailedApiError&&e.onIframeDetailedApiError(t)}Q0(t){for(let e of this.listeners)e.onIframeEmerchandisingMessage&&e.onIframeEmerchandisingMessage(t)}Z0(t){for(let e of this.listeners)e.onIframeCommands&&e.onIframeCommands(t)}tR(t){for(let e of this.listeners)e.onIframeIntegrationCallback&&e.onIframeIntegrationCallback(t)}eR(t){for(let e of this.listeners)e.onIframeStaticResource&&e.onIframeStaticResource(t)}sR(t){for(let e of this.listeners)e.onTrackingContextRequestCallback&&e.onTrackingContextRequestCallback(t)}J0(t){for(let e of this.listeners)e.onIframeCustomError&&e.onIframeCustomError(t)}}return s})(),r_=(()=>{class s{setItem(t,e){window.localStorage.setItem(t,e)}getItem(t){return window.localStorage.getItem(t)}removeItem(t){window.localStorage.removeItem(t)}}return s})(),Oc=["setCustomVariable"],o_=(()=>{class s{constructor(t,e){this.E=t,this.vt=e}init(){this.E.register(Oc,(t,e,i,r)=>{this.vt.set(t,e,i,r)})}onAfterArtificialPageView(){this.vt.deleteNextPageOnlyCustomVariables()}onAfterNaturalPageView(){this.vt.deleteNextPageOnlyCustomVariables()}onOptout(){this.vt.removeCustomVariablesSession()}onBeforeVisitorRenewal(){this.vt.removeCustomVariablesSession(),this.vt.removeCustomVariablesPage()}}return s})(),Kl=512,Jl=255,pa={SESSION:["visit",2],PAGE:["page",3],NEXT_PAGE_ONLY:["nextPageOnly",4]},a_=(()=>{class s{constructor(t,e){this.N=t,this.gt=e,this.Yt={},this.Be={}}set(t,e,i,r){let o,c;if((Ht(t)||L(t))&&Number(t)>0&&Nt(e)&&Nt(i)&&!ts(e)&&!ts(i)&&this.iR(r)){let u=this.N.anonymizePII(csString(e)),p=this.N.anonymizePII(csString(i));if(o=[csString.prototype.slice.call(u,0,Kl),csString.prototype.slice.call(p,0,Jl)],c=i!=="",!dt(r)||csArray.prototype.indexOf.call(pa.SESSION,r)>=0){let v=this.getCustomVariablesSession();c?v[t]=o:delete v[t],this.setCustomVariableSession(v)}(!dt(r)||csArray.prototype.indexOf.call(pa.PAGE,r)>=0)&&(c?this.Yt[t]=o:delete this.Yt[t]),dt(r)&&csArray.prototype.indexOf.call(pa.NEXT_PAGE_ONLY,r)>=0&&(c?this.Be[t]=o:delete this.Be[t])}else throw new pe(Oc[0])}getCustomVariablesSession(){let t=this.gt.get();if(!t)return{};let e=window.csJSON.parse(t);return e!==null&&Js(e)?e:{}}setCustomVariableSession(t){this.gt.set(window.csJSON.stringify(t))}removeCustomVariablesSession(){this.gt.remove()}removeCustomVariablesPage(){this.Yt={}}getRequestParameters(){let t=this.getCustomVariablesSession();for(let i in this.Be)this.Be.hasOwnProperty(i)&&(this.Yt[i]=this.Be[i]);for(let i in this.Yt)this.Yt.hasOwnProperty(i)&&(t[i]=this.Yt[i]);if(window.csJSON.stringify(t).length<=2)return{};let e={cvars:this.Am(t)};return this.hasCustomVariablesPage()&&(e.cvarp=this.getCustomVariablesPage()),e}deleteNextPageOnlyCustomVariables(){if(Object.keys(this.Be).length>0)for(let t in this.Be)this.Be[t]===this.Yt[t]&&(delete this.Yt[t],delete this.Be[t])}hasCustomVariablesPage(){return this.Yt&&!ma(this.Yt)}getCustomVariablesPage(){return this.Am(this.Yt)}Rm(t){for(let e in t)if(t.hasOwnProperty(e)){let i=parseInt(e,10),r=t[e],o=r[0],c=r[1];(!td(i,1,20)||o.length>Kl||c.length>Jl)&&delete t[e]}}Am(t){this.Rm(t);let e=ma(t)?[]:t;return window.csJSON.stringify(e)}iR(t){return!dt(t)||L(t)||Ht(t)}getAllValidCustomVars(){let t=this.getCustomVariablesSession();for(let e in this.Be)this.Be.hasOwnProperty(e)&&(this.Yt[e]=this.Be[e]);for(let e in this.Yt)this.Yt.hasOwnProperty(e)&&(t[e]=this.Yt[e]);return this.Rm(t),t}}return s})(),Xe="_cs_id",Ql=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.K=i}onCookieToSet(t){this.Si=t}onCookieToRemove(t){this.vi=t}get(){let t;return this.f.cookielessTrackingEnabled?t=this.K.getItem(Xe):t=this.M.get(Xe),t?(bf(t)||J.warn(`Invalid visitor string: ${t}`),_f(t)):null}set(t){var e;let i=wf(t);if(this.f.cookielessTrackingEnabled)this.K.setItem(Xe,i);else{let r=new csDate(t.expires);this.M.set(Xe,i,r),(e=this.Si)===null||e===void 0||e.call(this,Xe,i,r)}}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(Xe):(this.M.delete(Xe),(t=this.vi)===null||t===void 0||t.call(this,Xe))}handleSubdomainChange(){if(this.f.cookielessTrackingEnabled)return;let t=this.get();t&&(t.allowSubdomains=this.f.allowSubdomains,this.f.allowSubdomains?this.M.delete(Xe,Fr.CURRENT_DOMAIN):this.M.delete(Xe,this.M.getRootDomain()),this.set(t))}}return s})(),c_=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"],l_=1024,h_=1024,u_=(()=>{class s{constructor(t,e){this.mt=t,this.f=e}getEventTargetPathAndHierarchy(t,e){let i=Zt(t),r={isNodeSensitive(o){return W.isMaskedElement(o)||W.isMaskedElementChild(o)},isAttributeSensitive(o,c){return W.isMaskedAttribute(o,c)},allWhitelistedAttributes:Th(this.f.whitelistedAttributes),attributeIgnoreTokens:c_,useAnonymization:e,attrMaxLength:h_,hierarchyMaxLength:l_};return this.mt.getElementPathAndHierarchy(i,r,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules})}getEventTargetPath(t){let e=Zt(t);return this.mt.getElementPath(e,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules})}getEventTargetPathAndTargetLink(t){let e=Zt(t),{path:i,firstAnchorParent:r}=this.mt.getElementPathAndFirstAnchorParent(e,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules}),o=this.nR(r)?r.href:"";return{path:i,targetLink:o}}hasValidEventTarget(t){let e=Zt(t);return this.mt.isValidElement(e)}getElementPath(t){return this.mt.getElementPath(t,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules})}nR(t){var e;return t!==null&&t.hasAttribute("href")&&!Dr((e=t.getAttribute("href"))!==null&&e!==void 0?e:"","#")}}return s})(),d_=(()=>{class s{constructor(t,e){this.Q=t,this.rR=e}transformEvent(t,e){this.oR(t,e.event);let i=this.Q.getElementPath(t);return this.aR(i,e.event),e}oR(t,e){if(pm(e)){let i=t.getBoundingClientRect();e.x=Math.round(i.left+e.x+Yt.windowOffsetX()),e.y=Math.round(i.top+e.y+Yt.windowOffsetY())}}aR(t,e){ru(e)&&(e.tgt=`${t}${On}${e.tgt}`),um(e)&&(e.tgtHM=`${t}${On}${e.tgtHM}`,this.rR||(e.tgtHMH=fu(e.tgtHM))),dm(e)&&(e.tgtLk=`${t}${On}${e.tgtLk}`)}}return s})(),p_=(()=>{class s{constructor(t){this.Q=t}transformEvent(t,e){let i=this.Q.getElementPath(t);return{iframePath:e.iframePath?`${i}${On}${e.iframePath}`:i,commands:e.commands}}}return s})(),f_=(()=>{class s{constructor(t){this.Q=t}transformEvent(t,e){if(e.products.length===0)return e;let i=this.Q.getElementPath(t),r=csArray.prototype.map.call(e.products,o=>({...o,targetPath:`${i}${On}${o.targetPath}`}));return{...e,products:r}}}return s})(),g_=(()=>{class s{constructor(){this.cR={clientX:2,clientY:3},this.lR={clientX:1,clientY:2},this.hR=[X.POINTER_DOWN,X.POINTER_MOVE,X.POINTER_UP],this.uR=[X.TOUCH_START,X.TOUCH_MOVE,X.TOUCH_END]}transformEvents(t,e){if(!At.isConnected(t))return e.events=csArray.prototype.filter.call(e.events,c=>c.type!==X.VISIBILITY_CHANGE),e.events.length===0||(J.warn(`IframeRecordingEventsTransformer received event ${se.RecordingEvent}
        from disconnected iframe, content:${csJSON.stringify(e.events)}`),e.events=[]),e;let i=bt(t),r=null;csArray.prototype.some.call(e.events,c=>this.Cm(c)||this.Im(c))&&(r=t.getBoundingClientRect());for(let c of e.events)this.Cm(c)?this.dR(r,c):this.Im(c)&&this.pR(r,c),c.context=c.context&&c.context.length>0?`${i}/${c.context}`:`${i}`;return e}pR(t,e){this.Pm(this.lR,t,e)}dR(t,e){this.Pm(this.cR,t,e)}Pm(t,e,i){i.args&&(i.args[t.clientX]=Math.round(e.left+i.args[t.clientX]),i.args[t.clientY]=Math.round(e.top+i.args[t.clientY]))}Cm(t){return csArray.prototype.indexOf.call(this.hR,t.type)!==-1}Im(t){return csArray.prototype.indexOf.call(this.uR,t.type)!==-1}}return s})(),m_=(()=>{class s{constructor(t){this.Eu=t}start(){this.Eu.onEvent(t=>this.J(t)),this.Eu.start()}stop(){this.Eu.stop()}J(t){let e=`Content Security Policy error. Violated directive: ${t.violatedDirective} - Source file: ${t.sourceFile}`;J.warn(e)}}return s})(),y_=(()=>{class s{constructor(){this.zt={boundElement:document,type:"securitypolicyviolation",listener:t=>this.securityPolicyViolationListener(t)}}start(){Mt(this.zt)}stop(){kt(this.zt)}onEvent(t){this.L=t}fR(t){if(!t)return!1;let e=t.disposition;return L(t.sourceFile)&&csArray.prototype.some.call(s.gR,i=>csString.prototype.indexOf.call(t.sourceFile,i)>0)&&e!=="report"}securityPolicyViolationListener(t){this.fR(t)&&this.L({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})}}return s.gR=["contentsquare","cdnssl.clicktale.net"],tt([B("Event handler type: securitypolicyviolation")],s.prototype,"securityPolicyViolationListener",null),s})(),E_=(()=>{class s{init(){this.Om=new m_(new y_),this.Om.start()}onOptout(){this.Om.stop()}}return s})();var Zl=1/0,{toString:S_}=Object.prototype;function v_(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":S_.call(s)}var Nc=s=>typeof s=="symbol"||typeof s=="object"&&s!=null&&v_(s)==="[object Symbol]";function $u(s){if(typeof s=="string"||Nc(s))return s;let n=`${s}`;return typeof s=="number"?n==="0"&&1/s===-Zl?"-0":n:s instanceof Number&&n==="0"&&1/s.valueOf()===-Zl?"-0":n}var __=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w_=/^\w*$/;function b_(s,n){return csArray.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||Nc(s)?!0:w_.test(s)||!__.test(s)||n!=null&&s in Object(n)}function Mc(s,n){if(typeof s!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");let t=function(...e){let i=n?n.apply(this,e):e[0],{cache:r}=t;if(r.has(i))return r.get(i);let o=s.apply(this,e);return t.cache=r.set(i,o)||r,o};return t.cache=new(Mc.Cache||Map),t}Mc.Cache=Map;var T_=500;function A_(s){let n=Mc(s,t=>{let{cache:e}=n;return e.size===T_&&e.clear(),t});return n}var R_=46,C_=/\\(\\)?/g,I_=csRegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),zu=A_(s=>{let n=[];return csString.prototype.charCodeAt.call(s,0)===R_&&csArray.prototype.push.call(n,""),csString.prototype.replace.call(s,I_,(t,e,i,r)=>{let o=t;return i?o=csString.prototype.replace.call(r,C_,"$1"):e&&(o=csString.prototype.trim.call(e)),csArray.prototype.push.call(n,o),t}),n});function P_(s,n){return csArray.isArray(s)?s:b_(s,n)?[s]:zu(s)}function O_(s,n){let t=P_(n,s),e=s,i=0,{length:r}=t;for(;e!=null&&i<r;){let o=$u(t[i]);e=e[o],i+=1}return i&&i===r?e:void 0}function N_(s){return"iterable"in s}function Gu(s){return dt(s.iterable)?L(s.iterable)||s.iterable===null:!0}function qu(s,n,t){let e=s==null?void 0:O_(s,n);return e===void 0?t:e}var M_=/\b__p \+= '';/g,k_=/\b(__p \+=) '' \+/g,D_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,x_=/['\n\r\u2028\u2029\\]/g,Wu=/[&<>"']/g,L_=csRegExp(Wu.source),U_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sr=/($^)/,V_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},j_=/[()=,{}[\]/\s]/,H_=/<%-([\s\S]+?)%>/g,B_=/<%([\s\S]+?)%>/g,Yu=/<%=([\s\S]+?)%>/g,{hasOwnProperty:th}=Object.prototype,F_="Invalid `variable` option passed into `_.template`";function $_(s){return`\\${V_[s]}`}var z_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},G_={escape:H_,evaluate:B_,interpolate:Yu,variable:"",imports:{_:{template:Ar,escape(s){return s&&L_.test(s)?csString.prototype.replace.call(s,Wu,n=>z_[n]):s!=null?s:""}}}};function Ar(s,n){let t={...G_,...n},e=Object.keys(t.imports||{}),i=csArray.prototype.map.call(e,R=>t==null?void 0:t.imports[R]),r,o,c=0,u=t.interpolate||Sr,p="__p += '",v=csRegExp(`${(t.escape||Sr).source}|${u.source}|${(u===Yu?U_:Sr).source}|${(t.evaluate||Sr).source}|$`,"g"),f=`//# sourceURL=${th.call(t,"sourceURL")?csString.prototype.replace.call(`${t.sourceURL}`,/\s/g," "):void 0}
`;s==null||csString.prototype.replace.call(s,v,(R,H,U,I,P,$)=>{let q=U||I;return p+=csString.prototype.replace.call(csString.prototype.slice.call(s,c,$),x_,$_),H&&(r=!0,p+=`' +
__e(${H}) +
'`),P&&(o=!0,p+=`';
${P};
__p += '`),q&&(p+=`' +
((__t = (${q})) == null ? '' : __t) +
'`),c=$+R.length,R}),p+=`';
`;let w=th.call(t,"variable")&&t.variable;if(!w)p=`with (obj) {
${p}
}
`;else if(j_.test(w))throw new Error(F_);p=csString.prototype.replace.call(csString.prototype.replace.call(o?csString.prototype.replace.call(p,M_,""):p,k_,"$1"),D_,"$1;"),p=`function(${w||"obj"}) {
${w?"":`obj || (obj = {});
`}var __t, __p = ''${r?", __e = _.escape":""}${o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`}${p}return __p
}`;let _;try{_=Function(...e,`${f}return ${p}`)(...i)}catch(R){_=R}if(_.source=p,_ instanceof Error)throw _;return _}var q_=/^(\s*("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\s*,?)+$/,W_=/<%[\s\S]+?%>|<%-[\s\S]+?%>|<%=[\s\S]+?%>|\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/,Y_=/^document\.querySelector\(("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\)\.(textContent|value)$/;function eh(s){if(!q_.test(s)||W_.test(s))throw new Error("whitelisted function is wrongly used")}var sh={"window.location.hash.replace(":(s,n)=>{let t=csString.prototype.substring.call(s,29,s.length-1);return eh(t),Ar(`\${${s}}`)(n)},"window.sessionStorage.getItem(":(s,n)=>{let t=csString.prototype.substring.call(s,30,s.length-1);return eh(t),Ar(`\${${s}}`)(n)},"document.querySelector(":(s,n)=>{if(Y_.test(s))return Ar(`\${${s}}`)(n)},"new Date().getTime()":(s,n)=>new csDate().getTime().toString()};function X_(s){let n=Je(Object.keys(sh),t=>Xt(s,t));if(n)return sh[n]}function K_(s){return Xt(s,"'")&&Qi(s,"'")}var J_=/\$\{([\s\S]+?)\}/g,Q_=s=>(n,t,e)=>{let i="";return csArray.prototype.forEach.call(csString.prototype.split.call(t,"+"),r=>{let o=csString.prototype.trim.call(r),c=qu(s,o);if(c===void 0)if(K_(o))c=csString.prototype.substring.call(o,1,o.length-1);else{let u=X_(o);if(u&&(c=u(o,s)),c===void 0)throw new Error("undefined not allowed")}i+=c}),i};function Ji(s,n){try{return csString.prototype.replace.call(s,J_,Q_(n))}catch{return null}}function qa(s,n){let t={};for(let e of Object.keys(s)){let i=s[e];if(L(i)){let r=Ji(i,n);if(r===null)return null;t[e]=r}else t[e]=i}return t}function Wa(s,n){let t=csArray.prototype.join.call(csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(s,","),e=>Ji(e,n)),e=>e!==null&&ne(e)),",");return ne(t)?t:null}function Z_(s){return csArray.isArray(s)?csArray.prototype.map.call(s,$u):Nc(s)?[s]:csArray.from(zu(s))}function tw(s,n){try{let e=/^values\(([a-zA-Z0-9_$[\].]+)\)\[\?([a-zA-Z0-9_$]+)\]$/.exec(s);if(!e)return null;let i=e[1],r=e[2],o=qu(n,Z_(i));if(typeof o!="object"||o===null)return null;let c=[];return csArray.prototype.forEach.call(Object.keys(o),u=>{let p=o[u];typeof p=="object"&&p!==null&&!csArray.isArray(p)&&r in p&&csArray.prototype.push.call(c,p)}),c}catch{return null}}function ew(s,n){let e=/^\[([0-9]+):([0-9+])\]$/.exec(s);if(!e)return null;let i=parseInt(e[1],10),r=parseInt(e[2],10);return r<=i||r>n.length?null:csArray.prototype.slice.call(n,i,r)}function sw(s,n){let t=csString.prototype.split.call(s,"|");if(t.length>2)return null;let e=tw(csString.prototype.trim.call(t[0]),n);return t.length===2?e===null?null:ew(csString.prototype.trim.call(t[1]),e):e}var fa=(()=>{let s;return function(n){n.AND="AND",n.OR="OR"}(s||(s={})),s})(),ze=(()=>{let s;return function(n){n.STARTS_WITH="startsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.MATCHES="matches",n.NOT_MATCHES="notMatches",n.EXIST="exist",n.NOT_EXIST="notExist"}(s||(s={})),s})();function Xu(s,n){return iw(s.operator,aw(s.args,n))}function iw(s,n){switch(s){case ze.EXIST:case ze.NOT_EXIST:return nw(s,n);default:return rw(s,n)}}function nw(s,n){let[t]=n;if(!ne(t))return!1;switch(s){case ze.EXIST:return window.csquerySelector[document.nodeType].call(document,t)!==null;case ze.NOT_EXIST:return window.csquerySelector[document.nodeType].call(document,t)===null;default:return!1}}function rw(s,n){let[t,e]=n;if(!(s in fa)&&!(L(t)&&L(e)))return!1;switch(s){case fa.AND:return!!csArray.prototype.reduce.call(n,(r,o)=>r&&o);case fa.OR:return!!csArray.prototype.reduce.call(n,(r,o)=>r||o);case ze.STARTS_WITH:return Xt(t,e);case ze.EQUALS:return t===e;case ze.NOT_EQUALS:return t!==e;case ze.CONTAINS:return csString.prototype.indexOf.call(t,e)>-1;case ze.NOT_CONTAINS:return csString.prototype.indexOf.call(t,e)===-1;case ze.MATCHES:{let r=ih(e);return r!==null&&r.test(t)}case ze.NOT_MATCHES:{let r=ih(e);return r!==null&&!r.test(t)}default:return!1}}function ow(s){return!!(s&&s.operator&&s.args)}function aw(s,n){return csArray.prototype.map.call(s,t=>ow(t)?Xu(t,n):L(t)?Ji(t,n):t)}function ih(s){let n=/^\/(.*)\/([gimy]*)$/.exec(s),t=null;if(n){let[,e,i]=n;try{t=new csRegExp(e,i)}catch{}}else try{t=new csRegExp(s)}catch{}return t}function kc(s){switch(s){case"no decoding":return null;case"decode once":return{decodeURI:!0};case"decode multiple times":return{decodeURIDeep:!0};default:return null}}function Dc(s){switch(s==null?void 0:s[0]){case"on next pageview only":return{lifespan:"onNextPageviewOnly"};default:return null}}var Bt=(()=>{class s{constructor(t,e){this.commandsService=t,this.args=e}}return s})(),qn=(()=>{class s extends Bt{}return s})(),Ku=(()=>{class s extends Bt{validateArgs(t){if(ut(t)){let e=dt(t.path)?L(t.path):!0,i=dt(t.decodeURI)?L(t.decodeURI):!0,r=dt(t.lifespan)?csArray.isArray(t.lifespan):!0;return e&&i&&r}return!1}execute(t){if(!t.path)this.lo([]);else{let e=[t.path],i=kc(t.decodeURI),r=Dc(t.lifespan),o={...i,...r};Object.keys(o).length&&e.push(o),this.lo(e)}}lo(t){this.commandsService.applyFromImplementation(wu[0],t,"ArtificialPageviewTemplate")}}return s})(),cw=(()=>{class s extends qn{validateArgs(t){return ut(t)?L(t.message)&&csArray.isArray(t.attributes):!1}execute(t,e){let i=Ji(t.message,e);if(!i)return;let r={};for(let o of t.attributes){let c=Ji(o.value,e);c!==null&&(r[o.key]=c)}this.commandsService.applyFromImplementation(Kr[0],[i,r],"CustomErrorTemplate")}}return s})(),lw=(()=>{class s extends Bt{validateArgs(t){if(ut(t)){let e=Gu(t),i=csArray.isArray(t.scope)?ec(t.scope,r=>L(r)):!0;return e&&i&&Ht(t.index)&&L(t.name)&&L(t.value)}return!1}execute(t){this.commandsService.applyFromImplementation(Oc[0],[t.index,t.name,t.value,t.scope[0]],"CustomVariableTemplate")}}return s})(),hw=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.selector):!1}execute(t){this.commandsService.applyFromImplementation(Du[0],[t.selector],"DataCsEncryptTemplate")}}return s})(),uw="data-cs-override-id",dw=(()=>{class s extends Bt{validateArgs(t){if(ut(t)){let e=Nt(t.value)?L(t.value):!0;return L(t.selector)&&e}return!1}execute(t){var e;if(!ne(t.selector))return;let i=window.csquerySelector[document.nodeType].call(document,t.selector);i&&i.setAttribute(uw,(e=t.value)!==null&&e!==void 0?e:"")}}return s})(),pw=20,fw=(()=>{class s extends qn{validateArgs(t){return ut(t)?Gu(t)&&L(t.key)&&L(t.value)&&L(t.type):!1}execute(t,e){let i=qa(t,e);i!==null?this.lo(i):this.yR(t,e)()}yR(t,e){return()=>{let i=0,r=window.csSetInterval(()=>{i+=1;let o=qa(t,e);if(o!==null){window.csClearInterval(r),r=void 0,i=0,this.lo(o);return}i>=pw&&(window.csClearInterval(r),r=void 0,i=0)},100)}}lo(t){let e=t.value;if(t.type==="Integer"){let i=Number.parseInt(t.value,10);Number.isNaN(i)||(e=i)}this.commandsService.applyFromImplementation(Sc[0],[{key:t.key,value:e}],"DynamicVariableTemplate")}}return s})(),gw=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.transactionId)&&Ht(t.revenue)&&L(t.currency)&&L(t.name)&&L(t.sku)&&L(t.category)&&Ht(t.price)&&Ht(t.quantity):!1}execute(t){this.ER({id:t.transactionId,revenue:t.revenue,currency:t.currency}),this.SR({id:t.transactionId,name:t.name,sku:t.sku,category:t.category,price:t.price,quantity:t.quantity}),this.Ka()}ER(t){this.commandsService.applyFromImplementation(vc[0],[t],"EcTransactionAllTemplate")}SR(t){this.commandsService.applyFromImplementation(Jr[0],[t],"EcTransactionAllTemplate")}Ka(){this.commandsService.applyFromImplementation(_c[0],[],"EcTransactionAllTemplate")}}return s})(),mw=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.id)&&Ht(t.revenue)&&L(t.currency):!1}execute(t){this.commandsService.applyFromImplementation(vc[0],[t],"EcTransactionCreateTemplate")}}return s})(),yw=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.id)&&L(t.name)&&L(t.sku)&&L(t.category)&&Ht(t.price)&&Ht(t.quantity):!1}execute(t){this.commandsService.applyFromImplementation(Jr[0],[t],"EcTransactionItemsAddTemplate")}}return s})(),Ew=(()=>{class s extends Bt{validateArgs(t){return!!ut(t)}execute(){this.commandsService.applyFromImplementation(_c[0],[],"EcTransactionSendTemplate")}}return s})(),Sw=(()=>{class s extends qn{validateArgs(t){return ut(t)?Nt(t)&&L(t.selector):!1}execute(t,e){if(!Nt(t)||!L(t==null?void 0:t.selector))return;let i=Wa(t.selector,e);i!==null&&this.commandsService.applyFromImplementation(xu[0],[i],"ElementUnmaskingTemplate")}}return s})(),vw=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(zn[0],[`@ETP@${t.eventName}`],"EventTriggerRecordingPageTemplate")}}return s})(),_w=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(zn[0],[`@ETS@${t.eventName}`],"EventTriggerRecordingSessionTemplate")}}return s})(),ww=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(bc[0],[t.eventName],"PageEventTemplate")}}return s})(),bw=(()=>{class s extends qn{validateArgs(t){if(ut(t)){let e=csArray.isArray(t.cssSelectors),i=csArray.isArray(t.attributes);return e&&i}return!1}execute(t,e){let i=csArray.prototype.filter.call(csArray.prototype.map.call(t.cssSelectors,c=>Wa(c,e)),c=>!!c),r=csArray.prototype.filter.call(csArray.prototype.map.call(t.attributes,c=>{let u=Ji(c.attrName,e),p=Wa(c.selector,e);return{attrName:u,selector:p}}),c=>!!c.attrName&&!!c.selector),o={PIISelectors:[...i],Attributes:[...r]};this.commandsService.applyFromImplementation(Qr[0],[o],"PIIMaskingTemplate")}}return s})(),Tw=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(zn[0],[`${t.eventName}`],"RecordingEventTriggerTemplate")}}return s})(),Aw=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.path):!1}execute(t){let e=[t.path],i=kc(t.decodeURI),r=Dc(t.lifespan),o={...i,...r};Object.keys(o).length&&e.push(o),this.commandsService.applyFromImplementation(Ba[0],e,"SetPathTemplate")}}return s})(),Rw=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.query):!1}execute(t){let e=[t.query],i=kc(t.decodeURI),r=Dc(t.lifespan),o={...i,...r};Object.keys(o).length&&e.push(o),this.commandsService.applyFromImplementation(Fa[0],e,"SetQueryTemplate")}}return s})(),Cw=(()=>{class s extends Bt{validateArgs(t){return!!ut(t)}execute(){this.commandsService.applyFromImplementation(Mu[0],[],"SrmOnlineAssetsTemplate")}}return s})(),Iw=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.status)&&L(t.selector):!1}execute(t){if(!ne(t.selector))return;let e=window.csquerySelector[document.nodeType].call(document,t.selector);e&&this.commandsService.applyFromImplementation(Ec[0],[t.status,e],"SubmitTemplate")}}return s})(),Re=(()=>{class s{onEvent(t){this.onEventCallback=t}constructor(t,e,i){this.commandsService=t,this.condition=i,this.isStarted=!1,this.Nm=!1,this.args=e}start(){this.Nm||(this.onInit(),this.Nm=!0),this.isStarted||(this.onStart(),this.isStarted=!0)}stop(){this.isStarted&&(this.onStop(),this.isStarted=!1)}}return tt([B()],s.prototype,"start",null),tt([B()],s.prototype,"stop",null),s})(),nh="once per pageview",Pw="always",Ow=(()=>{class s extends Re{constructor(){super(...arguments),this.St=!0}validateArgs(t){if(ut(t)){let e=L(t.selector),i=t.frequency?t.frequency===nh||t.frequency===Pw:!0;return e&&i}return!1}onInit(){if(!ne(this.args.selector)){this.St=!1;return}this.ho=this.args.frequency?this.args.frequency===nh:!0,this.W=new qe((t,e)=>this.A(t,e))}onStart(){this.St&&this.W.observe(this.args.selector)}onStop(){this.St&&(this.W.processPendingMutations(),this.W.disconnect())}A(t,e){e==="added"&&(this.ho?(this.stop(),this.onEventCallback({element:t[0]})):new Set(t).forEach(i=>this.onEventCallback({element:i})))}}return s})(),Nw=(()=>{class s extends Re{constructor(){super(...arguments),this.St=!0,this.Mm=!1}validateArgs(t){return ut(t)?L(t.selector):!1}onInit(){if(!ne(this.args.selector)){this.St=!1;return}this.W=new qe((t,e)=>{this.A(t,e)})}onStart(){this.St&&(this.W.observe(this.args.selector),this.Mm=!0)}onStop(){this.St&&(this.W.processPendingMutations(),this.W.disconnect())}A(t,e){this.Mm?e==="added"&&new Set(t).forEach(i=>this.onEventCallback({element:i})):this.onEventCallback({element:t[0]})}}return s})(),Mw=(()=>{class s extends Re{constructor(){super(...arguments),this.St=!0}validateArgs(t){return ut(t)?L(t.selector):!1}onInit(){if(!ne(this.args.selector)){this.St=!1;return}this.B=new qe(t=>this.vR(t)),this.D=new ns(t=>this._R(t))}onStart(){this.St&&(this.Ja=csSymbol("MatchingElement"),this.B.observe(this.args.selector),this.D.observe())}onStop(){this.St&&(this.B.processPendingMutations(),this.B.disconnect(),this.D.disconnect())}vR(t){new Set(t).forEach(e=>this.wR(e))}_R(t){let e=tc(t,r=>r.removedNodes),i=[];for(let r of e)csArray.prototype.push.call(i,...this.bR(r));new Set(i).forEach(r=>this.onEventCallback({element:r}))}wR(t){t[this.Ja]=!0}bR(t){let e=[];return Te(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{i[this.Ja]&&(At.isConnected(i)?Ae.call(i,this.args.selector)||delete i[this.Ja]:delete i[this.Ja],csArray.prototype.push.call(e,i))}),e}}return s})(),kw=(()=>{class s{static readyStateChangeListener(t){csArray.prototype.forEach.call(Zs(s.callbacks),e=>e(t))}static Th(t){s.callbacks.has(t)||(s.callbacks.add(t),s.callbacks.size===1&&Mt(s.eventHandler,!1))}static Ah(t){s.callbacks.delete(t),s.callbacks.size===0&&kt(s.eventHandler,!1)}constructor(t){this.A=t}observe(){s.Th(this.A)}disconnect(){s.Ah(this.A)}}return s.callbacks=new Set,s.eventHandler={boundElement:yt.document,type:"readystatechange",listener:s.readyStateChangeListener},Et([B("readyStateChangeListener"),Rt()],s,"readyStateChangeListener",null),s})(),Dw=(()=>{class s extends Re{constructor(){super(...arguments),this.vu={state:"Any"}}validateArgs(t){var e;return ut(t)&&L(t.state)||(J.implementation(`PageStateTrigger has wrong argument: ${(e=this.args)===null||e===void 0?void 0:e.state}, fallback to default config.`),this.args=this.vu),!0}onInit(){this.Pt=this.args.state.toLowerCase(),this.W=new kw(()=>{this.km(this.Pt,document.readyState)&&(this.onEventCallback(),this.W.disconnect())})}onStart(){this.km(this.Pt,document.readyState)?this.onEventCallback():this.W.observe()}onStop(){this.W.disconnect()}km(t,e){let i=s.Dm[e];return s.Dm[t]<=i}}return s.Dm={complete:3,interactive:2,loading:1,any:0},s})(),xw=(()=>{class s extends Re{validateArgs(t){return!!ut(t)}TR(){this.isStarted&&this.onEventCallback()}onInit(){this.commandsService.applyFromImplementation(Su[0],[()=>this.TR()],"AfterPageViewTrigger")}onStart(){}onStop(){}}return s})(),Lw=(()=>{class s extends Re{constructor(){super(...arguments),this._u=!1,this.St=!0,this.ti=!0,this.hi={boundElement:document,type:"click",listener:t=>{if(this._u){this._u=!1;return}this.onClickOrTap(t)}},this.AR=(t,e)=>{t.type===Wt.TAP&&(this._u=!0,this.onClickOrTap(e))}}validateArgs(t){return ut(t)?L(t.selector):!1}onClickOrTap({target:t}){if(Nt(t)&&Rs(t)){let e=Xi(t,this.args.selector);e&&this.onEventCallback({element:e})}}onInit(){if(!ne(this.args.selector)){this.St=!1;return}this.$r=new Cu(this.AR)}onStart(){var t;this.St&&(Mt(this.hi,this.ti),(t=this.$r)===null||t===void 0||t.observe())}onStop(){var t;this.St&&(kt(this.hi,this.ti),(t=this.$r)===null||t===void 0||t.disconnect())}}return tt([B("onClickOrTap"),Rt()],s.prototype,"onClickOrTap",null),s})(),Uw=(()=>{class s{static RR(){var t,e,i,r;if("history"in window){let o=Object.getOwnPropertyDescriptors(history);if(!((t=o.pushState)===null||t===void 0)&&t.writable&&(!((e=o.replaceState)===null||e===void 0)&&e.writable))return history}if(History.prototype){let o=Object.getOwnPropertyDescriptors(History.prototype);if(!((i=o.pushState)===null||i===void 0)&&i.writable&&(!((r=o.replaceState)===null||r===void 0)&&r.writable))return History.prototype}Ct.warn("Unable to override pushState, replaceState",!0,"HistoryChangeObserver")}static il(){let t=s.RR();s.uo===null&&ts(t==null?void 0:t.pushState)&&(s.uo=_e({target:t,methodName:"pushState",hook:({args:e})=>{s.xm("pushstate",e)}})),s.po===null&&ts(t==null?void 0:t.replaceState)&&(s.po=_e({target:t,methodName:"replaceState",hook:({args:e})=>{s.xm("replacestate",e)}}))}static Zn(t){var e,i;s.Ae.add(t),s.Ae.size===1&&((s.uo===null||s.po===null)&&s.il(),(e=s.uo)===null||e===void 0||e.activate(),(i=s.po)===null||i===void 0||i.activate(),Mt(s.Lm),Mt(s.Um))}static er(t){var e,i;s.Ae.delete(t),s.Ae.size===0&&((e=s.uo)===null||e===void 0||e.deactivate(),(i=s.po)===null||i===void 0||i.deactivate(),kt(s.Lm),kt(s.Um))}static xm(t,e){let i={type:t,state:e[0]};L(e[2])&&(i.url=e[2]),s.Nn(i)}static popstateListener(t){s.Nn({type:"popstate",state:t.state})}static hashchangeListener(t){s.Nn({type:"hashchange",state:null,url:t.newURL})}static Nn(t){csArray.prototype.forEach.call(Zs(s.Ae),e=>{e(t)})}constructor(t){this.A=t}observe(){s.Zn(this.A)}disconnect(){s.er(this.A)}}return s.uo=null,s.po=null,s.Lm={boundElement:yt,type:"popstate",listener:n=>s.popstateListener(n)},s.Um={boundElement:yt,type:"hashchange",listener:n=>s.hashchangeListener(n)},s.Ae=new Set,Et([B("popstateListener"),Rt()],s,"popstateListener",null),Et([B("hashchangeListener"),Rt()],s,"hashchangeListener",null),s})(),Vw=(()=>{class s extends Re{validateArgs(t){if(ut(t)){let e=L(t.useDebounce),i=t.useDebounce==="yes"?Ht(t==null?void 0:t.window):!0,r=L(t.listeners);return e&&i&&r}return!1}onInit(){this.args.useDebounce==="yes"?this.te=Gi(()=>{this.onEventCallback()},this.args.window):this.te=this.onEventCallback,this.W=new Uw(t=>this.CR(t))}Vm(){return window.location.href}CR(t){let e=t.type==="replacestate"&&this.args.listeners.indexOf("replaceState")===-1,i=t.type==="hashchange"&&this.args.listeners.indexOf("hashchange")===-1;if(e||i)return;let r=this.Vm();this.jm!==r&&(this.jm=r,this.te())}onStart(){this.jm=this.Vm(),this.W.observe()}onStop(){this.W.disconnect()}}return s})(),jw=(()=>{class s extends Re{constructor(){super(...arguments),this.St=!0,this.ti=!0,this.hi={boundElement:document,type:"submit",listener:t=>this.submitListener(t)}}validateArgs(t){return ut(t)?L(t.selector):!1}submitListener({target:t}){Nt(t)&&Rs(t)&&Ae.call(t,this.args.selector)&&this.onEventCallback({element:t})}onInit(){ne(this.args.selector)||(this.St=!1)}onStart(){this.St&&Mt(this.hi,this.ti)}onStop(){this.St&&kt(this.hi,this.ti)}}return tt([B("submitListener"),Rt()],s.prototype,"submitListener",null),s})(),Hw=(()=>{class s extends Re{constructor(){super(...arguments),this.St=!0,this.Hm={boundElement:document,type:"mouseover",listener:t=>this.mouseoverListener(t)},this.Bm={boundElement:document,type:"mouseleave",listener:t=>this.mouseleaveListener(t)}}validateArgs(t){return ut(t)?L(t.selector):!1}onInit(){ne(this.args.selector)||(this.St=!1)}mouseleaveListener({target:t}){Nt(t)&&Rs(t)&&t[this.Qa]&&delete t[this.Qa]}mouseoverListener({target:t}){if(Nt(t)&&Rs(t)){let e=Xi(t,this.args.selector);e!==null&&!e[this.Qa]&&(e[this.Qa]=!0,this.onEventCallback({element:e}))}}onStart(){this.St&&(this.Qa=csSymbol("Hovered"),Mt(this.Bm,!0),Mt(this.Hm,!0))}onStop(){this.St&&(kt(this.Hm),kt(this.Bm))}}return tt([B("mouseleaveListener"),Rt()],s.prototype,"mouseleaveListener",null),tt([B("mouseoverListener"),Rt()],s.prototype,"mouseoverListener",null),s})(),Bw=(()=>{class s extends Re{constructor(){super(...arguments),this.hi={boundElement:window,type:"hashchange",listener:t=>this.hashChangedListener(t)}}validateArgs(t){return!!ut(t)}hashChangedListener(t){t.newURL&&t.newURL===t.oldURL||this.onEventCallback()}onInit(){}onStart(){Mt(this.hi)}onStop(){kt(this.hi)}}return tt([B("hashChangedListener"),Rt()],s.prototype,"hashChangedListener",null),s})(),Fw=(()=>{class s extends Re{constructor(){super(...arguments),this.Za=!0}validateArgs(t){return ut(t)?L(t.selector):!1}onInit(){if(!ne(this.args.selector)||!Vr.isSupported()){this.Za=!1;return}this.Ct=new Vr({delay:0,trackOnce:!0,reobserve:!0}),this.B=new qe(t=>this.wu(t),{closest:!0})}wu(t){for(let e of t)this.Ct.observe(e)}bu(t,e){if(this.isStarted&&e===In.VisibleInViewPort){let i=Xi(t,this.args.selector);i&&(this.onEventCallback({element:i}),this.stop(),this.Za=!1)}}onStart(){this.Za&&(this.Ct.start((t,e)=>this.bu(t,e)),this.B.observe(this.args.selector))}onStop(){this.Za&&(this.Ct.stop(),this.B.disconnect())}}return s})(),$w=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.url):!1}execute(t){this.commandsService.applyFromImplementation(ja[0],[t.url],"ApiErrorsMaskUrlTemplate")}}return s})(),zw=(()=>{class s extends Bt{validateArgs(t){return ut(t)?L(t.maskingPattern):!1}execute(t){this.commandsService.applyFromImplementation(Lu[0],[t.maskingPattern],"NetworkRequestMaskUrlTemplate")}}return s})(),rh="once per pageview",Gw="always",qw=(()=>{class s extends Re{constructor(){super(...arguments),this.Tu=!1,this.qe=!1,this.ho=!0}validateArgs(t){if(ut(t)){let e=L(t.selector),i=t.frequency?t.frequency===rh||t.frequency===Gw:!0;return e&&i}return!1}onInit(){Vr.isSupported()&&(this.qe=!0,this.ho=this.args.frequency?this.args.frequency===rh:!0,this.B=new qe((t,e)=>{if(e==="initial")for(let i of t)At.isVisibleInViewportInForeground(i)&&(i[this.Au]=!0);this.wu(t)},{closest:!0}),this.Ct=new Vr({delay:0,trackOnce:!1,reobserve:!0,allowSameMatch:!0}))}onStart(){!this.qe||this.isStarted||(this.Au=csSymbol("skipElement"),this.Tu=!1,this.Ct.start((t,e)=>this.bu(t,e)),this.B.observe(this.args.selector))}onStop(){!this.qe||!this.isStarted||(this.B.disconnect(),this.Ct.stop())}bu(t,e){if(this.isStarted&&e===In.VisibleInViewPort){let i=t.closest(this.args.selector);if(i){if(i[this.Au]){delete i[this.Au];return}this.ho&&this.stop(),(!this.ho||!this.Tu)&&(this.Tu=!0,this.onEventCallback({element:i}))}}}wu(t){for(let e of t)this.Ct.observe(e)}}return s})(),Ya=(()=>{class s extends Re{constructor(){super(...arguments),this.vu={pageviewTypes:["natural","artificial"]}}validateArgs(t){var e;return ut(t)&&Js(t)&&csArray.isArray(t.pageviewTypes)&&ec(t.pageviewTypes,r=>L(r))||(J.implementation(`BeforePageViewTrigger has wrong argument: ${(e=this.args)===null||e===void 0?void 0:e.pageviewTypes}, fallback to default config.`),this.args=this.vu),!0}onInit(){this.IR=this.args.pageviewTypes}onPageView(t){this.isStarted&&csArray.prototype.indexOf.call(this.IR,t)!==-1&&this.onEventCallback()}onStart(){}onStop(){}}return s})(),Ww=(()=>{class s extends Bt{constructor(){super(...arguments),this.Ru=!1}validateArgs(t){return ut(t)&&L(t.type)&&L(t.urls)&&(t.type==="allow"||t.type==="block")&&csString.prototype.trim.call(t.urls).length>0?(this.Ru=!1,!0):(J.implementation(`BlockAllowListForSRTemplate has wrong argument: ${t}, fallback to default config.`),this.Ru=!0,!0)}execute(t){let e="";this.Ru?e=ju:e=this.PR(t.urls,t.type),this.commandsService.applyFromImplementation(Hu[0],[e],"BlockAllowListForSRTemplate")}PR(t,e){let i=e==="allow"?"?!":"";return i+=csArray.prototype.join.call(csArray.prototype.map.call(csString.prototype.split.call(t,","),r=>`.*${csString.prototype.trim.call(r)}`),"|"),`^(${i}).*?`}}return s})(),Yw=(()=>{class s{constructor(t){this.E=t,this.NR={ApiErrorsMaskUrl:$w,NetworkRequestMaskUrls:zw,ArtificialPageview:Ku,BlockAllowListForSr:Ww,CustomError:cw,CustomVariable:lw,DataCsEncrypt:hw,DataCsOverride:dw,DynamicVariable:fw,EcTransactionAll:gw,EcTransactionCreate:mw,EcTransactionItemsAdd:yw,EcTransactionSend:Ew,ElementUnmasking:Sw,EventTriggerRecordingPage:vw,EventTriggerRecordingSession:_w,PageEvent:ww,PiiMasking:bw,RecordingEventTrigger:Tw,SetPath:Aw,SetQuery:Rw,SrmOnlineAssets:Cw,Submit:Iw},this.$n={AfterPageView:xw,ElementAdded:Ow,ElementBecomesVisible:qw,ElementExist:Nw,ElementRemoved:Mw,ElementVisibility:Fw,ElementClick:Lw,FormSubmit:jw,HashChange:Bw,HistoryChange:Vw,Mouseover:Hw,PageState:Dw,BeforePageView:Ya}}MR(t){let e=this.NR[t.name];return e?new e(this.E,t.args):(J.error(`Implementations: template ${t.name} does not exist`),null)}kR(t){let e=this.$n[t.name];return e?new e(this.E,t.args,t.condition):(J.error(`Implementations: trigger ${t.name} does not exist`),null)}parse(t){let e=[];for(let{triggers:i,template:r}of t){let o=this.MR(r);if(!o)continue;if(!o.validateArgs(o.args)){J.implementation(`${r.name} has wrong argument.`);continue}for(let u of i){let p=this.kR(u);if(!p)continue;if(!p.validateArgs(p.args)){J.implementation(`${u.name} has wrong argument.`);continue}csArray.prototype.push.call(e,{name:`${u.name}_${r.name}`,trigger:p,template:o})}}return e}}return s})(),Xw=(()=>{class s{constructor(t,e,i){this.DR=t,this.C=i,this.ke={window,document,location,cookies:{}},this.$n=new Set,this.xR=new Yw(e)}init(){Object.defineProperty(this.ke,"cookies",{get:()=>this.LR()});let t=this.xR.parse(this.DR);for(let{name:e,trigger:i,template:r}of t)i instanceof Ya&&r instanceof Ku||(this.$n.add(i),i.onEvent(o=>{this.onTriggerEvent(o,r),ot.counters.CSTCSnippetUsed.count(e)}))}start(t=!1){this.$n.forEach(e=>{e.condition&&!Xu(e.condition,this.ke)||(t?this.C.schedule(()=>{e.start()}):e.start())})}stop(){this.$n.forEach(t=>{t.stop()})}onBeforePageView(t){this.$n.forEach(e=>{if(e instanceof Ya){e.onPageView(t);return}})}onTriggerEvent(t,e){let i=this.UR(t),r={...this.ke,...i},o=[];if(N_(e.args)&&L(e.args.iterable)&&e.args.iterable.length>0){let c=sw(e.args.iterable,r);if(Nt(c)){let u=csArray.prototype.map.call(c,p=>({...r,$:p}));csArray.prototype.push.call(o,...u)}}else csArray.prototype.push.call(o,r);if(e instanceof qn){for(let c of o)e.execute(e.args,c);return}for(let c of o){let u=qa(e.args,c);u&&e.execute(u)}}LR(){let t;try{t=document.cookie}catch{t=""}return csArray.prototype.reduce.call(csString.prototype.split.call(t,"; "),(e,i)=>{let[r,o]=csString.prototype.split.call(i,"=");return o!==void 0&&(e[r]=o),e},{})}UR(t){let e={...t};for(let i in e)It(e[i])&&(W.isMaskedElement(e[i])||W.isMaskedElementChild(e[i]))&&delete e[i];return e}}return tt([te("implementationsService.start")],s.prototype,"start",null),tt([B()],s.prototype,"onTriggerEvent",null),s})(),Kw=(()=>{class s{constructor(t,e,i){this.Ms=new Xw(t,e,i)}init(){this.Ms.init()}onInitTracking(){this.Ms.start(!0)}onOptout(){this.Ms.stop()}onBeforeSessionRenewal(){this.Ms.stop(),this.Ms.start()}onBeforeArtificialPageView(){this.Ms.stop(),this.Ms.start(),this.Ms.onBeforePageView("artificial")}onBeforeNaturalPageView(){this.Ms.onBeforePageView("natural")}}return s})(),Ju=(()=>{class s{constructor(t){this.configuration=t}}return s})(),Jw=(()=>{class s extends Ju{constructor(t,e,i){super(t),this.configuration=t,this.fo=e,this.S=i,this.VR=Q.RECORDING_GLOBAL_SAMPLING}refreshQuota(t){this.Fm=t,this.go=void 0,this.jR()}init(t){this.HR();let e=jt.get(Fe);e!==null&&dc(e)?t(this.canCollect(Pf(e))):this.refreshQuota(i=>{t(i!==Q.QUOTA_REACHED)})}sanitizeSessionCollectState(t){return t}canCollect(t){return t!==null&&t.collectState!==Q.QUOTA_REACHED}computeInitialCollectState(t){return this.go?(this.S.emitCollectStateChange(this.go,this.configuration.malkaEtrEnabled?be.ETR_ON:be.ETR_OFF),this.go):(J.warn("Quota file error computeInitialCollectState() called before quota answered"),Q.QUOTA_REACHED)}getEligibleCollectState(t){return t.collectState===Q.QUOTA_REACHED?Q.QUOTA_REACHED:!xn.isRecordingSupported()&&this.isReplayRecorded(t)?Q.ANALYTICS_ONLY:t.collectState===Q.RECORDING_RULES_TARGETING?Q.RECORDING_RULES_TARGETING:t.collectState===Q.ANALYTICS_ONLY_RULES_TARGETING?Q.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===Q.RECORDING_GLOBAL_SAMPLING?Q.RECORDING_GLOBAL_SAMPLING:Q.ANALYTICS_ONLY}isReplayRecorded(t){return t.collectState===Q.RECORDING_GLOBAL_SAMPLING||t.collectState===Q.RECORDING_RULES_TARGETING}getInitialCollectState(){return this.go||Q.QUOTA_REACHED}computeInitialCollectStateFromRecordingConsentGranted(t){return Q.ANALYTICS_ONLY}mo(t){this.go=t,this.Fm&&this.Fm(t)}HR(){this.fo.onError(t=>this.quotaServiceErrorHandler(`HTTP:${t.status} - fetching quota file for pid: ${this.configuration.projectId}`)),this.fo.onTimeout(()=>this.quotaServiceErrorHandler("timeout")),this.fo.onLoad(t=>this.quotaFileHandler(t))}jR(){this.fo.isInProgress()||this.fo.send()}quotaFileHandler(t){var e;if(!(!((e=t==null?void 0:t.quotas)===null||e===void 0)&&e.length)){this.quotaServiceErrorHandler("Quota types missing from config file");return}this.BR(t)}quotaServiceErrorHandler(t){let e=`Quota error - ${t}`;J.warn(e),this.mo(this.VR)}BR(t){let e=!1,i=!1;for(let r of t.quotas)r.quotaType==="ANALYTICS"&&r.value?e=!0:r.quotaType==="RECORDING"&&r.value&&gi.boolean(Math.round(r.value*100))&&(i=!0);!e&&i?this.quotaServiceErrorHandler(`Quota types impossible: replay without analytics - ${csJSON.stringify(t)}`):e&&i?xn.isRecordingSupported()?this.mo(Q.RECORDING_GLOBAL_SAMPLING):this.mo(Q.ANALYTICS_ONLY):e&&!i?this.mo(Q.ANALYTICS_ONLY):this.mo(Q.QUOTA_REACHED)}getRecordingConsentWithdrawn(){return Q.ANALYTICS_ONLY}}return tt([B("Quota File: quotaFileHandler")],s.prototype,"quotaFileHandler",null),tt([B("Quota File: onerror")],s.prototype,"quotaServiceErrorHandler",null),s})(),Qw=(()=>{class s extends Ju{constructor(t,e,i,r,o){super(t),this.configuration=t,this.S=e,this.nu=i,this.w=r,this.Cu=o,this.Iu=!1}refreshQuota(){}canCollect(t){return!0}init(){this.configuration.malkaUrlEnabled&&this.configuration.hasRecordingUrlRules()&&(this.Iu=!0,this.Cu.setRegexRules(this.configuration.recordingUrlRules))}sanitizeSessionCollectState(t){return(t.collectState===Q.QUOTA_REACHED||t.collectState===Q.RECORDING_RULES_TARGETING||t.collectState===Q.RECORDING_TEMPORARILY)&&(t.collectState=Q.ANALYTICS_ONLY),t}computeInitialCollectState(){return Ys.isReplayConsentNeeded(this.configuration)?Q.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.Ya()}computeInitialCollectStateFromRecordingConsentGranted(){return this.Ya()}Ya(){if(!xn.isRecordingSupported())return Q.ANALYTICS_ONLY;let t=Q.ANALYTICS_ONLY,e=be.ETR_OFF;return gi.percentage()<this.configuration.replayRecordingRate||this.nu.isForceReplayRecorded()?t=Q.RECORDING_GLOBAL_SAMPLING:this.Iu&&this.Cu.evaluateUrl(this.w.getAnonymizedUrl())&&(t=Q.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&(e=be.ETR_ON),this.S.emitCollectStateChange(t,e),t}getEligibleCollectState(t){if(!xn.isRecordingSupported())return Q.ANALYTICS_ONLY;if(Ys.isRecordingBlockedByConsent(t))return t.collectState===Q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:Q.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED;if(t.collectState===Q.RECORDING_GLOBAL_SAMPLING)return Q.RECORDING_GLOBAL_SAMPLING;let e=this.configuration.malkaEtrEnabled?be.ETR_ON:be.ETR_OFF;return this.Iu&&this.Cu.evaluateUrl(this.w.getAnonymizedUrl())?(this.S.emitCollectStateChange(Q.RECORDING_URL_SAMPLING,e),Q.RECORDING_URL_SAMPLING):(this.S.emitCollectStateChange(Q.ANALYTICS_ONLY,e),Q.ANALYTICS_ONLY)}isReplayRecorded(t){return Ys.isRecordingBlockedByConsent(t)?!1:t.collectState===Q.RECORDING_TEMPORARILY||t.collectState===Q.RECORDING_GLOBAL_SAMPLING||t.collectState===Q.RECORDING_URL_SAMPLING||this.configuration.malkaEtrEnabled}getInitialCollectState(){return Q.ANALYTICS_ONLY}getRecordingConsentWithdrawn(){return Q.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}return s})();function Zw(){let s="[data-cs-mask]",n="#c1_card_info_id",t=".ctHidden",e=["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"],i=["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"];return[s,n,t,...e,...i]}function tb(){return[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]}var eb=(()=>{class s{constructor(){this.FR={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.ys={elementSelector:"",attrSelector:"",attrSelectors:[]};let t={PIISelectors:Zw(),Attributes:tb()};this.ys=W.getComputedSelectorSettings(t,this.ys)}init(){this.$R()}setMaskedElementSettingsFromCommand(t){if(t=W.sanitizeSelectorUserInput(t),!W.isSelectorUserInput(t))throw new pe(Qr[0]);this.Pu(t)}setMaskedElementSettingsFromParent(t){let e={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.Pu(e)}getMaskedElementSettings(t){return t?this.$m(this.FR):this.ys}$R(){var t,e,i,r,o,c;let u={PIISelectors:[],Attributes:[]};((i=(e=(t=window==null?void 0:window.ClickTaleSettings)===null||t===void 0?void 0:t.DOM)===null||e===void 0?void 0:e.PII)===null||i===void 0?void 0:i.Text)instanceof Array&&u.PIISelectors.push(...window.ClickTaleSettings.DOM.PII.Text),((c=(o=(r=window==null?void 0:window.ClickTaleSettings)===null||r===void 0?void 0:r.DOM)===null||o===void 0?void 0:o.PII)===null||c===void 0?void 0:c.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach(p=>{L(p.attr)&&L(p.rule)&&u.Attributes.push({selector:p.rule,attrName:p.attr})}),this.Pu(u)}Pu(t){this.ys=this.$m(t)}$m(t){return W.getComputedSelectorSettings(t,this.ys)}}return s})();var sb=(()=>{class s{constructor(t,e){this.Z=t,this.ft=e,this.Ou=!1}getRequestParameters(){return{dr:this.get()}}addUrlMaskingPattern(t){this.ft.addUrlMaskingPattern(t)}enableRemoveQueryString(){this.Ou=!0}disableRemoveQueryString(){this.Ou=!1}get(){let t=this.Ou?this.Z.removeQueryString(this.zm()):this.zm();return this.Z.anonymizeUrl(t,{maskingPatterns:this.ft.getUrlMaskingPatterns()})}set(t){this.Gm=t}zm(){if(this.Gm)return this.Gm;let t="";try{t=window.top.document.referrer}catch{if(window.parent)try{t=window.parent.document.referrer}catch{t=""}}return t===""&&(t=document.referrer),typeof t!="string"&&(t=""),t}}return s})(),ib=60*1e3,nb=30*1e3,rb=(()=>{class s{constructor(t,e){this.R=t,this.O=e,this.Nu=!1,this.zR=Wr(()=>this.R.refreshSession(),nb)}onSessionExpired(t){this.GR=t}isSessionValid(){return this.Nu?!0:!(!this.R.hasValidSession()||this.R.pollCacheRefreshEvent()&&this.O.isSessionRenewed())}isCurrentPageviewValid(){let t=this.R.hasValidSession();return this.R.pollCacheRefreshEvent(!1)?!this.O.isSessionRenewed():t}refreshSession(){this.isSessionValid()?this.zR():this.qR()&&(this.qm=F.now(),this.renewSession())}renewSession(){this.Nu=!0,this.GR(),this.Nu=!1}qR(){return!document.hidden&&(!dt(this.qm)||F.now()-this.qm>ib)}}return s})();var ob=(()=>{class s{constructor(t,e,i,r,o,c,u,p,v,f,w){this.f=t,this.S=e,this.E=i,this.O=r,this.w=o,this.F=c,this.N=u,this.nt=p,this.M=v,this.wt=f,this._t=w}start(){if(this.iC()){this.ht(),this.nt.init(),this.Km=new dE(this.E,this.S,this.F,this.w),this.Km.init();let t=new qr;this.it=new Hh(this.f,this.w,t,this._t),this.it.init();let e=new eu(this.F),i=new tu(this.E,e,this.f,this.M,this.wt,this.O,this.N,this.it,this.nt);i.init(),i.start(),this.Jm=new pg(this.f,this.O,this.w,e),this.Jm.init(),this.S.addListener(this.Jm);let r=new nu;r.onLoad(()=>{this.S.emitStartNoTrackingMode(),this.E.start(),this.Km.start()}),r.start()}}iC(){var t;return((t=this.f.voc)===null||t===void 0?void 0:t.enabled)||this.f.vocData}ht(){this.E.register(Qr,t=>{this.nt.setMaskedElementSettingsFromCommand(t)})}}return s})(),ab=/\b((?:profile|user|last|first|primary|primary(?:[/_+-]|%20)?last)(?:[/_+-]|%20)?(?:name)[/=])[^#;?&/]+/gi,cb="$1CS_ANONYMIZED_NAME",lb=(()=>{class s{constructor(t){this.N=t}anonymizeUrl(t,e={}){let i=e.maskingPatterns||[],r=e.partialMaskingPatterns||[],o=this.N.anonymizePII(t);if(o=this.N.anonymizeJwt(o),e.maskNames){let p=o;o=this.Tr(o),o!==p&&(ot.counters.redactedPII.count("name"),ot.counters.redactedPII.count("name-in-url"))}let c=this.nC(o,i);if(c!==o)return ot.counters.redactedPII.count("url"),c;let u=this.rC(o,r);return u!==o&&ot.counters.redactedPII.count("url"),u}removeQueryString(t){let{path:e,queryString:i}=this.Hu(t);return i!==""?`${e}?`:e}Hu(t){let e=csString.prototype.indexOf.call(t,"?"),i,r="";return e!==-1?(i=csString.prototype.slice.call(t,0,e),r=csString.prototype.slice.call(t,e,t.length)):i=t,{path:i,queryString:r}}nC(t,e){if(e.length===0)return t;let{path:i,queryString:r}=this.Hu(t),o=csString.prototype.split.call(i,"/");for(let c of e){let u=this.oC(o,c);if(u!==null)return`${u}${r}`}return t}oC(t,e){if(t.length<e.length)return null;let i=[];for(let r=0;r<t.length;r++){let o=t[r];if(r>=e.length){csArray.prototype.push.call(i,o);continue}let c=e[r].key;if(this.Qm(c)){let u=e[r].value;csArray.prototype.push.call(i,u);continue}if(o===c){csArray.prototype.push.call(i,o);continue}return null}return csArray.prototype.join.call(i,"/")}rC(t,e){if(e.length===0)return t;let{path:i,queryString:r}=this.Hu(t),o=csString.prototype.split.call(i,"/");for(let c of e)o=this.aC(o,c);return`${csArray.prototype.join.call(o,"/")}${r}`}aC(t,e){let i=[],r=0,c=t[0]==="http:"||t[0]==="https:"?2:0;for(let u=0;u<t.length;u++){let p=t[u],v=e[r].key;if(this.Qm(v)&&u>=c){let f=e[r].value;csArray.prototype.push.call(i,p.length>0?f:""),r++,r===e.length&&(r=0);continue}if(p===v){csArray.prototype.push.call(i,p),r++,r===e.length&&(r=0);continue}for(let f=0;f<r;f++){let w=u-r+f;i[w]=t[w]}r=0,csArray.prototype.push.call(i,p)}for(let u=0;u<r;u++){let p=t.length-r+u;i[p]=t[p]}return i}Qm(t){return Xt(t,Uu)}Tr(t){return csString.prototype.replace.call(t,ab,cb)}}return s})();var hb=(()=>{class s{constructor(t,e,i,r,o,c){this.f=t,this.yi=e,this.gs=i,this.C=r,this.S=o,this.K=c}initWithQuota(){if(!this.f.collectionEnabled){this.Zm();return}let t=new Ig(this.f.getSettingsFileUri(),"",{type:"json",cacheMinutes:15});this.bt=new Jw(this.f,t,this.S),this.bt.init(e=>{e?this.init():this.Zm()})}ty(){this.C.schedule(()=>{this.N=new Hn,this.Z=new lb(this.N),this.w=new s_(window.location,this.Z),this.M=new Fr(this.f,this.w,this.yi),this.M.init(),this.wt=new r_,this.E=new t_([Zv.UXA]),this.F=new i_,this.nt=new eb,this._t=new Hv(this.f,new kv(this.f,this.M,this.wt),this.S)})}Zm(){this.ty(),this.C.schedule(()=>{let t=new Ql(this.f,this.M,this.K),e=new ql(this.f,t,this.S);new ob(this.f,this.S,this.E,e,this.w,this.F,this.N,this.nt,this.M,this.wt,this._t).start()})}init(){An.isSupported()&&An.setDigestSalt(this.f.projectId.toString());let t,e,i,r,o,c,u,p,v,f,w,_,R,H,U,I,P,$,q,M,Z,at,gt,Vt,Ft,N,z;this.ty(),this.C.schedule(()=>{w=new Wv(window.location,this.M),new E_().init(),_=ku.create(J.warn),f=new Mh(_),this.bt===void 0&&(this.bt=new Qw(this.f,this.S,w,this.w,new qr),this.bt.init())}),this.C.schedule(()=>{t=new Cv(this.f,this.M,this.K),e=new Ov(t,this.bt,this.S,this.f.replayConsentRequiredForSession,this.f.malkaEtrEnabled),i=new Ql(this.f,this.M,this.K),r=new ql(this.f,i,this.S,e),this.gs.setContext(r,e)}),this.C.schedule(()=>{c=new Mv(r,e,this._t),u=new Nf(this.f,this.M,this.K),p=new Fv(window.location,u),v=new $v(p),U=new Nv(this.f,r,p),Ft=new u_(As,this.f),M=new d_(Ft,this.f.isChild),Z=new p_(Ft),at=new f_(Ft),gt=new g_,Vt=new n_(M,Z,at,gt),I=new Qv(this.E,Vt),P=new Gv(this.w),$=new qv(P,this.E);let Y=new Mf(this.f,this.M,this.K);N=new a_(this.N,Y),q=new o_(this.E,N);let st=new Sf(r,e,p,N,this.f)}),this.C.schedule(()=>{let Y=new Av(this.f,r,p,U,c,R,o,w);this.f.implementations&&(z=new Kw(this.f.implementations,this.E,this.C),z.init(),this.S.addListener(z)),Y.compute(st=>{this.C.schedule(()=>{var Pt;I.init();let $t=new jv(this.f,this.E,this._t,e,this.S),ae=new Yv(this.f,this.M,this.wt),Ue=new Xv(this.S,window.location,ae),os=new Jv(this.E,Ue),ce=new e_(this.E,this.f),Dt=new sb(this.Z,new Vu),Ce=new rb(e,r),as,Ie,Tt,vt=new Yl(this.f,r,e,H),V=new Yl(this.f,r,e,H,Ie);st?(this.S.emitInitTracking(),new Tv(vt,V,_,r,e,Ce,Dt,this.S,this.E,I,this.f,os,Ue,$t,this._t,this.N,Ft,this.Z,this.w,ce,this.F,Vt,N,q,P,$,this.C,f,this.M,this.wt,this.bt,this.nt,Tt,as).start()):new Bv(this.S,this.E,I,os,Ue,v,$t).start()})})})}}return s})(),pi=(()=>{let s;return function(n){let t="{domain}/tag/tag.bundle.js?v={version}",e,i={loadBundle(P){let $=P.source,q=P.data;if(c(q)){let M=()=>{let Z=r(t,q);w(Z,()=>$.postMessage("csBundleLoaded",P.origin))};e=q.token,I(i.loadBundle),u(P.origin)&&M()}}};function r(P,$){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(P,"{version}",$.version),"{token}",$.token),"{domain}",$.domain)}function o(){return e}n.getToken=o;function c(P){return P&&P.type==="csBundleInjection"&&u(P.domain)&&v(P.version)&&p(P.token)}n.isAuthorizedIncomingMessage=c,n.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/;function u(P){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(P)||n.hjDomainRegex.test(P)}n.isAuthorizedDomain=u;function p(P){return/^[a-zA-Z0-9]+$/.test(P)}n.isAuthorizedToken=p;function v(P){return/^[a-zA-Z0-9\.]+$/.test(P)}n.isAuthorizedTagVersion=v;function f(){let P=window.opener||window.parent;return window!==P&&window.addEventListener}n.isActivable=f;function w(P,$){let q=document.createElement("script");q.type="text/javascript",q.async=!0,q.src=P,q.onload=$,q.charset="utf-8",document.head.appendChild(q)}n.addScript=w;function _(P){let $=document.createElement("link");$.rel="stylesheet",$.href=P,document.head.appendChild($)}n.addStyle=_;function R(P){return`${P}?cb=${new csDate().getTime()}`}n.addCacheBusting=R;function H(){U(i.loadBundle)}n.waitForBundleInjection=H;function U(P){window.addEventListener("message",P,!1)}n.listen=U;function I(P){window.removeEventListener("message",P,!1)}n.removeListener=I}(s||(s={})),s})(),oh="_hp_ved",ub=18e5,db="/js/ved.js",pb="/css/ved.css",fb="/js/ved.css",gb=(()=>{let s;return function(n){n.StatusUpdate="status"}(s||(s={})),s})(),mb=(()=>{let s;return function(n){n.ReceivedInitMessage="received_init_message"}(s||(s={})),s})();var ga=(()=>{let s;return function(n){let t=!1,e;function i(w){return e+w}function r(){let w=[i(pb),i(fb)];csArray.prototype.forEach.call(w,_=>{pi.addStyle(_)})}function o(w){let _=new csRegExp("(^|;)[ ]*"+w+"=([^;]*)"),R=_.exec(document.cookie);return R?decodeURIComponent(R[2]):null}function c(w,_,R){let H=encodeURIComponent(w)+"="+encodeURIComponent(_),U=new csDate;U.setTime(U.getTime()+R);let I=H+"; expires="+U.toUTCString()+"; path=/";document.cookie=I}function u(){c(oh,"on",ub)}function p(){return o(oh)==="on"}n.isVLCookieEnabled=p;function v(w){window.heapV=Object.assign({},window.heap,{source:w==null?void 0:w.source,uri:e,loadArgs:w==null?void 0:w.data.args,identify:()=>{},track:()=>{}})}n.initializeHeapV=v;function f(w,_){var R;if(e=w,_){let H={type:gb.StatusUpdate,value:mb.ReceivedInitMessage},U={targetOrigin:_==null?void 0:_.origin};(R=_==null?void 0:_.source)===null||R===void 0||R.postMessage(H,U)}t||(t=!0,u(),v(_),window.heapV&&(pi.addScript(i(db)),r()))}n.init=f}(s||(s={})),s})(),yb=(()=>{let s;return function(n){let t=window.opener||window.parent,e="tag",i="https://app.contentsquare.com",r=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,pi.hjDomainRegex],o,c,u,p={initHeapVisualLabeler(M){var Z;M.origin===u&&((Z=M.data)===null||Z===void 0?void 0:Z.message)==="init"&&M.source&&(ga.init(u,M),P(p.initHeapVisualLabeler))},ping(M){typeof M.data=="string"&&M.data==="ping"&&w(M.origin)&&(c=M.origin,o=pi.hjDomainRegex.test(M.origin)?i:M.origin,P(p.ping),I(p.insertMessageScript),_(pi.addCacheBusting("utils.js")))},insertMessageScript:$(M=>{typeof M.data=="string"&&M.data!=="ping"&&(P(p.insertMessageScript),_(M.data))})};function v(){return pi.getToken()}n.getToken=v;function f(){return window!==t&&window.addEventListener}n.isActivable=f;function w(M){return csArray.prototype.some.call(r,Z=>Z.test(M))}n.isAuthorizedDomain=w;function _(M,Z){let at=document.createElement("script");at.type="text/javascript",at.async=!0;let gt=o==null?void 0:csString.prototype.replace.call(o,/^https?:/,"");at.src=`${gt}/${e}/${M}`,at.onload=Z,at.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(at),R(M)}function R(M){csString.prototype.includes.call(M,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(M,"&mode=")[1])}function H(){I(p.ping),pi.waitForBundleInjection()}n.waitForConnection=H;function U(M){u=M,I(p.initHeapVisualLabeler),ga.isVLCookieEnabled()&&ga.init(u)}n.waitForHeapVisualLabeler=U;function I(M){window.addEventListener("message",M,!1)}n.listen=I;function P(M){window.removeEventListener("message",M,!1)}n.removeListener=P;function $(M){return function(Z){Z.origin===c&&M(Z)}}n.secureListener=$;function q(M){c&&t.postMessage(M,c)}n.post=q}(s||(s={})),s})();var vr=window.CSFrameCommunication||yb;var Eb=(()=>{class s extends Pc{constructor(t){super(),this.C=t}emitBeforeNaturalPageView(t){for(let e of this.listeners)e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView(t)}emitAfterNaturalPageView(){for(let t of this.listeners)t.onAfterNaturalPageView&&t.onAfterNaturalPageView()}emitInitTracking(){for(let t of this.listeners)t.onInitTracking&&t.onInitTracking()}emitStartTracking(t){for(let e of this.listeners)e.onStartTracking&&this.C.schedule(()=>e.onStartTracking(t))}emitStartNoTrackingMode(){for(let t of this.listeners)t.onStartNoTrackingMode&&this.C.schedule(()=>t.onStartNoTrackingMode())}emitArtificialPageViewEnd(){for(let t of this.listeners)if(t.onArtificialPageViewEnd)try{t.onArtificialPageViewEnd()}catch(e){J.error(e)}}emitBeforeArtificialPageView(t,e){for(let i of this.listeners)i.onBeforeArtificialPageView&&i.onBeforeArtificialPageView(t,e)}emitAfterArtificialPageView(){for(let t of this.listeners)t.onAfterArtificialPageView&&t.onAfterArtificialPageView()}emitBeforeSessionRenewal(){for(let t of this.listeners)t.onBeforeSessionRenewal&&t.onBeforeSessionRenewal()}emitAfterSessionRenewal(){for(let t of this.listeners)t.onAfterSessionRenewal&&t.onAfterSessionRenewal()}emitOptout(){for(let t of this.listeners)t.onOptout&&t.onOptout()}emitReplayUnanonymizationConsentGranted(){for(let t of this.listeners)t.onReplayUnanonymizationConsentGranted&&t.onReplayUnanonymizationConsentGranted()}emitReplayUnanonymizationConsentWithdrawn(){for(let t of this.listeners)t.onReplayUnanonymizationConsentWithdrawn&&t.onReplayUnanonymizationConsentWithdrawn()}emitAfterReplayRecordingConsentGranted(){for(let t of this.listeners)t.onAfterReplayRecordingConsentGranted&&t.onAfterReplayRecordingConsentGranted()}emitAfterReplayRecordingConsentWithdrawn(){for(let t of this.listeners)t.onAfterReplayRecordingConsentWithdrawn&&t.onAfterReplayRecordingConsentWithdrawn()}emitCollectStateChange(t,e){for(let i of this.listeners)i.onCollectStateChange&&i.onCollectStateChange(t,e)}emitInitialDomStart(){for(let t of this.listeners)t.onInitialDomStart&&t.onInitialDomStart()}emitInitialDomDone(t){for(let e of this.listeners)e.onInitialDomDone&&e.onInitialDomDone(t)}emitRecordingContextChange(){for(let t of this.listeners)t.onRecordingContextChange&&t.onRecordingContextChange()}emitSensitiveStatusChange(){var t;for(let e of this.listeners)(t=e.onSensitiveStatusChange)===null||t===void 0||t.call(e)}emitBeforeVisitorRenewal(){for(let t of this.listeners)t.onBeforeVisitorRenewal&&t.onBeforeVisitorRenewal()}emitAfterVisitorCleared(){for(let t of this.listeners)t.onAfterVisitorCleared&&t.onAfterVisitorCleared()}emitAfterVisitorRenewal(){for(let t of this.listeners)t.onAfterVisitorRenewal&&t.onAfterVisitorRenewal()}emitSessionCreated(){for(let t of this.listeners)t.onSessionCreated&&t.onSessionCreated()}emitSessionRemoved(){for(let t of this.listeners)t.onSessionRemoved&&t.onSessionRemoved()}emitSessionRefreshed(){for(let t of this.listeners)t.onSessionRefreshed&&t.onSessionRefreshed()}}return tt([te("emitStartTracking")],s.prototype,"emitStartTracking",null),s})();var Sb=(()=>{let s;return function(n){function t(){return typeof window.CSJavascriptBridge=="object"&&typeof window.CSJavascriptBridge.optIn=="function"&&typeof window.CSJavascriptBridge.optOut=="function"&&typeof window.CSJavascriptBridge.sendEvent=="function"&&typeof window.CSJavascriptBridge.sendDynamicVar=="function"&&typeof window.CSJavascriptBridge.sendTransaction=="function"}n.isCSJavascriptBridgeDefined=t;function e(){if(typeof window.CSJavascriptBridge.getVersion=="function")try{let I=window.CSJavascriptBridge.getVersion();if(Ht(I))return I}catch{J.warn("an error occurred when calling getVersion")}return null}n.getBridgeVersion=e;function i(){typeof window.CSJavascriptBridge.onWebviewTrackingReady=="function"&&window.CSJavascriptBridge.onWebviewTrackingReady()}n.notifyIsReadyForTracking=i;function r(I,P){window.CSJavascriptBridge.identify&&window.CSJavascriptBridge.identify(I,csJSON.stringify(P))}n.identify=r;function o(){window.CSJavascriptBridge.resetIdentity&&window.CSJavascriptBridge.resetIdentity()}n.resetIdentity=o;function c(I){window.CSJavascriptBridge.addUserProperties&&window.CSJavascriptBridge.addUserProperties(csJSON.stringify(I))}n.addUserProperties=c;function u(I){window.CSJavascriptBridge.sendEvent(csJSON.stringify(I))}n.sendAnalysisEvent=u;function p(I){if(window.CSJavascriptBridge.sendSREvent)for(let P of I.events)window.CSJavascriptBridge.sendSREvent(csJSON.stringify(P))}n.sendSREvent=p;function v(I){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(I))}n.sendLog=v;function f(){window.CSJavascriptBridge.optIn()}n.sendOptIn=f;function w(){window.CSJavascriptBridge.optOut()}n.sendOptOut=w;function _(I,P){window.CSJavascriptBridge.sendDynamicVar(I,P)}n.sendDynamicVariable=_;function R(I,P,$){window.CSJavascriptBridge.sendTransaction(I,P,$)}n.sendTransaction=R;function H(I,P){if(window.CSJavascriptBridge.sendAssets){let $=csJSON.stringify(I);window.CSJavascriptBridge.sendAssets($,P||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(I,$=>$.assetId))}n.sendAssets=H;function U(I){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(I))}n.sendNativeSREvent=U}(s||(s={})),s})();var vb=(()=>{class s{setItem(t,e){window.sessionStorage.setItem(t,e)}getItem(t){return window.sessionStorage.getItem(t)}removeItem(t){window.sessionStorage.removeItem(t)}}return s})(),_b=(()=>{class s{constructor(t,e,i){this.f=t,this.Tt=e,this.gs=i}start(){var t,e,i,r,o;if(window.CSQ_TAGS=csArray.prototype.concat.call(window.CSQ_TAGS||[],this.f.projectId),window.UXAnalytics)return;window.UXAnalytics={};let c=new vb,u=new Nu(!!(!((t=this.f.taskSchedulerOptions)===null||t===void 0)&&t.enabled),(e=this.f.taskSchedulerOptions)===null||e===void 0?void 0:e.maxProcessingTime,(i=this.f.taskSchedulerOptions)===null||i===void 0?void 0:i.waitDuration),p=new pf(this.Tt,this.f);p.init();let v=new gf(this.f,p);if(this.Tt.isTopWindowTracker()&&v.canTrack()){if(!((r=window.CSProtectnativeFunctionsLogs)===null||r===void 0)&&r.Warning&&J.warn(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Warning}`),!((o=window.CSProtectnativeFunctionsLogs)===null||o===void 0)&&o.Critical){J.error(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Critical}`);return}uf();let w=new Eb(u),_=new hb(this.f,p,this.gs,u,w,c);this.f.isQuotaEnabled()?_.initWithQuota():_.init()}let f=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive(w){return W.isMaskedElement(w)||W.isMaskedElementChild(w)},isAttributeSensitive(w,_){return W.isMaskedAttribute(w,_)},getSensitiveAttributes(w){return Mn(w.attributes,_=>W.isMaskedAttribute(w,_.name))}},Console:{warn(w){f&&console.warn("cs.tracking.warning",w)},error(w){f&&console.error("cs.tracking.error",w)}},Version:Ch},window.CSFrameCommunication||(window.CSFrameCommunication=vr,vr.isActivable()&&vr.waitForConnection(),this.f.isCsCrosswritingHeap()&&vr.waitForHeapVisualLabeler(this.f.getHeapWebAppUri()))}}return tt([te("main.start"),B("main.start")],s.prototype,"start",null),s})(),wb=(()=>{class s{constructor(){}send(t,e,i=Ot.warn){let r={message:t,errorCode:e,level:i};Sb.sendLog(r)}}return s})();var bb=(()=>{class s{constructor(t,e,i){this.X=t,this.N=e,this.cI=i,this.kt=[],this.lI=hc().v}flush(){this.kt.length!==0&&(this.X.send({m:csArray.prototype.map.call(this.kt,t=>({n:t.name,p:t.parameter,v:t.value})),p:this.N.anonymizePII(window.location.pathname),pid:this.cI,v:this.lI}),this.kt=[])}push(t){csArray.prototype.push.call(this.kt,...t),this.flush()}}return s.DEBOUNCE_INTERVAL=5e3,tt([od(s.DEBOUNCE_INTERVAL)],s.prototype,"flush",null),s})();function Tb(s,n){let t=s.validationRate/10,e=gi.boolean(t);if((s.environment==="staging"||!1||e)&&!n.isInWebViewContext())try{let o=ku.create(J.warn,n.isTopWindowTracker()),u=new Mh(o).create(s.getMetricsUri(),!0),p=new Hn,v=new bb(u,p,s.projectId);ot.setService(v)}catch(o){J.warn(`Error initializing metrics: ${o.message}`)}}function Ab(){var s;md();let n=new Mp(window.CS_CONF);window._uxa=window._uxa||[],n.processOptionOverrides(window._uxa);let t=new kp(window,n);t.init();let e=new of;if(sd(J),af(),J.computeIsActive(n.validationRate),t.isTopWindowTracker()){let o=new tf(n,e);J.setStrategy(o)}else if(t.isInWebViewContext()){let r=new wb;J.setStrategy(r)}!((s=n==null?void 0:n.experimental)===null||s===void 0)&&s.disableMutationObserverProtection&&window.csMutationObserver&&(window.csMutationObserver=Ei(window,"MutationObserver")),ip(),Tb(n,t),new _b(n,t,e).start()}window.CSCurrentScript=document.currentScript;csSetTimeout(()=>{try{cf(Ab)}catch{}});})();

// signature-20eb982fbab961554999de3db368abc23e39b4805b5135c99ad05aeee165815d