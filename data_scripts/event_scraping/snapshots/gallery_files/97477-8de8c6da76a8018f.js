"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97477],{851:function(e,t,n){n.d(t,{r:function(){return U},Q:function(){return z}});var r=n(59499),i=n(17674),o=n(67294),a=n(24890),s=n(58207),c=n(84786),u=n(58020),l=n(6332),d=n(39839),f=n(79828),p=n(27955),v=n.n(p),m=n(29995),y=n(32638),Z=n(18357),b=n(24674),j=n(86896),g=n(50434),O=n(18710),h=n(44862),P=n(19671),x=n.n(P),w=n(90646),E=n(78163),C=n(24342),S=n(37497),I=n(33330),D=n(48618),k=n(51423),R=n(59966),N=n(94014),T=n(48314),M=n(85893);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=function(e){var t=e.title,n=e.date,r=e.venue,p=e.contentUrl,P=e.queueItEnabled,A=e.flyerFront,U=e.withFlyer,_=e.bump,F=e.dateFormat,$=e.lazyRootRef,B=e.newEventForm,z=e.images,q=e.onClick,G=e.isSaved,H=e.isInterested,Y=e.id,K=e.interestedCount,W=e.artists,Q=e.promoters,X=e.tickets,J=e.isTicketed,V=(0,C.JC)(x().enableSavedEvents),ee=(0,Z.YD)({triggerOnce:!0}),et=(0,i.Z)(ee,2),en=et[0],er=et[1],ei=null==_?void 0:_.id;(0,o.useEffect)(function(){er&&ei&&b.ZP.trackMixpanel(b.tT.shownPromotedEventListing,{"Event ID":Y,"Listing Type":"Popular"})},[er,ei,Y]);var eo=(0,j.Z)();return(0,M.jsxs)(a.Z,{flexDirection:"column","data-testid":h.Z.eventUpcomingCard,"data-pw-test-id":O.Z.popularEventItem,onClick:q,ref:en,children:[U&&(0,M.jsx)(s.Z,{mb:3,children:(0,M.jsx)(N.ZP,L(L({"data-pw-test-id":O.Z.eventImageLink,variant:c.Z.text.heading.m},(0,m.M8)(p,P)),{},{children:(0,M.jsx)(D.ZP,{url:(0,y.Z)({flyerFront:A,newEventForm:B,images:z},g.Z.flyerFront),aspect:f.ZP["ISO-216"],alt:"'".concat(t,"' flyer image"),sizes:{m:"25vw"},lazyRootRef:$,properties:{fit:"crop",ar:(0,f.hX)(f.ZP["ISO-216"]),quality:50}})}))}),_&&(0,M.jsx)(s.Z,{mb:1,children:(0,M.jsx)(u.Z,{variant:c.Z.tag.secondary,children:eo.formatMessage(w.Z.promoted)})}),(0,M.jsxs)(a.Z,{justifyContent:"space-between",flexDirection:"row",children:[(0,M.jsx)(k.ZP,{color:"secondary",date:n,variant:c.Z.text.heading.s,format:F||(0,d.v)(n)}),V&&(0,M.jsx)(E.ZP,{trackingData:{venue:r,artists:W,promoters:Q,tickets:X,isTicketed:J,source:E.e$.PopularSection},eventId:Y,isInterested:H,interestedCount:K,isSaved:G,type:E.K2.EventCardIcon})]}),(0,M.jsx)(R.Z,{"data-pw-test-id":O.Z.eventTitle,children:(0,M.jsx)(N.ZP,L(L({"data-pw-test-id":O.Z.eventTitleLink,variant:c.Z.text.heading.m},(0,m.M8)(p,P)),{},{children:v()(t)}))}),(0,M.jsxs)(s.Z,{mt:2,children:[null!=r&&r.live?(0,M.jsx)(I.Z,{Icon:l.Z,text:r.name,href:r.contentUrl,linkProps:{"data-pw-test-id":O.Z.eventVenueLink}}):(0,M.jsx)(S.Z,{textProps:{"data-pw-test-id":O.Z.eventVenueLink},Icon:l.Z,text:null==r?void 0:r.name}),(0,M.jsx)(T.Z,{count:K})]})]})},_=n(11988),F=n(97709);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var z=function(e){var t=e.title,n=e.date,r=e.venue,i=e.contentUrl,o=e.flyerFront,u=e.queueItEnabled,d=e.withFlyer,p=e.area,Z=e.newEventForm,b=e.images,j=e.isSaved,O=e.isInterested,h=e.id,P=e.interestedCount,w=e.artists,A=e.promoters,L=e.tickets,U=e.isTicketed,$=(0,C.JC)(x().enableSavedEvents);return(0,M.jsxs)(a.Z,{flexDirection:"column",children:[d&&(0,M.jsx)(s.Z,{mb:{s:2,m:3},children:(0,M.jsx)(N.ZP,B(B({variant:c.Z.text.heading.m},(0,m.M8)(i,u)),{},{children:(0,M.jsx)(D.ZP,{url:(0,y.Z)({flyerFront:o,images:b,newEventForm:Z},g.Z.flyerFront),aspect:f.ZP["ISO-216"],alt:"'".concat(t,"' flyer image"),sizes:{m:"25vw"},properties:{fit:"crop",ar:(0,f.hX)(f.ZP["ISO-216"])}})}))}),(0,M.jsxs)(a.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,M.jsx)(k.ZP,{color:"secondary",date:n,variant:c.Z.text.heading.s}),$&&(0,M.jsx)(E.ZP,{trackingData:{venue:r,artists:w,promoters:A,tickets:L,isTicketed:U,source:E.e$.PopularSection},eventId:h,isInterested:O,interestedCount:P,isSaved:j,type:E.K2.EventCardIcon})]}),(0,M.jsx)(R.Z,{children:(0,M.jsx)(N.ZP,B(B({variant:c.Z.text.heading.m},(0,m.M8)(i,u)),{},{children:v()(t)}))}),(0,M.jsxs)(s.Z,{mt:2,children:[(0,M.jsxs)(a.Z,{mb:1,children:[(0,M.jsx)(F.Z,{size:18,px:"3px",urlCode:p.country.urlCode}),(0,M.jsx)(N.ZP,B(B({my:1,variant:c.Z.text.label},(0,m.HR)((0,_.jR)("/events",p))),{},{children:(0,_.QW)(p)}))]}),null!=r&&r.live?(0,M.jsx)(I.Z,{Icon:l.Z,text:r.name,href:r.contentUrl}):(0,M.jsx)(S.Z,{Icon:l.Z,text:r.name}),(0,M.jsx)(T.Z,{count:P})]})]})}},24664:function(e,t,n){var r=n(17674),i=n(67294),o=n(21561),a=n(36268),s=n(69358),c=n(85893);t.Z=function(e){var t=e.area,n=e.title,u=e.formatLocationUrl,l=(0,o.Xh)(),d=(0,r.Z)(l,2)[1];return(0,i.useEffect)(function(){return d({type:o.Nw.SET_MENU_COLOR,payload:"black"}),function(){d({type:o.Nw.RESET_MENU_COLOR})}},[d]),(0,c.jsx)(s.ZP,{light:!0,ContentComponent:(0,c.jsx)(a.Z,{title:n,formatLocationUrl:u,area:t})})}},18583:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(59499),i=n(58439),o=n(11163),a=n(76250),s=n(16018),c=n(57151),u=n(96571),l=n(42401),d=n(67294),f=n(86896),p=n(11988),v=n(49466),m=n(90646),y=n(66041),Z=n(27980),b=n(43867),j=n(85893),g=function(e,t,n,r){var i=(0,p.jR)("/events",e);return t===y.Z.area?[{title:r.formatMessage(m.Z.all),href:i},{title:r.formatMessage(m.Z.forYou),href:"".concat(i,"/for-you")},{title:r.formatMessage(m.Z.new),href:"".concat(i,"/just-announced")},{title:r.formatMessage(m.Z.RAPicks),href:"".concat(i,"/ra-picks")}]:[{title:r.formatMessage(m.Z.all),href:O("",n)},{title:r.formatMessage(m.Z.forYou),href:O("/for-you",n)},{title:r.formatMessage(m.Z.new),href:O("/just-announced",n)},{title:r.formatMessage(m.Z.RAPicks),href:O("/ra-picks",n)}]},O=function(e,t){var n=new URLSearchParams(t).toString();return"/events/location/near-you".concat(e,"?").concat(n)},h=function(e){var t=e.subNavFilters,n=e.area,r=(0,f.Z)(),i=(0,o.useRouter)().query,a=i.latitude,s=i.longitude,c=i.distance,u=(0,b.fM)().locationType,l=(0,d.useMemo)(function(){return g(n,u,{latitude:a,longitude:s,distance:c},r)},[n,u,a,s,c,r]);return(0,j.jsx)(Z.Z,{subNavFilters:t,trackingId:v.Z.eventsSubNav,subNavItems:l})};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var x=function(e,t,n,r){var i=[[a.Z.PAGE,n],[a.Z.CATEGORY,"Listings"],[a.Z.SECTION,"Events"],[a.Z.CONTENT,"EventsHome"],[a.Z.COUNTRY,e],[a.Z.AREA,t]];return r.genre&&i.push([a.Z.GENRES,r.genre]),i},w=function(e){var t=e.area,n=e.children,a=e.subNavFilters,d=e.seo,f=d.title,p=d.description,v=d.ogTitle,m=d.noindex,y=(0,o.useRouter)(),Z=y.asPath,b=y.query;(0,s.N)(x(t.country.name,t.name,Z,b));var g=(0,u.Z)({area:t,country:t.country}),O="".concat((void 0===v?void 0:v)||"Events"," \xb7 ").concat(g," âŸ‹ RA"),w=b.idOrCountry,E=b.area,C=b.status,S=(0,c.Z)({overrides:{title:(void 0===f?void 0:f)||O,description:(void 0===p?void 0:p)||"RA: Resident Advisor",ogTitle:O,ogDescription:"RA: Resident Advisor",noindex:!!(void 0!==m&&m)||!E&&!w||!!C}});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},S)),(0,j.jsxs)(i.L9,{children:[(0,j.jsx)(h,{subNavFilters:a,area:t}),n]})]})}},22906:function(e,t,n){n.d(t,{Z:function(){return et}});var r,i=n(59499),o=n(30701),a=n(4730),s=n(93633),c=n(11752),u=n.n(c),l=n(86896),d=n(60661),f=n(67796),p=n(89813),v=n(15768),m=n.n(v),y=n(90646),Z=n(19671),b=n.n(Z),j=n(50923),g=n(62588),O=n(24342),h=n(96571),P=n(49815),x=n(95652),w=n(32681),E=n(24890),C=n(97788),S=n(41686),I=n(24674),D=n(87066),k=n(42681),R=n(44862),N=n(43867),T=n(851),M=n(27044),A=n(12295),L=n(85893),U=["data","title","SubmitEventButton"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $=function(e,t,n,r,i){var o;I.ZP.trackMixpanel(I.tT.popularCarouselEventClicked,{"Event ID":e,"Event Title":t,"Events Region Id":null==n||null===(o=n.area)||void 0===o||null===(o=o.id)||void 0===o?void 0:o.toString(),"Events Region Name":null==n?void 0:n.areaName,"Position In Event Listing":r,"Ordering Used":"New"}),i&&(I.ZP.trackMixpanel(I.tT.clickedPromotedEventListing,{"Event ID":e,"Listing Type":"Popular"}),D.Z.get(i))},B=function(e){var t=e.data,n=e.title,r=e.SubmitEventButton,i=(0,a.Z)(e,U),o=(0,N.fM)().area;return(0,A.Z)(t),(0,L.jsx)(S.ThemeProvider,{theme:k._4,children:(0,L.jsxs)(w.Z,F(F({variant:w.Z.variant.secondary},i),{},{children:[(0,L.jsxs)(E.Z,{justifyContent:"space-between",children:[(0,L.jsx)(C.Z,{children:n}),r&&(0,L.jsx)("div",{"data-testid":R.Z.submitButton,children:(0,L.jsx)(r,{})})]}),(0,L.jsx)(M.Z,{Card:T.r,mCols:4,items:t.map(function(e,t){return F(F({},e),{},{withFlyer:!0,bump:e.bump,onClick:function(){var n;return $(e.id,e.title,o,t+1,null==e||null===(n=e.bump)||void 0===n?void 0:n.clickUrl)}})})})]}))})},z=n(71383),q=n(50456),G=n(25262),H=(0,q.Ps)(r||(r=(0,z.Z)(["\n  query GET_POPULAR_EVENTS(\n    $filters: FilterInputDtoInput\n    $pageSize: Int\n    $sort: SortInputDtoInput\n    $includeBumps: Boolean!\n    $areaId: ID\n    $dateRange: DateRangeInput\n    $type: ZoneType\n  ) {\n    eventListings(\n      filters: $filters\n      pageSize: $pageSize\n      page: 1\n      sort: $sort\n    ) {\n      data {\n        id\n        listingDate\n        event {\n          id\n          title\n          interestedCount\n          isSaved\n          isInterested\n          date\n          contentUrl\n          flyerFront\n          queueItEnabled\n          newEventForm\n          images {\n            id\n            filename\n            alt\n            type\n            crop\n          }\n          venue {\n            id\n            name\n            contentUrl\n            live\n          }\n        }\n      }\n    }\n    bumps(areaId: $areaId, dateRange: $dateRange, type: $type)\n      @include(if: $includeBumps) {\n      bumpDecision {\n        id\n        eventId\n        clickUrl\n        impressionUrl\n        event {\n          ...eventListingsFields\n          artists {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),G.Z),Y=["area","count","title","dateFrom","onQueryCompleted"],K=["data","title","bumps","SubmitEventButton"];function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var X=u()().publicRuntimeConfig.RA_BUMPS_CONFIG,J=function(e){var t=e.data,n=e.title,r=e.bumps,i=e.SubmitEventButton,o=(0,a.Z)(e,K),s=t.filter(function(e){return e.event}).map(function(e){return e.event});if(m()(r)){var c=null==r?void 0:r.filter(function(e){return e.event});s=m()(c)?(0,p.F)(s,c):s}return(0,L.jsx)(B,Q({data:s,title:n,SubmitEventButton:i},o))},V=function(e){var t,n,r,o=e.area,c=e.count,u=e.title,p=e.dateFrom,v=e.onQueryCompleted,m=(0,a.Z)(e,Y),Z=(0,l.Z)(),w=(0,P.w)(),E=(0,O.JC)(b().enablePopularBumpsInWeb)&&(null===(t=X.POPULAR_BUMPS_AREA_IDS)||void 0===t?void 0:t.includes(null==o?void 0:o.id)),C=p||(0,d.Z)(new Date(w),"yyyy-MM-dd"),S=(0,d.Z)((0,f.Z)(new Date(C),{weekStartsOn:1}),"yyyy-MM-dd"),I=(n={},(0,i.Z)(n,j.Iv.Areas,{eq:parseInt(null==o?void 0:o.id,10)}),(0,i.Z)(n,j.Iv.ListingDate,{gte:C,lte:S}),(0,i.Z)(n,j.Iv.ListingPosition,{eq:1}),n),D=(0,g.Z)(I),k={};E&&null!=o&&o.id&&(k={areaId:o.id,dateRange:{startDate:C,endDate:S},type:"POPULAR"});var R={score:{order:j.mX.Descending},titleKeyword:{order:j.mX.Ascending}},N=(0,s.a)(H,{variables:Q({filters:D,pageSize:void 0===c?10:c,sort:R,includeBumps:E&&!!o.id},k),onCompleted:void 0===v?function(){return{}}:v}),T=(0,h.Z)({area:o,country:null==o?void 0:o.country}),M=u||(null!=o&&o.name?Z.formatMessage(y.Z.popularWithLocation,{areaName:T}):Z.formatMessage(y.Z.popular));return(0,L.jsx)(x.ZP,Q(Q({},N),{},{dataKey:"eventListings.data",markup:J,markupProps:{title:M,bumps:null===(r=N.data)||void 0===r||null===(r=r.bumps)||void 0===r?void 0:r.bumpDecision}},m))};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var et=function(e){return(0,L.jsx)(o.ZP,{errorType:o.NI.EventListingRender,fallback:function(){return null},additionalContext:{props:e},children:(0,L.jsx)(V,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))})}},69358:function(e,t,n){n.d(t,{Pz:function(){return o.Z},ZP:function(){return r.Z},oB:function(){return i.Z}});var r=n(96468),i=n(82091),o=n(37790)},84865:function(e,t,n){var r=n(59499),i=n(4730),o=n(67294),a=n(45697),s=n.n(a),c=n(24890),u=n(25573),l=n(61233),d=n(85893),f=["Card","Button","items"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}s().func.isRequired,s().node,s().number.isRequired,s().array.isRequired,s().bool,s().bool,s().number,t.Z=function(e){var t=e.Card,n=e.Button,r=e.items,a=(0,i.Z)(e,f),s=(0,o.useRef)();return(0,d.jsx)(l.ZP,{sizes:["s"],children:(0,d.jsxs)(c.Z,{flexDirection:"column",children:[(0,d.jsx)(u.Z,v(v({},a),{},{ref:s,children:r.map(function(e,n){var r=n>=3?s:void 0;return(0,d.jsx)(u.Z.Item,{children:(0,d.jsx)(t,v({lazyRootRef:r,position:n+1},e))},e.id||n)})})),n]})})}},27044:function(e,t,n){n.d(t,{Z:function(){return r.Z}});var r=n(84865)},12623:function(e,t,n){n.d(t,{Z:function(){return U}});var r,i=n(59499),o=n(11752),a=n.n(o),s=n(41686),c=n(58207),u=n(50598),l=n(53993),d=n(89761),f=n(17882),p=n(71383),v=n(17674),m=n(67294),y=n(23655),Z=n(73253),b=n(59366),j=n(21561),g=n(20695),O=function(e){var t=(0,m.useState)("sticky"),n=t[0],r=t[1],i=(0,m.useState)(!1),o=i[0],a=i[1],s=(0,m.useState)(!1),c=s[0],u=s[1],l=(0,m.useRef)(o);return(0,m.useEffect)(function(){l.current=o,c&&setTimeout(function(){l.current||r("relative")},e)},[o,c,e]),[n,a,u]},h=n(18710),P=n(85893),x=a()().publicRuntimeConfig,w=parseInt(x.STICKY_AD_DURATION)+2e3,E=(0,s.default)(Z.E.div).withConfig({displayName:"StickyAd__StyledSticky",componentId:"sc-1598nwd-0"})(["top:0;"," "," ",";"],function(e){var t=e.theme,n=e.position;return(0,s.css)(["z-index:",";position:",";background-color:",";"],t.zIndex.stickyHeaderAd,n,t.colors.black)},function(e){var t=e.measuredHeight;return t?(0,s.css)(["min-height:","px;"],t):(0,s.css)(["min-height:100px;"])},y.Z.m(r||(r=(0,p.Z)(["\n   ",";\n  "])),function(e){var t=e.measuredHeight;return t?(0,s.css)(["min-height:","px;"],t):(0,s.css)(["min-height:250px;"])})),C=function(){var e=(0,m.useRef)(),t=(0,m.useRef)(),n=(0,m.useState)(null),r=n[0],i=n[1],o=(0,j.Xh)(),a=(0,v.Z)(o,1)[0].showMobileMenu,s=O(x.STICKY_AD_DURATION),c=(0,v.Z)(s,3),u=c[0],l=c[1],d=c[2];(0,m.useEffect)(function(){var n=setTimeout(function(){!t.current&&e.current&&(e.current.hidden=!0)},w);return function(){return clearTimeout(n)}},[e,t]);var f=(0,m.useCallback)(function(n){var r=n.event;if(null!=r&&r.isEmpty){e.current.hidden=!0;return}t.current=!0,d(!0),n.height&&i(n.height)},[d,i]);return a?null:(0,P.jsx)(E,{className:g.ZP.adSlotClass,onHoverStart:function(){return l(!0)},onHoverEnd:function(){return l(!1)},position:u,ref:e,transition:b.Z.default.closed,measuredHeight:r,"data-pw-test-id":h.Z.leaderAd,children:(0,P.jsx)(g.ZP,{variant:g.ZP.variants.Leader,onSlotRender:f})})},S=n(74776),I=n(35583),D=n(7704),k=n(5343);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T=a()().publicRuntimeConfig.ENVIRONMENT===u.Z.staging,M=function(e){var t=e.WrappedComponent,n=e.componentProps,r=e.hideCookieConsentBanner,i=e.hideLeader,o=e.showMobileGlobalNav,a=e.hideFooterMobile,s=e.hideCornerNav,u=e.footerBottomPadding;return(0,P.jsxs)(D.Z,{children:[!r&&(0,P.jsx)(I.Z,{}),(0,P.jsxs)(L,{children:[T&&(0,P.jsx)(S.Z,{}),!i&&(0,P.jsx)(C,{}),(0,P.jsx)(f.Z,{showMobileGlobalNav:o}),(0,P.jsx)(t,N({},n))]}),(0,P.jsx)(c.Z,{display:{s:a?"none":"block",m:"block"},pb:{m:u},children:(0,P.jsx)(l.Z,{})}),!s&&(0,P.jsx)(d.Z,{}),(0,P.jsx)(k.Z,{})]})},A=s.default.div.withConfig({displayName:"DefaultLayout__Container",componentId:"sc-1k0r57y-0"})(["flex:1 0 auto;display:flex;min-height:90hv;flex-direction:column;"]),L=function(e){var t=e.children;return(0,P.jsx)(A,{className:"layoutContainer","data-testid":"layoutContainer",children:t})},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{hideLeader:!1,showMobileGlobalNav:!1,hideCookieConsentBanner:!1,hideCornerNav:!1,hideFooterMobile:!1,footerBottomPadding:0};return function(n){return(0,P.jsx)(M,N({WrappedComponent:e,componentProps:n},t))}}},36268:function(e,t,n){var r=n(67294),i=n(40379),o=n(11163),a=n(41686),s=n(24890),c=n(66236),u=n(84786),l=n(89949),d=n(19712),f=n(55428),p=n(48561),v=n(11544),m=n(49466),y=n(19671),Z=n.n(y),b=n(66041),j=n(97709),g=n(59951),O=n(94014),h=n(24342),P=n(43867),x=n(85893),w=(0,a.default)(s.Z).withConfig({displayName:"EventsLocationFilter__LinkWrapper",componentId:"sc-19kb8da-0"})(["cursor:pointer;&:hover > *{",";}"],function(e){var t=e.theme;return(0,a.css)(["color:",";"],t.colors.accent)});t.Z=function(e){var t=e.title,n=e.area,a=e.formatLocationUrl,y=e.color,E=(0,r.useState)(!1),C=E[0],S=E[1],I=(0,o.useRouter)().push,D=(0,h.JC)(Z().enableSavedEvents),k=(0,P.fM)().locationType,R=function(){return S(!C)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.Z,{alignItems:"start",children:(0,x.jsxs)(w,{alignItems:"center",flexDirection:"row",onClick:R,"data-tracking-id":m.Z.openLocationFilterModal,children:[k!==b.Z.geoLocation&&(0,x.jsx)(j.Z,{size:{s:29,m:58},urlCode:n.country.urlCode}),(0,x.jsx)(c.Z,{variant:u.Z.text.heading.xl,ml:{s:k===b.Z.geoLocation?0:2,m:k===b.Z.geoLocation?0:3},children:t}),(0,x.jsx)(l.Z,{Component:d.Z,size:24,ml:2,color:y})]})}),D&&(0,x.jsx)(s.Z,{alignItems:"center",mr:{m:3},children:(0,x.jsx)(O.ZP,{href:"/user/saved-events",children:(0,x.jsx)(f.Z,{size:40,iconSize:24,isActive:!1,Icon:p.Z,variant:u.Z.iconButton.quaternary})})}),(0,x.jsx)(v.M,{children:C&&(0,x.jsx)(g.Z,{onLocationSelect:function(e){var t=e.id,n=e.isCountry,r=e.urlCode,o=e.urlName;(0,i.z)(t);var s=a(n?"/".concat(r,"/all"):"/".concat(r,"/").concat(o));I(s.href,s.as),R()},area:n,toggle:R})})]})}},5994:function(e,t,n){n.d(t,{U:function(){return b},Z:function(){return j}});var r,i=n(93633),o=n(58207),a=n(41609),s=n.n(a),c=n(29379),u=n(71383),l=n(50456),d=n(65921),f=(0,l.Ps)(r||(r=(0,u.Z)(["\n  query GET_AREA_WITH_GUIDEIMAGEURL_QUERY(\n    $id: ID\n    $areaUrlName: String\n    $countryUrlCode: String\n  ) {\n    area(id: $id, areaUrlName: $areaUrlName, countryUrlCode: $countryUrlCode) {\n      ...areaFields\n      guideImageUrl\n    }\n  }\n  ","\n"])),d.s),p=n(95652),v=n(23963),m=n(98884),y=n(85893),Z=function(e,t,n){var r=(0,v.K)(),o=r.area,a=r.eventsArea,s=r.error,c=r.loading,u=(0,i.a)(f,{variables:{areaUrlName:e,countryUrlCode:t||null},skip:!e}),l=u.loading,d=u.error,p=u.data,m=n!==b.user&&a?a:o;return{loading:l||!e&&c,error:d||!e&&s,area:e&&(null==p?void 0:p.area)||m}},b={user:"user",events:"events"},j=function(e){var t=e.queryArea,n=e.queryCountry,r=e.children,i=Z(t,n,e.personalizationMode),a=i.loading,u=i.area;return a?(0,y.jsx)(o.Z,{pt:6,children:(0,y.jsx)(p.lZ,{})}):s()(u)?(0,y.jsx)(m.Z,{entityType:c.Z.Area}):r({area:u})}},16018:function(e,t,n){n.d(t,{N:function(){return o}});var r=n(67294);n(76250);var i=n(56831),o=function(e){var t=(0,i.pA)().dispatch,n=(0,r.useRef)(e);(0,r.useEffect)(function(){t({type:i.Nw.SET_TARGETING,payload:n.current})},[t])}},34237:function(e,t,n){n.d(t,{Z:function(){return u}});var r,i=n(11163),o=n(11988),a=n(95652),s=n(71383),c=(0,n(50456).Ps)(r||(r=(0,s.Z)(["\n  query GET_PAGE_METADATA_OVERRIDES_QUERY($where: JSON!) {\n    metadataOverrides(where: $where) {\n      id\n      title\n      description\n    }\n  }\n"]))),u=function(){var e=(0,i.useRouter)().asPath,t=(0,a.bA)(c,{variables:{where:{url:(0,o.yy)(e)}},dataKey:"metadataOverrides"}).data;return null==t?void 0:t[0]}},57151:function(e,t,n){n.d(t,{Z:function(){return r.Z}});var r=n(2206)}}]);
//# sourceMappingURL=97477-8de8c6da76a8018f.js.map