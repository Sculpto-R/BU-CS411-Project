(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72926],{58363:function(e,n){"use strict";n.Z=function(e,n){if(e&&n){var i=Array.isArray(n)?n:n.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return i.some(function(e){var n=e.trim().toLowerCase();return"."===n.charAt(0)?r.toLowerCase().endsWith(n):n.endsWith("/*")?o===n.replace(/\/.*$/,""):a===n})}return!0}},18674:function(e){e.exports=function(e){return function(n){return null==e?void 0:e[n]}}},27561:function(e,n,i){var r=i(67990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},67990:function(e){var n=/\s/;e.exports=function(e){for(var i=e.length;i--&&n.test(e.charAt(i)););return i}},80954:function(e,n,i){var r=i(13218),a=i(7771),o=i(14841),s=Math.max,l=Math.min;e.exports=function(e,n,i){var c,u,d,p,h,g,f=0,v=!1,m=!1,y=!0;if("function"!=typeof e)throw TypeError("Expected a function");function b(n){var i=c,r=u;return c=u=void 0,f=n,p=e.apply(r,i)}function w(e){var i=e-g,r=e-f;return void 0===g||i>=n||i<0||m&&r>=d}function T(){var e,i,r,o=a();if(w(o))return O(o);h=setTimeout(T,(e=o-g,i=o-f,r=n-e,m?l(r,d-i):r))}function O(e){return(h=void 0,y&&c)?b(e):(c=u=void 0,p)}function x(){var e,i=a(),r=w(i);if(c=arguments,u=this,g=i,r){if(void 0===h)return f=e=g,h=setTimeout(T,n),v?b(e):p;if(m)return clearTimeout(h),h=setTimeout(T,n),b(g)}return void 0===h&&(h=setTimeout(T,n)),p}return n=o(n)||0,r(i)&&(v=!!i.leading,d=(m="maxWait"in i)?s(o(i.maxWait)||0,n):d,y="trailing"in i?!!i.trailing:y),x.cancel=function(){void 0!==h&&clearTimeout(h),f=0,c=g=u=h=void 0},x.flush=function(){return void 0===h?p:O(a())},x}},7771:function(e,n,i){var r=i(55639);e.exports=function(){return r.Date.now()}},14841:function(e,n,i){var r=i(27561),a=i(13218),o=i(33448),s=0/0,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return s;if(a(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=a(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var i=c.test(e);return i||u.test(e)?d(e.slice(2),i?2:8):l.test(e)?s:+e}},7110:function(e,n,i){"use strict";i.d(n,{Z:function(){return m}});var r=i(67294),a=i(41686),o=i(89949),s=i(74786);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var c=function(e){return r.createElement("svg",l({width:"1em",height:"1em",viewBox:"0 0 24 24","aria-label":"Radio button (selected)"},e),r.createElement("title",null,"RadioSelected"),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.createElement("path",{fill:"#F2F2F2",d:"M20 12c0 4.424-3.576 8-8 8-4.424 0-8-3.576-8-8 0-4.424 3.576-8 8-8 4.424 0 8 3.576 8 8"}),r.createElement("path",{fill:"currentColor",d:"M15 12c0 1.659-1.341 3-3 3s-3-1.341-3-3 1.341-3 3-3 3 1.341 3 3"})))};function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}c.iconName="RadioSelected";var d=function(e){return r.createElement("svg",u({width:"1em",height:"1em",viewBox:"0 0 24 24","aria-label":"Radio button (deselected)"},e),r.createElement("title",null,"RadioDeselected"),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.createElement("path",{fill:"#F2F2F2",d:"M20 12c0 4.424-3.576 8-8 8-4.424 0-8-3.576-8-8 0-4.424 3.576-8 8-8 4.424 0 8 3.576 8 8"})))};function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}d.iconName="RadioDeselected";var h=a.default.div.withConfig({displayName:"Radio__Wrapper",componentId:"sc-1xcjl2h-0"})(["display:inline-block;position:relative;",";"],s.space),g=a.default.input.withConfig({displayName:"Radio__Input",componentId:"sc-1xcjl2h-1"})(["appearance:none;opacity:0;position:absolute;"," ",";& ~ div{border:1px solid transparent;}& ~ div path:nth-of-type(2n){",";}&:focus{box-shadow:none;& ~ div{border-radius:50%;",";}}"],function(e){var n=e.size;return(0,a.css)(["width:","px;height:","px;"],n,n)},function(e){var n=e.theme;return(0,a.css)(["z-index:",";"],n.zIndex.neutral)},function(e){var n=e.theme;return(0,a.css)(["fill:",";"],n.radio.backgroundColor)},function(e){var n=e.theme;return(0,a.css)(["border:1px solid ",";"],n.radio.focusBorderColor)}),f=(0,a.default)(o.Z).withConfig({displayName:"Radio__RadioIcon",componentId:"sc-1xcjl2h-2"})(["vertical-align:middle;"]),v=function(e){var n=e.checked,i=e.size,a=n?c:d;return r.createElement(h,{mr:1},r.createElement(g,p({type:"radio"},e)),r.createElement(f,{"aria-hidden":"true",focusable:"false",Component:a,size:i}))};v.defaultProps={size:24};var m=v},55772:function(e,n,i){"use strict";i.d(n,{Z:function(){return m}});var r=i(67294),a=i(41686),o=i(66236),s=i(24890),l=i(58207),c=["focused","name","hasError","disabled","rows"];function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var d=function(e){var n=e.focused,i=e.name,a=e.hasError,s=e.disabled,l=e.rows,d=function(e,n){if(null==e)return{};var i,r,a=function(e,n){if(null==e)return{};var i,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||(a[i]=e[i]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}(e,c);return r.createElement(p,{as:"div",px:3,mt:2,variant:o.Z.variant.small,color:a?"accent":"black",hasError:a,focused:n},r.createElement(h,u({},d,{as:"textarea",disabled:s,"aria-describedby":a&&"".concat(i,"-error"),rows:l,my:3})))};d.defaultProps={disabled:!1,rows:6};var p=(0,a.default)(o.Z).withConfig({displayName:"TextAreaField__Wrapper",componentId:"sc-1oa39f3-0"})(["position:relative;border-radius:20px;border:1px solid transparent;",";",";",";"],function(e){var n=e.theme;return(0,a.css)(["background-color:",";"],n.textArea.backgroundColor)},function(e){var n=e.focused,i=e.theme;return n&&(0,a.css)(["border:1px solid ",";"],i.textArea.focusBorderColor)},function(e){var n=e.hasError,i=e.theme;return n&&(0,a.css)(["border:1px solid ",";color:",";"],i.textArea.errorColor,i.textArea.errorColor)}),h=(0,a.default)(l.Z).withConfig({displayName:"TextAreaField__StyledTextArea",componentId:"sc-1oa39f3-1"})(["position:relative;resize:vertical;border:none;width:100%;scrollbar-width:thin;",";",";&::-webkit-scrollbar-track{background:transparent;}&::-webkit-scrollbar{width:2px;background:transparent;}&::-webkit-scrollbar-thumb{",";border-radius:2px;}&::-webkit-scrollbar-track-piece{background:transparent;}&:focus{outline:none;}"],function(e){return e.disabled&&(0,a.css)(["opacity:0.4;"])},function(e){var n=e.theme;return(0,a.css)(["color:",";background-color:",";"],n.textArea.color,n.textArea.backgroundColor)},function(e){var n=e.theme;return(0,a.css)(["background:",";"],n.textArea.scrollbarColor)}),g=["error","disabled","name","rows","touched"];function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var v=(0,a.default)(o.Z).withConfig({displayName:"TextArea__Error",componentId:"sc-65nn39-0"})(["",";display:block;"],function(e){var n=e.theme;return(0,a.css)(["color:",";"],n.textArea.errorColor)}),m=function(e){var n=e.error,i=e.disabled,a=e.name,l=e.rows,c=e.touched,u=function(e,n){if(null==e)return{};var i,r,a=function(e,n){if(null==e)return{};var i,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||(a[i]=e[i]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}(e,g),p=!!(c&&n);return r.createElement(s.Z,{flexDirection:"column"},r.createElement(d,f({hasError:p,disabled:i,name:a,rows:l},u)),p&&r.createElement(v,{id:"".concat(a,"-error"),color:"accent",variant:o.Z.variant.small,pt:2},n))}},67515:function(e,n,i){"use strict";var r=i(67294);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var o=function(e){return r.createElement("svg",a({width:"1em",height:"1em",viewBox:"0 0 24 24","aria-label":"Alert"},e),r.createElement("title",null,"Alert"),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.createElement("path",{d:"M12 22.5C11.7207 22.5 11.4545 22.4476 11.2014 22.3429C10.9483 22.2382 10.717 22.0898 10.5075 21.8978L2.10224 13.4925C1.91022 13.283 1.76185 13.0517 1.65711 12.7986C1.55237 12.5455 1.5 12.2793 1.5 12C1.5 11.7207 1.55237 11.4501 1.65711 11.1883C1.76185 10.9264 1.91022 10.6995 2.10224 10.5075L10.5075 2.10224C10.717 1.89277 10.9483 1.74002 11.2014 1.64401C11.4545 1.548 11.7207 1.5 12 1.5C12.2793 1.5 12.5499 1.548 12.8117 1.64401C13.0736 1.74002 13.3005 1.89277 13.4925 2.10224L21.8978 10.5075C22.1072 10.6995 22.26 10.9264 22.356 11.1883C22.452 11.4501 22.5 11.7207 22.5 12C22.5 12.2793 22.452 12.5455 22.356 12.7986C22.26 13.0517 22.1072 13.283 21.8978 13.4925L13.4925 21.8978C13.3005 22.0898 13.0736 22.2382 12.8117 22.3429C12.5499 22.4476 12.2793 22.5 12 22.5ZM12 20.4052L20.4052 12L12 3.59476L3.59476 12L12 20.4052ZM10.9526 13.0474H13.0474V6.76309H10.9526V13.0474ZM12 16.1895C12.2968 16.1895 12.5455 16.0892 12.7463 15.8884C12.947 15.6877 13.0474 15.4389 13.0474 15.1421C13.0474 14.8454 12.947 14.5966 12.7463 14.3959C12.5455 14.1951 12.2968 14.0948 12 14.0948C11.7032 14.0948 11.4545 14.1951 11.2537 14.3959C11.053 14.5966 10.9526 14.8454 10.9526 15.1421C10.9526 15.4389 11.053 15.6877 11.2537 15.8884C11.4545 16.0892 11.7032 16.1895 12 16.1895Z",fill:"currentColor"})))};o.iconName="Alert",n.Z=o},35652:function(e,n,i){"use strict";var r=i(67294);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var o=function(e){return r.createElement("svg",a({width:"1em",height:"1em",viewBox:"0 0 24 24","aria-label":"Plus sign"},e),r.createElement("title",null,"Plus"),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M 13 11 h 7 a 1 1 90 1 1 0 2 H 13 v 7 a 1 1 90 1 1 -2 0 V 13 H 4 a 1 1 90 1 1 0 -2 H 11 V 4 a 1 1 90 1 1 2 0 V 11 z",fill:"currentColor"})))};o.iconName="Plus",n.Z=o},82155:function(e,n,i){"use strict";var r=i(67294);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var o=function(e){return r.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),r.createElement("title",null,"Upload"),r.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},r.createElement("path",{strokeLinejoin:"miter",d:"M12 6v8"}),r.createElement("path",{strokeLinejoin:"round",d:"M5 14v5h14v-5"}),r.createElement("path",{strokeLinejoin:"round",d:"M9 9l3-3 3 3"})))};o.iconName="Upload",n.Z=o},66977:function(e,n,i){var r,a,o,s=i(48416);a=[],void 0!==(o="function"==typeof(r=function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MixedTags=void 0;var e,r=function(e,n){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=u(void 0);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,i&&i.set(e,r),r}(i(67294)),a=i(97762),o=i(45697),l=(e=i(61309))&&e.__esModule?e:{default:e},c=["children"];function u(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,i=new WeakMap;return(u=function(e){return e?i:n})(e)}function d(){return(d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var p=function(e){return e},h=function(e){var n=e.name,i=e.value,o=e.loading,c=void 0!==o&&o,u=e.onInput,d=void 0===u?p:u,h=e.onAdd,g=void 0===h?p:h,f=e.onRemove,v=void 0===f?p:f,m=e.onEditInput,y=void 0===m?p:m,b=e.onEditBeforeUpdate,w=void 0===b?p:b,T=e.onEditUpdated,O=void 0===T?p:T,x=e.onEditStart,D=void 0===x?p:x,C=e.onEditKeydown,E=void 0===C?p:C,M=e.onInvalid,S=void 0===M?p:M,_=e.onClick,N=void 0===_?p:_,k=e.onKeydown,I=void 0===k?p:k,A=e.onFocus,L=void 0===A?p:A,j=e.onBlur,R=void 0===j?p:j,P=e.onChange,F=void 0===P?p:P,V=e.onDropdownShow,B=void 0===V?p:V,H=e.onDropdownHide,W=void 0===H?p:H,z=e.onDropdownSelect,K=void 0===z?p:z,Z=e.onDropdownScroll,U=void 0===Z?p:Z,X=e.onDropdownNoMatch,Y=void 0===X?p:X,q=e.onDropdownUpdated,G=void 0===q?p:q,J=e.readOnly,$=e.disabled,Q=e.children,tt=e.settings,te=void 0===tt?{}:tt,tn=e.InputMode,ti=void 0===tn?"input":tn,tr=e.autoFocus,ta=e.className,to=e.whitelist,ts=e.tagifyRef,tl=e.placeholder,tc=void 0===tl?"":tl,tu=e.defaultValue,td=e.showDropdown,tp=(0,r.useRef)(),th=(0,r.useRef)(),tg=(0,r.useRef)(),tf=tu||i,tv=(0,r.useMemo)(function(){return{ref:th,name:n,defaultValue:Q||"string"==typeof tf?tf:JSON.stringify(tf),className:ta,readOnly:J,disabled:$,autoFocus:tr,placeholder:tc}},[]),tm=(0,r.useCallback)(function(){tr&&tg.current&&tg.current.DOM.input.focus()},[tg]);return(0,r.useEffect)(function(){(function(e){if(e)for(var n in e)(function(){var i=e[n];String(i).includes("jsxRuntime")&&(e[n]=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return(0,a.renderToStaticMarkup)(r.default.createElement(i,{props:n}))})})()})(te.templates),"textarea"==ti&&(te.mode="mix"),to&&to.length&&(te.whitelist=to);var e=new l.default(th.current,te);return e.on("input",d).on("add",g).on("remove",v).on("invalid",S).on("keydown",I).on("focus",L).on("blur",R).on("click",N).on("change",F).on("edit:input",y).on("edit:beforeUpdate",w).on("edit:updated",O).on("edit:start",D).on("edit:keydown",E).on("dropdown:show",B).on("dropdown:hide",W).on("dropdown:select",K).on("dropdown:scroll",U).on("dropdown:noMatch",Y).on("dropdown:updated",G),ts&&(ts.current=e),tg.current=e,tm(),function(){e.destroy()}},[]),(0,r.useEffect)(function(){tm()},[tr]),(0,r.useEffect)(function(){var e;tp.current&&(tg.current.settings.whitelist.length=0,to&&to.length&&(e=tg.current.settings.whitelist).push.apply(e,s(to)))},[to]),(0,r.useEffect)(function(){var e,n=tg.current.getInputValue();tp.current&&(e=function(e){return"string"==typeof e?e:JSON.stringify(e)})(i)!=e(n)&&tg.current.loadOriginalValues(i)},[i]),(0,r.useEffect)(function(){tp.current&&tg.current.toggleClass(ta)},[ta]),(0,r.useEffect)(function(){tp.current&&tg.current.loading(c)},[c]),(0,r.useEffect)(function(){tp.current&&tg.current.setReadonly(J)},[J]),(0,r.useEffect)(function(){tp.current&&tg.current.setDisabled($)},[$]),(0,r.useEffect)(function(){var e=tg.current;tp.current&&(td?(e.dropdown.show.call(e,td),e.toggleFocusClass(!0)):e.dropdown.hide.call(e))},[td]),(0,r.useEffect)(function(){tp.current=!0},[]),r.default.createElement("div",{className:"tags-input"},r.default.createElement(ti,tv))};h.propTypes={name:o.string,value:(0,o.oneOfType)([o.string,o.array]),loading:o.bool,children:(0,o.oneOfType)([o.string,o.array]),onChange:o.func,readOnly:o.bool,settings:o.object,InputMode:o.string,autoFocus:o.bool,className:o.string,tagifyRef:o.object,whitelist:o.array,placeholder:o.string,defaultValue:(0,o.oneOfType)([o.string,o.array]),showDropdown:(0,o.oneOfType)([o.string,o.bool]),onInput:o.func,onAdd:o.func,onRemove:o.func,onEditInput:o.func,onEditBeforeUpdate:o.func,onEditUpdated:o.func,onEditStart:o.func,onEditKeydown:o.func,onInvalid:o.func,onClick:o.func,onKeydown:o.func,onFocus:o.func,onBlur:o.func,onDropdownShow:o.func,onDropdownHide:o.func,onDropdownSelect:o.func,onDropdownScroll:o.func,onDropdownNoMatch:o.func,onDropdownUpdated:o.func};var g=r.default.memo(h);return g.displayName="Tags",n.MixedTags=function(e){var n=e.children,i=function(e,n){if(null==e)return{};var i,r,a=function(e,n){if(null==e)return{};var i,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||(a[i]=e[i]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}(e,c);return r.default.createElement(g,d({InputMode:"textarea"},i),n)},n.default=g,n})?r.apply(n,a):r)&&(e.exports=o)},61309:function(e,n,i){var r,a=i(48416),o=i(20968);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,r=Array(n);i<n;i++)r[i]=e[i];return r}r=function(){"use strict";function e(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function n(n){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?e(Object(r),!0).forEach(function(e){var i;i=r[e],e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})}return n}var i=function(e,n,i,r){return e=""+e,n=""+n,r&&(e=e.trim(),n=n.trim()),i?e==n:e.toLowerCase()==n.toLowerCase()};function r(e,n){var i,r={};for(i in e)0>n.indexOf(i)&&(r[i]=e[i]);return r}function l(e){var n=document.createElement("div");return e.replace(/\&#?[0-9a-z]+;/gi,function(e){return n.innerHTML=e,n.innerText})}function c(e,n){for(n=n||"previous";e=e[n+"Sibling"];)if(3==e.nodeType)return e}function u(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):e}function d(e){var n=Object.prototype.toString.call(e).split(" ")[1].slice(0,-1);return e===Object(e)&&"Array"!=n&&"Function"!=n&&"RegExp"!=n&&"HTMLUnknownElement"!=n}function p(e,n,i){function r(e,n){for(var i in n)if(n.hasOwnProperty(i)){if(d(n[i])){d(e[i])?r(e[i],n[i]):e[i]=Object.assign({},n[i]);continue}if(Array.isArray(n[i])){e[i]=Object.assign([],n[i]);continue}e[i]=n[i]}}return e instanceof Object||(e={}),r(e,n),i&&r(e,i),e}function h(e){return String.prototype.normalize?"string"==typeof e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:e}var g=function(){return/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent)};function f(e){return e&&e.classList&&e.classList.contains(this.settings.classNames.tag)}var v={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:function(){},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:"\xa0"},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tag:"tagify__tag",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",inputInvalid:"tagify__input--invalid",tagX:"tagify__tag__removeBtn",tagText:"tagify__tag-text",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownInital:"tagify__dropdown--initial",scopeLoading:"tagify--loading",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:function(){return Promise.resolve()},beforePaste:function(){return Promise.resolve()},suggestionClick:function(){return Promise.resolve()}}};function m(){for(var e in this.dropdown={},this._dropdown)this.dropdown[e]="function"==typeof this._dropdown[e]?this._dropdown[e].bind(this):this._dropdown[e];this.settings.dropdown.enabled>=0&&this.dropdown.init()}var y,b={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"};function w(e,n){var i=this;return e?e.previousElementSibling&&e.previousElementSibling.classList.contains("tagify")?(console.warn("Tagify: ","input element is already Tagified",e),this):(p(this,function(e){var n=document.createTextNode("");function i(e,i,r){r&&i.split(/\s+/g).forEach(function(i){return n[e+"EventListener"].call(n,i,r)})}return{off:function(e,n){return i("remove",e,n),this},on:function(e,n){return n&&"function"==typeof n&&i("add",e,n),this},trigger:function(i,r,a){var o;if(a=a||{cloneData:!0},i){if(e.settings.isJQueryPlugin)"remove"==i&&(i="removeTag"),jQuery(e.DOM.originalInput).triggerHandler(i,[r]);else{try{var s="object"==typeof r?r:{value:r};if((s=a.cloneData?p({},s):s).tagify=this,r instanceof Object)for(var l in r)r[l]instanceof HTMLElement&&(s[l]=r[l]);o=new CustomEvent(i,{detail:s})}catch(e){console.warn(e)}n.dispatchEvent(o)}}}}}(this)),this.isFirefox="undefined"!=typeof InstallTrigger,this.isIE=window.document.documentMode,this.applySettings(e,n||{}),this.state={inputText:"",editing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(e),m.call(this),this.getCSSVars(),setTimeout(function(){return i.loadOriginalValues()}),this.events.customBinding.call(this),this.events.binding.call(this),void(e.autofocus&&this.DOM.input.focus())):(console.warn("Tagify: ","input element not found",e),this)}return w.prototype={_dropdown:{init:function(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownWrapperSelector)},show:function(e){var n,r,a,o=this,s=this.settings,l="mix"==s.mode&&!s.enforceWhitelist,c=!s.whitelist||!s.whitelist.length,u="manual"==s.dropdown.position;if(e=void 0===e?this.state.inputText:e,(!c||l||s.templates.dropdownItemNoMatch)&&!1!==s.dropdown.enable&&!this.state.isLoading){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(e),e&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",e),s.templates.dropdownItemNoMatch&&(a=s.templates.dropdownItemNoMatch.call(this,{value:e}))),!a){if(this.suggestedListItems.length)e&&l&&!this.state.editing.scope&&!i(this.suggestedListItems[0].value,e)&&this.suggestedListItems.unshift({value:e});else{if(!e||!l||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:e}]}r=""+(d(n=this.suggestedListItems[0])?n.value:n),s.autoComplete&&r&&0==r.indexOf(e)&&this.input.autocomplete.suggest.call(this,n)}this.dropdown.fill(a),s.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.children[0]),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=e||!0,this.state.dropdown.query=e,this.setStateSelection(),u||setTimeout(function(){o.dropdown.position(),o.dropdown.render()}),setTimeout(function(){o.trigger("dropdown:show",o.DOM.dropdown)})}},hide:function(e){var n=this,i=this.DOM,r=i.scope,a=i.dropdown,o="manual"==this.settings.dropdown.position&&!e;if(a&&document.body.contains(a)&&!o)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),r.setAttribute("aria-expanded",!1),a.parentNode.removeChild(a),setTimeout(function(){n.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",a),this},toggle:function(e){this.dropdown[this.state.dropdown.visible&&!e?"hide":"show"]()},render:function(){var e,n,i=this,r=((n=this.DOM.dropdown.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(n),e=n.clientHeight,n.parentNode.removeChild(n),e),a=this.settings;return this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(a.classNames.dropdownInital),this.dropdown.position(r),a.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout(function(){return i.DOM.dropdown.classList.remove(a.classNames.dropdownInital)})),this},fill:function(e){var n;e="string"==typeof e?e:this.dropdown.createListHTML(e||this.suggestedListItems),this.DOM.dropdown.content.innerHTML=(n=e)?n.replace(/\>[\r\n ]+\</g,"><").replace(/(<.*?>)|\s+/g,function(e,n){return n||" "}):""},refilter:function(e){e=e||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(e),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position:function(e){var n=this.settings.dropdown;if("manual"!=n.position){var i,r,a,o,s,l,c=this.DOM.dropdown,u=n.placeAbove,d=document.documentElement.clientHeight,p=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)>480?n.position:"all",h=this.DOM["input"==p?"input":"scope"];e=e||c.clientHeight,this.state.dropdown.visible&&("text"==p?(a=(i=this.getCaretGlobalPosition()).bottom,r=i.top,o=i.left,s="auto"):(l=function(e){for(var n=0,i=0;e;)n+=e.offsetLeft||0,i+=e.offsetTop||0,e=e.parentNode;return{left:n,top:i}}(this.settings.dropdown.appendTarget),r=(i=h.getBoundingClientRect()).top-l.top,a=i.bottom-1-l.top,o=i.left-l.left,s=i.width+"px"),r=Math.floor(r),a=Math.ceil(a),u=void 0===u?d-i.bottom<e:u,c.style.cssText="left:"+(o+window.pageXOffset)+"px; width:"+s+";"+(u?"top: "+(r+window.pageYOffset)+"px":"top: "+(a+window.pageYOffset)+"px"),c.setAttribute("placement",u?"top":"bottom"),c.setAttribute("position",p))}},events:{binding:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=this.dropdown.events.callbacks,i=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this),onKeyDown:n.onKeyDown.bind(this),onMouseOver:n.onMouseOver.bind(this),onMouseLeave:n.onMouseLeave.bind(this),onClick:n.onClick.bind(this),onScroll:n.onScroll.bind(this)},r=e?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(window[r]("resize",i.position),window[r]("keydown",i.onKeyDown)),this.DOM.dropdown[r]("mouseover",i.onMouseOver),this.DOM.dropdown[r]("mouseleave",i.onMouseLeave),this.DOM.dropdown[r]("mousedown",i.onClick),this.DOM.dropdown.content[r]("scroll",i.onScroll)},callbacks:{onKeyDown:function(e){var n,i=this,r=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),a=this.dropdown.getSuggestionDataByNode(r);switch(e.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":e.preventDefault(),r&&(r=r[("ArrowUp"==e.key||"Up"==e.key?"previous":"next")+"ElementSibling"]),r||(r=(n=this.DOM.dropdown.content.children)["ArrowUp"==e.key||"Up"==e.key?n.length-1:0]),a=this.dropdown.getSuggestionDataByNode(r),this.dropdown.highlightOption(r,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if("mix"!=this.settings.mode&&r&&!this.settings.autoComplete.rightKey&&!this.state.editing){e.preventDefault();var o=this.dropdown.getMappedValue(a);return this.input.autocomplete.set.call(this,o),!1}return!0;case"Enter":e.preventDefault(),this.settings.hooks.suggestionClick(e,{tagify:this,tagData:a,suggestionElm:r}).then(function(){if(r)return i.dropdown.selectOption(r);i.dropdown.hide(),"mix"!=i.settings.mode&&i.addTags(i.state.inputText.trim(),!0)}).catch(function(e){return e});break;case"Backspace":if("mix"==this.settings.mode||this.state.editing.scope)return;var s=this.input.raw.call(this);""!=s&&8203!=s.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}},onMouseOver:function(e){var n=e.target.closest(this.settings.classNames.dropdownItemSelector);n&&this.dropdown.highlightOption(n)},onMouseLeave:function(e){this.dropdown.highlightOption()},onClick:function(e){var n=this;if(0==e.button&&e.target!=this.DOM.dropdown&&e.target!=this.DOM.dropdown.content){var i=e.target.closest(this.settings.classNames.dropdownItemSelector),r=this.dropdown.getSuggestionDataByNode(i);this.state.actions.selectOption=!0,setTimeout(function(){return n.state.actions.selectOption=!1},50),this.settings.hooks.suggestionClick(e,{tagify:this,tagData:r,suggestionElm:i}).then(function(){i?n.dropdown.selectOption(i):n.dropdown.hide()}).catch(function(e){return e})}},onScroll:function(e){var n=e.target,i=n.scrollTop/(n.scrollHeight-n.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(i)})}}},getSuggestionDataByNode:function(e){var n=e?+e.getAttribute("tagifySuggestionIdx"):-1;return this.suggestedListItems[n]||null},highlightOption:function(e,n){var i,r=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(r),this.state.ddItemElm.removeAttribute("aria-selected")),!e)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);i=this.suggestedListItems[this.getNodeIndex(e)],this.state.ddItemData=i,this.state.ddItemElm=e,e.classList.add(r),e.setAttribute("aria-selected",!0),n&&(e.parentNode.scrollTop=e.clientHeight+e.offsetTop-e.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,i),this.dropdown.position())},selectOption:function(e){var n,i=this,r=this.settings.dropdown,a=r.clearOnSelect,o=r.closeOnSelect;if(!e)return n=this.addTags(this.state.inputText,!0),void(o&&this.dropdown.hide());var s=e.getAttribute("tagifySuggestionIdx"),l=this.suggestedListItems[+s];this.trigger("dropdown:select",{data:l,elm:e}),s&&l?(this.state.editing?this.onEditTagDone(null,p({__isValid:!0},l)):n=this["mix"==this.settings.mode?"addMixTags":"addTags"]([l],a),this.DOM.input.parentNode&&(setTimeout(function(){i.DOM.input.focus(),i.toggleFocusClass(!0),i.placeCaretAfterNode(n)}),o?setTimeout(this.dropdown.hide.bind(this)):this.dropdown.refilter())):this.dropdown.hide()},selectAll:function(){return this.suggestedListItems.length=0,this.dropdown.hide(),this.addTags(this.dropdown.filterListItems(""),!0),this},filterListItems:function(e,n){var i,r,a,o,s,l=this,c=this.settings,u=c.dropdown,p=(n=n||{},e="select"==c.mode&&this.value.length&&this.value[0][c.tagTextProp]==e?"":e,[]),g=[],f=c.whitelist,v=u.maxItems||1/0,m=u.searchKeys,y=0;if(!e||!m.length)return(c.duplicates?f:f.filter(function(e){return!l.isTagDuplicate(d(e)?e.value:e)})).slice(0,v);for(s=u.caseSensitive?""+e:(""+e).toLowerCase();y<f.length;y++)!function(){var e,v,b,w=Object.keys(i=f[y]instanceof Object?f[y]:{value:f[y]}).some(function(e){return m.includes(e)})?m:["value"];u.fuzzySearch&&!n.exact?(a=w.reduce(function(e,n){return e+" "+(i[n]||"")},"").toLowerCase().trim(),u.accentedSearch&&(a=h(a),s=h(s)),v=0==a.indexOf(s),b=a===s,e=a,r=s.toLowerCase().split(" ").every(function(n){return e.includes(n.toLowerCase())})):(v=!0,r=w.some(function(e){var r=""+(i[e]||"");return u.accentedSearch&&(r=h(r),s=h(s)),u.caseSensitive||(r=r.toLowerCase()),b=r===s,n.exact?r===s:0==r.indexOf(s)})),o=!c.duplicates&&l.isTagDuplicate(d(i)?i.value:i),r&&!o&&(b&&v?g.push(i):"startsWith"==u.sortby&&v?p.unshift(i):p.push(i))}();return"function"==typeof u.sortby?u.sortby(g.concat(p),s):g.concat(p).slice(0,v)},getMappedValue:function(e){var n=this.settings.dropdown.mapValueTo;return n?"function"==typeof n?n(e):e[n]||e.value:e.value},createListHTML:function(e){var n=this;return p([],e).map(function(e,i){"string"!=typeof e&&"number"!=typeof e||(e={value:e});var r=n.dropdown.getMappedValue(e);return e.value=r&&"string"==typeof r?u(r):r,n.settings.templates.dropdownItem.apply(n,[e,n]).replace(/\s*tagifySuggestionIdx=(["'])(.*?)\1/gim,"").replace(">",' tagifySuggestionIdx="'.concat(i,'">'))}).join("")}},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim:function(e){return this.settings.trim&&e&&"string"==typeof e?e.trim():e},parseHTML:function(e){return new DOMParser().parseFromString(e.trim(),"text/html").body.firstElementChild},templates:{wrapper:function(e,n){return'<tags class="'.concat(n.classNames.namespace," ").concat(n.mode?"".concat(n.classNames[n.mode+"Mode"]):""," ").concat(e.className,'"\n                    ').concat(n.readonly?"readonly":"","\n                    ").concat(n.disabled?"disabled":"","\n                    ").concat(n.required?"required":"",'\n                    tabIndex="-1">\n            <span ').concat(!n.readonly&&n.userInput?"contenteditable":"",' tabIndex="0" data-placeholder="').concat(n.placeholder||"&#8203;",'" aria-placeholder="').concat(n.placeholder||"",'"\n                class="').concat(n.classNames.input,'"\n                role="textbox"\n                aria-autocomplete="both"\n                aria-multiline="').concat("mix"==n.mode,'"></span>\n        </tags>')},tag:function(e,n){var i=this.settings;return'<tag title="'.concat(e.title||e.value,"\"\n                    contenteditable='false'\n                    spellcheck='false'\n                    tabIndex=\"").concat(i.a11y.focusableTags?0:-1,'"\n                    class="').concat(i.classNames.tag," ").concat(e.class||"",'"\n                    ').concat(this.getAttributes(e),">\n            <x title='' class=\"").concat(i.classNames.tagX,"\" role='button' aria-label='remove tag'></x>\n            <div>\n                <span class=\"").concat(i.classNames.tagText,'">').concat(e[i.tagTextProp]||e.value,"</span>\n            </div>\n        </tag>")},dropdown:function(e){var n=e.dropdown,i="manual"==n.position,r="".concat(e.classNames.dropdown);return'<div class="'.concat(i?"":r," ").concat(n.classname,'" role="listbox" aria-labelledby="dropdown">\n                    <div class="').concat(e.classNames.dropdownWrapper,'"></div>\n                </div>')},dropdownItem:function(e,n){return"<div ".concat(this.getAttributes(e),"\n                    class='").concat(this.settings.classNames.dropdownItem," ").concat(e.class?e.class:"",'\'\n                    tabindex="0"\n                    role="option">').concat(e.value,"</div>")},dropdownItemNoMatch:null},parseTemplate:function(e,n){return e=this.settings.templates[e]||e,this.parseHTML(e.apply(this,n))},set whitelist(t){this.settings.whitelist=t&&Array.isArray(t)?t:[]},get whitelist(){return this.settings.whitelist},applySettings:function(e,i){v.templates=this.templates;var r=this.settings=p({},v,i);r.disabled=e.hasAttribute("disabled"),r.readonly=e.hasAttribute("readonly"),r.placeholder=e.getAttribute("placeholder")||r.placeholder||"",r.required=e.hasAttribute("required");var a=function(e){Object.defineProperty(r.classNames,e+"Selector",{get:function(){return"."+this[e].split(" ")[0]}})};for(var o in r.classNames)a(o);if(this.isIE&&(r.autoComplete=!1),["whitelist","blacklist"].forEach(function(n){var i=e.getAttribute("data-"+n);i&&(i=i.split(r.delimiters))instanceof Array&&(r[n]=i)}),"autoComplete"in i&&!d(i.autoComplete)&&(r.autoComplete=v.autoComplete,r.autoComplete.enabled=i.autoComplete),"mix"==r.mode&&(r.autoComplete.rightKey=!0,r.delimiters=i.delimiters||null,r.tagTextProp&&!r.dropdown.searchKeys.includes(r.tagTextProp)&&r.dropdown.searchKeys.push(r.tagTextProp)),e.pattern)try{r.pattern=new RegExp(e.pattern)}catch(e){}if(this.settings.delimiters)try{r.delimiters=RegExp(this.settings.delimiters,"g")}catch(e){}this.TEXTS=n(n({},b),r.texts||{}),"select"!=r.mode&&r.userInput||(r.dropdown.enabled=0),r.dropdown.appendTarget=i.dropdown&&i.dropdown.appendTarget?i.dropdown.appendTarget:document.body},getAttributes:function(e){var n,i=this.getCustomAttributes(e),r="";for(n in i)r+=" "+n+(void 0!==e[n]?'="'.concat(i[n],'"'):"");return r},getCustomAttributes:function(e){if(!d(e))return"";var n,i={};for(n in e)"__"!=n.slice(0,2)&&"class"!=n&&e.hasOwnProperty(n)&&void 0!==e[n]&&(i[n]=u(e[n]));return i},setStateSelection:function(){var e=window.getSelection(),n={anchorOffset:e.anchorOffset,anchorNode:e.anchorNode,range:e.getRangeAt&&e.rangeCount&&e.getRangeAt(0)};return this.state.selection=n,n},getCaretGlobalPosition:function(){var e=document.getSelection();if(e.rangeCount){var n,i,r=e.getRangeAt(0),a=r.startContainer,o=r.startOffset;if(o>0)return(i=document.createRange()).setStart(a,o-1),i.setEnd(a,o),{left:(n=i.getBoundingClientRect()).right,top:n.top,bottom:n.bottom};if(a.getBoundingClientRect)return a.getBoundingClientRect()}return{left:-9999,top:-9999}},getCSSVars:function(){var e,n,i,r=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(n=(e=function(e){if(!e)return{};var n=(e=e.trim().split(" ")[0]).split(/\d+/g).filter(function(e){return e}).pop().trim();return{value:+e.split(n).filter(function(e){return e})[0].trim(),unit:n}}((i="tag-hide-transition",r.getPropertyValue("--"+i)))).value,"s"==e.unit?1e3*n:n)}},build:function(e){var n=this.DOM;this.settings.mixMode.integrated?(n.originalInput=null,n.scope=e,n.input=e):(n.originalInput=e,n.scope=this.parseTemplate("wrapper",[e,this.settings]),n.input=n.scope.querySelector(this.settings.classNames.inputSelector),e.parentNode.insertBefore(n.scope,e))},destroy:function(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout)},loadOriginalValues:function(e){var n,i=this.settings;if(void 0===e&&(e=i.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value),this.removeAllTags({withoutChangeEvent:!0}),e){if("mix"==i.mode)this.parseMixTags(e.trim()),(n=this.DOM.input.lastChild)&&"BR"==n.tagName||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(e) instanceof Array&&(e=JSON.parse(e))}catch(e){}this.addTags(e).forEach(function(e){return e&&e.classList.add(i.classNames.tagNoAnimation)})}}else this.postUpdate();this.state.lastOriginalValueReported=i.mixMode.integrated?"":this.DOM.originalInput.value,this.state.loadedOriginalValues=!0},cloneEvent:function(e){var n={};for(var i in e)n[i]=e[i];return n},loading:function(e){return this.state.isLoading=e,this.DOM.scope.classList[e?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading:function(e,n){return e&&e.classList[n?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass:function(e,n){"string"==typeof e&&this.DOM.scope.classList.toggle(e,n)},toggleFocusClass:function(e){this.toggleClass(this.settings.classNames.focus,!!e)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var e=this.DOM.originalInput,n=this.state.lastOriginalValueReported!==e.value,i=new CustomEvent("change",{bubbles:!0});n&&(this.state.lastOriginalValueReported=e.value,i.simulated=!0,e._valueTracker&&e._valueTracker.setValue(Math.random()),e.dispatchEvent(i),this.trigger("change",this.state.lastOriginalValueReported),e.value=this.state.lastOriginalValueReported)}},events:{customBinding:function(){var e=this;this.customEventsList.forEach(function(n){e.on(n,e.settings.callbacks[n])})},binding:function(){var e,n=!(arguments.length>0)||void 0===arguments[0]||arguments[0],i=this.events.callbacks,r=n?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!n){for(var a in this.state.mainEvents=n,n&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{focus:["input",i.onFocusBlur.bind(this)],keydown:["input",i.onKeydown.bind(this)],click:["scope",i.onClickScope.bind(this)],dblclick:["scope",i.onDoubleClickScope.bind(this)],paste:["input",i.onPaste.bind(this)],drop:["input",i.onDrop.bind(this)]})this.DOM[e[a][0]][r](a,e[a][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(i.observeOriginalInputValue.bind(this),500);var o=this.listeners.main.inputMutationObserver||new MutationObserver(i.onInputDOMChange.bind(this));o&&o.disconnect(),"mix"==this.settings.mode&&o.observe(this.DOM.input,{childList:!0})}},bindGlobal:function(e){var n,i=this.events.callbacks,r=e?"removeEventListener":"addEventListener";if(e||!this.listeners.global){var a,o=function(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return s(e,void 0);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(e,void 0)}}(e))){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==i.return||i.return()}finally{if(c)throw o}}}}((this.listeners.global=this.listeners&&this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:i[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:i.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:i.onFocusBlur.bind(this)}],this.listeners.global));try{for(o.s();!(a=o.n()).done;)(n=a.value).target[r](n.type,n.cb)}catch(e){o.e(e)}finally{o.f()}}},unbindGlobal:function(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur:function(e){var n=e.target?this.trim(e.target.textContent):"",i=this.settings,r=e.type,a=i.dropdown.enabled>=0,o={relatedTarget:e.relatedTarget},s=this.state.actions.selectOption&&(a||!i.dropdown.closeOnSelect),l=this.state.actions.addNew&&a,c=e.relatedTarget&&f.call(this,e.relatedTarget)&&this.DOM.scope.contains(e.relatedTarget);if("blur"==r){if(e.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),this.triggerChangeEvent()}if(!s&&!l){if(this.state.hasFocus="focus"==r&&+new Date,this.toggleFocusClass(this.state.hasFocus),"mix"!=i.mode){if("focus"==r)return this.trigger("focus",o),void(0!==i.dropdown.enabled&&i.userInput||this.dropdown.show(this.value.length?"":void 0));"blur"==r&&(this.trigger("blur",o),this.loading(!1),"select"==this.settings.mode&&c&&(n=""),("select"==this.settings.mode&&n?!this.value.length||this.value[0].value!=n:n&&!this.state.actions.selectOption&&i.addTagOnBlur)&&this.addTags(n,!0),"select"!=this.settings.mode||n||this.removeTags()),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else"focus"==r?this.trigger("focus",o):"blur"==e.type&&(this.trigger("blur",o),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())}},onWindowKeyDown:function(e){var n,i=document.activeElement;if(f.call(this,i)&&this.DOM.scope.contains(document.activeElement))switch(n=i.nextElementSibling,e.key){case"Backspace":this.removeTags(i),(n||this.DOM.input).focus();break;case"Enter":setTimeout(this.editTag.bind(this),0,i)}},onKeydown:function(e){var n=this,i=this.settings;"select"==i.mode&&i.enforceWhitelist&&this.value.length&&"Tab"!=e.key&&e.preventDefault();var r=this.trim(e.target.textContent);if(this.trigger("keydown",{originalEvent:this.cloneEvent(e)}),"mix"==i.mode){switch(e.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var a,o,s,u=document.getSelection(),d="Delete"==e.key&&u.anchorOffset==(u.anchorNode.length||0),p=1==u.anchorNode.nodeType||!u.anchorOffset&&1==u.anchorNode.previousSibling.nodeType&&u.anchorNode.previousSibling,h=l(this.DOM.input.innerHTML),v=this.getTagElms();if("edit"==i.backspace&&p)return a=1==u.anchorNode.nodeType?null:u.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,a),void e.preventDefault();if(g()&&p)return s=c(p),p.hasAttribute("readonly")||p.remove(),this.DOM.input.focus(),void setTimeout(function(){n.placeCaretAfterNode(s),n.DOM.input.click()});if("BR"==u.anchorNode.nodeName)return;if((d||p)&&1==u.anchorNode.nodeType?o=0==u.anchorOffset?d?v[0]:null:v[u.anchorOffset-1]:d?o=u.anchorNode.nextElementSibling:p&&(o=p),3==u.anchorNode.nodeType&&!u.anchorNode.nodeValue&&u.anchorNode.previousElementSibling&&e.preventDefault(),(p||d)&&!i.backspace||"Range"!=u.type&&!u.anchorOffset&&u.anchorNode==this.DOM.input&&"Delete"!=e.key)return void e.preventDefault();if("Range"!=u.type&&o&&o.hasAttribute("readonly"))return void this.placeCaretAfterNode(c(o));clearTimeout(y),y=setTimeout(function(){var e=document.getSelection(),i=l(n.DOM.input.innerHTML),r=!d&&e.anchorNode.previousSibling;if(i.length>=h.length&&r){if(f.call(n,r)&&!r.hasAttribute("readonly")){if(n.removeTags(r),n.fixFirefoxLastTagNoCaret(),2==n.DOM.input.children.length&&"BR"==n.DOM.input.children[1].tagName)return n.DOM.input.innerHTML="",n.value.length=0,!0}else r.remove()}n.value=[].map.call(v,function(e,i){var r=n.tagData(e);if(e.parentNode||r.readonly)return r;n.trigger("remove",{tag:e,index:i,data:r})}).filter(function(e){return e})},20)}return!0}switch(e.key){case"Backspace":"select"==i.mode&&i.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&"manual"!=i.dropdown.position||""!=r&&8203!=r.charCodeAt(0)||(!0===i.backspace?this.removeTags():"edit"==i.backspace&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;e.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":var m=this.state.inputSuggestion||this.state.ddItemData;if(m&&i.autoComplete.rightKey)return void this.addTags([m],!0);break;case"Tab":var b="select"==i.mode;if(!r||b)return!0;e.preventDefault();case"Enter":if(this.state.dropdown.visible||229==e.keyCode)return;e.preventDefault(),setTimeout(function(){n.state.actions.selectOption||n.addTags(r,!0)})}},onInput:function(e){if("mix"==this.settings.mode)return this.events.callbacks.onMixTagsInput.call(this,e);var n=this.input.normalize.call(this),i=n.length>=this.settings.dropdown.enabled,r={value:n,inputElm:this.DOM.input};r.isValid=this.validateTag({value:n}),this.state.inputText!=n&&(this.input.set.call(this,n,!1),-1!=n.search(this.settings.delimiters)?this.addTags(n)&&this.input.set.call(this):this.settings.dropdown.enabled>=0&&this.dropdown[i?"show":"hide"](n),this.trigger("input",r))},onMixTagsInput:function(e){var n,i,r,a,o,s,l,c,u=this,d=this.settings,h=this.value.length,f=this.getTagElms(),v=document.createDocumentFragment(),m=window.getSelection().getRangeAt(0),y=[].map.call(f,function(e){return u.tagData(e).value});if("deleteContentBackward"==e.inputType&&g()&&this.events.callbacks.onKeydown.call(this,{target:e.target,key:"Backspace"}),this.value.slice().forEach(function(e){e.readonly&&!y.includes(e.value)&&v.appendChild(u.createTagElem(e))}),v.childNodes.length&&(m.insertNode(v),this.setRangeAtStartEnd(!1,v.lastChild)),f.length!=h)return this.value=[].map.call(this.getTagElms(),function(e){return u.tagData(e)}),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(s=window.getSelection()).rangeCount>0&&3==s.anchorNode.nodeType){if((m=s.getRangeAt(0).cloneRange()).collapse(!0),m.setStart(s.focusNode,0),r=(n=m.toString().slice(0,m.endOffset)).split(d.pattern).length-1,(i=n.match(d.pattern))&&(a=n.slice(n.lastIndexOf(i[i.length-1]))),a){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:a.match(d.pattern)[0],value:a.replace(d.pattern,"")},this.state.tag.baseOffset=s.baseOffset-this.state.tag.value.length,c=this.state.tag.value.match(d.delimiters))return this.state.tag.value=this.state.tag.value.replace(d.delimiters,""),this.state.tag.delimiters=c[0],this.addTags(this.state.tag.value,d.dropdown.clearOnSelect),void this.dropdown.hide();o=this.state.tag.value.length>=d.dropdown.enabled;try{l=(l=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&l.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(e){}(l||r<this.state.mixMode.matchedPatternCount)&&(o=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=r}setTimeout(function(){u.update({withoutChangeEvent:!0}),u.trigger("input",p({},u.state.tag,{textContent:u.DOM.input.textContent})),u.state.tag&&u.dropdown[o?"show":"hide"](u.state.tag.value)},10)},onInputIE:function(e){var n=this;setTimeout(function(){n.events.callbacks.onInput.call(n,e)})},observeOriginalInputValue:function(){this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickScope:function(e){var n=this.settings,i=e.target.closest("."+n.classNames.tag),r=+new Date-this.state.hasFocus;if(e.target!=this.DOM.scope){if(!e.target.classList.contains(n.classNames.tagX))return i?(this.trigger("click",{tag:i,index:this.getNodeIndex(i),data:this.tagData(i),originalEvent:this.cloneEvent(e)}),void(1!==n.editTags&&1!==n.editTags.clicks||this.events.callbacks.onDoubleClickScope.call(this,e))):void(e.target==this.DOM.input&&("mix"==n.mode&&this.fixFirefoxLastTagNoCaret(),r>500)?this.state.dropdown.visible?this.dropdown.hide():0===n.dropdown.enabled&&"mix"!=n.mode&&this.dropdown.show(this.value.length?"":void 0):"select"!=n.mode||this.state.dropdown.visible||this.dropdown.show());this.removeTags(e.target.parentNode)}else this.state.hasFocus||this.DOM.input.focus()},onPaste:function(e){var n=this;e.preventDefault();var i,r,a=this.settings;if("select"==a.mode&&a.enforceWhitelist||!a.userInput)return!1;a.readonly||(r=(i=e.clipboardData||window.clipboardData).getData("Text"),a.hooks.beforePaste(e,{tagify:this,pastedText:r,clipboardData:i}).then(function(i){void 0===i&&(i=r),i&&(n.injectAtCaret(i,window.getSelection().getRangeAt(0)),"mix"==n.settings.mode?n.events.callbacks.onMixTagsInput.call(n,e):n.settings.pasteAsTags?n.addTags(n.state.inputText+i,!0):n.state.inputText=i)}).catch(function(e){return e}))},onDrop:function(e){e.preventDefault()},onEditTagInput:function(e,n){var i=e.closest("."+this.settings.classNames.tag),r=this.getNodeIndex(i),a=this.tagData(i),s=this.input.normalize.call(this,e),l=i.innerHTML!=i.__tagifyTagData.__originalHTML,c=this.validateTag(o({},this.settings.tagTextProp,s));l||!0!==e.originalIsValid||(c=!0),i.classList.toggle(this.settings.classNames.tagInvalid,!0!==c),a.__isValid=c,i.title=!0===c?a.title||a.value:c,s.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=s),this.dropdown.show(s)),this.trigger("edit:input",{tag:i,index:r,data:p({},this.value[r],{newValue:s}),originalEvent:this.cloneEvent(n)})},onEditTagFocus:function(e){this.state.editing={scope:e,input:e.querySelector("[contenteditable]")}},onEditTagBlur:function(e){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(e)){var n,i,r,a=this.settings,s=e.closest("."+a.classNames.tag),l=this.input.normalize.call(this,e),c=this.tagData(s).__originalData,u=s.innerHTML!=s.__tagifyTagData.__originalHTML,d=this.validateTag(o({},a.tagTextProp,l));if(l){if(u){if(i=this.hasMaxTags(),r=this.getWhitelistItem(l)||p({},c,(o(n={},a.tagTextProp,l),o(n,"value",l),o(n,"__isValid",d),n)),a.transformTag.call(this,r,c),!0!==(d=!i&&this.validateTag(o({},a.tagTextProp,r[a.tagTextProp])))){if(this.trigger("invalid",{data:r,tag:s,message:d}),a.editTags.keepInvalid)return;a.keepInvalidTags?r.__isValid=d:r=c}else a.keepInvalidTags&&(delete r.title,delete r["aria-invalid"],delete r.class);this.onEditTagDone(s,r)}else this.onEditTagDone(s,c)}else this.onEditTagDone(s)}},onEditTagkeydown:function(e,n){switch(this.trigger("edit:keydown",{originalEvent:this.cloneEvent(e)}),e.key){case"Esc":case"Escape":n.innerHTML=n.__tagifyTagData.__originalHTML;case"Enter":case"Tab":e.preventDefault(),e.target.blur()}},onDoubleClickScope:function(e){var n,i,r=e.target.closest("."+this.settings.classNames.tag),a=this.settings;r&&a.userInput&&(n=r.classList.contains(this.settings.classNames.tagEditing),i=r.hasAttribute("readonly"),"select"==a.mode||a.readonly||n||i||!this.settings.editTags||this.editTag(r),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:r,index:this.getNodeIndex(r),data:this.tagData(r)}))},onInputDOMChange:function(e){var n=this;e.forEach(function(e){e.addedNodes.forEach(function(e){if(e){if("<div><br></div>"==e.outerHTML)e.replaceWith(document.createElement("br"));else if(1==e.nodeType&&e.querySelector(n.settings.classNames.tagSelector)){var i=document.createTextNode("");3==e.childNodes[0].nodeType&&"BR"!=e.previousSibling.nodeName&&(i=document.createTextNode("\n")),e.replaceWith.apply(e,[i].concat(a(a(e.childNodes).slice(0,-1)))),n.placeCaretAfterNode(i.previousSibling)}else f.call(n,e)&&e.previousSibling&&"BR"==e.previousSibling.nodeName&&(e.previousSibling.replaceWith("\n"),n.placeCaretAfterNode(e.previousSibling.previousSibling))}}),e.removedNodes.forEach(function(e){e&&"BR"==e.nodeName&&f.call(n,i)&&(n.removeTags(i),n.fixFirefoxLastTagNoCaret())})});var i=this.DOM.input.lastChild;i&&""==i.nodeValue&&i.remove(),i&&"BR"==i.nodeName||this.DOM.input.appendChild(document.createElement("br"))}}},fixFirefoxLastTagNoCaret:function(){},placeCaretAfterNode:function(e){if(e&&e.parentNode){var n=e.nextSibling,i=window.getSelection(),r=i.getRangeAt(0);i.rangeCount&&(r.setStartAfter(n||e),r.collapse(!0),i.removeAllRanges(),i.addRange(r))}},insertAfterTag:function(e,n){if(n=n||this.settings.mixMode.insertAfterTag,e&&e.parentNode&&n)return n="string"==typeof n?document.createTextNode(n):n,e.parentNode.insertBefore(n,e.nextSibling),n},editTag:function(e,n){var i=this;e=e||this.getLastTag(),n=n||{},this.dropdown.hide();var r=this.settings;function a(){return e.querySelector(r.classNames.tagTextSelector)}var o=a(),s=this.getNodeIndex(e),l=this.tagData(e),c=this.events.callbacks,u=this,d=!0;if(o){if(!(l instanceof Object&&"editable"in l)||l.editable)return o.setAttribute("contenteditable",!0),e.classList.add(r.classNames.tagEditing),this.tagData(e,{__originalData:p({},l),__originalHTML:e.innerHTML}),o.addEventListener("focus",c.onEditTagFocus.bind(this,e)),o.addEventListener("blur",function(){setTimeout(function(){return c.onEditTagBlur.call(u,a())})}),o.addEventListener("input",c.onEditTagInput.bind(this,o)),o.addEventListener("keydown",function(n){return c.onEditTagkeydown.call(i,n,e)}),o.focus(),this.setRangeAtStartEnd(!1,o),n.skipValidation||(d=this.editTagToggleValidity(e)),o.originalIsValid=d,this.trigger("edit:start",{tag:e,index:s,data:l,isValid:d}),this}else console.warn("Cannot find element in Tag template: .",r.classNames.tagTextSelector)},editTagToggleValidity:function(e,n){var i;if(n=n||this.tagData(e))return(i=!("__isValid"in n)||!0===n.__isValid)||this.removeTagsFromValue(e),this.update(),e.classList.toggle(this.settings.classNames.tagNotAllowed,!i),n.__isValid;console.warn("tag has no data: ",e,n)},onEditTagDone:function(e,n){n=n||{};var i={tag:e=e||this.state.editing.scope,index:this.getNodeIndex(e),previousData:this.tagData(e),data:n};this.trigger("edit:beforeUpdate",i,{cloneData:!1}),this.state.editing=!1,delete n.__originalData,delete n.__originalHTML,e&&n[this.settings.tagTextProp]?(e=this.replaceTag(e,n),this.editTagToggleValidity(e,n),this.settings.a11y.focusableTags&&e.focus()):e&&this.removeTags(e),this.trigger("edit:updated",i),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag:function(e,n){n&&n.value||(n=e.__tagifyTagData),n.__isValid&&1!=n.__isValid&&p(n,this.getInvalidTagAttrs(n,n.__isValid));var i=this.createTagElem(n);return e.parentNode.replaceChild(i,e),this.updateValueByDOMTags(),i},updateValueByDOMTags:function(){var e=this;this.value.length=0,[].forEach.call(this.getTagElms(),function(n){n.classList.contains(e.settings.classNames.tagNotAllowed.split(" ")[0])||e.value.push(e.tagData(n))}),this.update()},setRangeAtStartEnd:function(e,n){e="number"==typeof e?e:!!e,n=(n=n||this.DOM.input).lastChild||n;var i=document.getSelection();try{i.rangeCount>=1&&["Start","End"].forEach(function(r){return i.getRangeAt(0)["set"+r](n,e||n.length)})}catch(e){}},injectAtCaret:function(e,n){if(n=n||this.state.selection.range)return"string"==typeof e&&(e=document.createTextNode(e)),n.deleteContents(),n.insertNode(e),this.setRangeAtStartEnd(!1,e),this.updateValueByDOMTags(),this.update(),this},input:{set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=this.settings.dropdown.closeOnSelect;this.state.inputText=e,n&&(this.DOM.input.innerHTML=u(""+e)),!e&&i&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw:function(){return this.DOM.input.textContent},validate:function(){var e=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!e),e},normalize:function(e){var n=e||this.DOM.input,i=[];n.childNodes.forEach(function(e){return 3==e.nodeType&&i.push(e.nodeValue)}),i=i.join("\n");try{i=i.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(e){}return i=i.replace(/\s/g," "),this.settings.trim&&(i=i.replace(/^\s+/,"")),i},autocomplete:{suggest:function(e){if(this.settings.autoComplete.enabled){"string"==typeof(e=e||{})&&(e={value:e});var n=e.value?""+e.value:"",i=n.substr(0,this.state.inputText.length).toLowerCase(),r=n.substring(this.state.inputText.length);n&&this.state.inputText&&i==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",r),this.state.inputSuggestion=e):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}},set:function(e){var n=this.DOM.input.getAttribute("data-suggest"),i=e||(n?this.state.inputText+n:null);return!!i&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+i)):(this.input.set.call(this,i),this.setRangeAtStartEnd()),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx:function(e){return this.value.findIndex(function(n){return n.__tagId==(e||{}).__tagId})},getNodeIndex:function(e){var n=0;if(e)for(;e=e.previousElementSibling;)n++;return n},getTagElms:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r="."+[].concat(a(this.settings.classNames.tag.split(" ")),n).join(".");return[].slice.call(this.DOM.scope.querySelectorAll(r))},getLastTag:function(){var e=this.DOM.scope.querySelectorAll("".concat(this.settings.classNames.tagSelector,":not(.").concat(this.settings.classNames.tagHide,"):not([readonly])"));return e[e.length-1]},tagData:function(e,n,i){return e?(n&&(e.__tagifyTagData=i?n:p({},e.__tagifyTagData||{},n)),e.__tagifyTagData):(console.warn("tag elment doesn't exist",e,n),n)},isTagDuplicate:function(e,n){var r=this,a=this.settings;return"select"!=a.mode&&this.value.reduce(function(o,s){return i(r.trim(""+e),s.value,n||a.dropdown.caseSensitive)?o+1:o},0)},getTagIndexByValue:function(e){var n=this,r=[];return this.getTagElms().forEach(function(a,o){i(n.trim(a.textContent),e,n.settings.dropdown.caseSensitive)&&r.push(o)}),r},getTagElmByValue:function(e){var n=this.getTagIndexByValue(e)[0];return this.getTagElms()[n]},flashTag:function(e){var n=this;e&&(e.classList.add(this.settings.classNames.tagFlash),setTimeout(function(){e.classList.remove(n.settings.classNames.tagFlash)},100))},isTagBlacklisted:function(e){return e=this.trim(e.toLowerCase()),this.settings.blacklist.filter(function(n){return(""+n).toLowerCase()==e}).length},isTagWhitelisted:function(e){return!!this.getWhitelistItem(e)},getWhitelistItem:function(e,n,r){n=n||"value";var a,o=this.settings;return(r=r||o.whitelist).some(function(r){if(i("string"==typeof r?r:r[n]||r.value,e,o.dropdown.caseSensitive,o.trim))return a="string"==typeof r?{value:r}:r,!0}),a||"value"!=n||"value"==o.tagTextProp||(a=this.getWhitelistItem(e,o.tagTextProp,r)),a},validateTag:function(e){var n=this.settings,i="value"in e?"value":n.tagTextProp,r=this.trim(e[i]+"");return(e[i]+"").trim()?n.pattern&&n.pattern instanceof RegExp&&!n.pattern.test(r)?this.TEXTS.pattern:!n.duplicates&&this.isTagDuplicate(r,this.state.editing)?this.TEXTS.duplicate:this.isTagBlacklisted(r)||n.enforceWhitelist&&!this.isTagWhitelisted(r)?this.TEXTS.notAllowed:!n.validate||n.validate(e):this.TEXTS.empty},getInvalidTagAttrs:function(e,n){return{"aria-invalid":!0,class:"".concat(e.class||""," ").concat(this.settings.classNames.tagNotAllowed).trim(),title:n}},hasMaxTags:function(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly:function(e,n){var i=this.settings;document.activeElement.blur(),i[n||"readonly"]=e,this.DOM.scope[(e?"set":"remove")+"Attribute"](n||"readonly",!0),"mix"==i.mode&&(this.DOM.input.contentEditable=!e)},setDisabled:function(e){this.setReadonly(e,"disabled")},normalizeTags:function(e){var n,i=this,r=this.settings,s=r.whitelist,l=r.delimiters,c=r.mode,u=r.tagTextProp;r.enforceWhitelist;var d=[],p=!!s&&s[0]instanceof Object,h=e instanceof Array,g=function(e){return(e+"").split(l).filter(function(e){return e}).map(function(e){var n;return o(n={},u,i.trim(e)),o(n,"value",i.trim(e)),n})};if("number"==typeof e&&(e=e.toString()),"string"==typeof e){if(!e.trim())return[];e=g(e)}else h&&(e=(n=[]).concat.apply(n,a(e.map(function(e){return e.value?e:g(e)}))));return p&&(e.forEach(function(e){var n=d.map(function(e){return e.value}),r=i.dropdown.filterListItems.call(i,e[u],{exact:!0});i.settings.duplicates||(r=r.filter(function(e){return!n.includes(e.value)}));var a=r.length>1?i.getWhitelistItem(e[u],u,r):r[0];a&&a instanceof Object?d.push(a):"mix"!=c&&(null==e.value&&(e.value=e[u]),d.push(e))}),d.length&&(e=d)),e},parseMixTags:function(e){var n=this,i=this.settings,r=i.mixTagsInterpolator,a=i.duplicates,o=i.transformTag,s=i.enforceWhitelist,l=i.maxTags,c=i.tagTextProp,u=[];return e=e.split(r[0]).map(function(e,i){var d,p,h,g=e.split(r[1]),f=g[0],v=u.length==l;try{if(f==+f)throw Error;p=JSON.parse(f)}catch(e){p=n.normalizeTags(f)[0]||{value:f}}if(v||!(g.length>1)||s&&!n.isTagWhitelisted(p.value)||!a&&n.isTagDuplicate(p.value)){if(e)return i?r[0]+e:e}else o.call(n,p),p[d=p[c]?c:"value"]=n.trim(p[d]),h=n.createTagElem(p),u.push(p),h.classList.add(n.settings.classNames.tagNoAnimation),g[0]=h.outerHTML,n.value.push(p);return g.join("")}).join(""),this.DOM.input.innerHTML=e,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize(),this.getTagElms().forEach(function(e,i){return n.tagData(e,u[i])}),this.update({withoutChangeEvent:!0}),e},replaceTextWithNode:function(e,n){if(this.state.tag||n){n=n||this.state.tag.prefix+this.state.tag.value;var i,r,a=window.getSelection(),o=a.anchorNode,s=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return o.splitText(a.anchorOffset-s),i=o.nodeValue.lastIndexOf(n),r=o.splitText(i),e&&o.parentNode.replaceChild(e,r),!0}},selectTag:function(e,n){var i=this.settings;if(!i.enforceWhitelist||this.isTagWhitelisted(n.value)){this.input.set.call(this,n[i.tagTextProp]||n.value,!0),this.state.actions.selectOption&&setTimeout(this.setRangeAtStartEnd.bind(this));var r=this.getLastTag();return r?this.replaceTag(r,n):this.appendTag(e),i.enforceWhitelist&&this.DOM.input.removeAttribute("contenteditable"),this.value[0]=n,this.trigger("add",{tag:e,data:n}),this.update(),[e]}},addEmptyTag:function(e){var n=p({value:""},e||{}),i=this.createTagElem(n);this.tagData(i,n),this.appendTag(i),this.editTag(i,{skipValidation:!0})},addTags:function(e,n,i){var r=this,a=[],o=this.settings,s=document.createDocumentFragment();return i=i||o.skipInvalid,e&&0!=e.length?(e=this.normalizeTags(e),"mix"==o.mode?this.addMixTags(e):("select"==o.mode&&(n=!1),this.DOM.input.removeAttribute("style"),e.forEach(function(e){var n,l={},c=Object.assign({},e,{value:e.value+""});if((e=Object.assign({},c)).__isValid=r.hasMaxTags()||r.validateTag(e),o.transformTag.call(r,e),!0!==e.__isValid){if(i)return;p(l,r.getInvalidTagAttrs(e,e.__isValid),{__preInvalidData:c}),e.__isValid==r.TEXTS.duplicate&&r.flashTag(r.getTagElmByValue(e.value))}if(e.readonly&&(l["aria-readonly"]=!0),n=r.createTagElem(e,l),a.push(n),"select"==o.mode)return r.selectTag(n,e);s.appendChild(n),e.__isValid&&!0===e.__isValid?(r.value.push(e),r.trigger("add",{tag:n,index:r.value.length-1,data:e})):(r.trigger("invalid",{data:e,index:r.value.length,tag:n,message:e.__isValid}),o.keepInvalidTags||setTimeout(function(){return r.removeTags(n,!0)},1e3)),r.dropdown.position()}),this.appendTag(s),this.update(),e.length&&n&&this.input.set.call(this),this.dropdown.refilter(),a)):("select"==o.mode&&this.removeAllTags(),a)},addMixTags:function(e){var n=this;if((e=this.normalizeTags(e))[0].prefix||this.state.tag)return this.prefixedTextToTag(e[0]);"string"==typeof e&&(e=[{value:e}]);var i=!!this.state.selection,r=document.createDocumentFragment();return e.forEach(function(e){var i=n.createTagElem(e);r.appendChild(i),n.insertAfterTag(i)}),i?this.injectAtCaret(r):(this.DOM.input.focus(),(i=this.setStateSelection()).range.setStart(this.DOM.input,i.range.endOffset),i.range.setEnd(this.DOM.input,i.range.endOffset),this.DOM.input.appendChild(r),this.updateValueByDOMTags(),this.update()),r},prefixedTextToTag:function(e){var n,i=this,r=this.settings,a=this.state.tag.delimiters;if(r.transformTag.call(this,e),e.prefix=e.prefix||this.state.tag?this.state.tag.prefix:(r.pattern.source||r.pattern)[0],n=this.createTagElem(e),this.replaceTextWithNode(n)||this.DOM.input.appendChild(n),setTimeout(function(){return n.classList.add(i.settings.classNames.tagNoAnimation)},300),this.value.push(e),this.update(),!a){var o=this.insertAfterTag(n)||n;this.placeCaretAfterNode(o)}return this.state.tag=null,this.trigger("add",p({},{tag:n},{data:e})),n},appendTag:function(e){var n=this.DOM,i=n.scope.lastElementChild;i===n.input?n.scope.insertBefore(e,i):n.scope.appendChild(e)},createTagElem:function(e,i){e.__tagId="10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)});var r,a=p({},e,n({value:u(e.value+"")},i));return function(e){for(var n,i=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);n=i.nextNode();)n.textContent.trim()||n.parentNode.removeChild(n)}(r=this.parseTemplate("tag",[a])),this.tagData(r,e),r},reCheckInvalidTags:function(){var e=this,n=this.settings;this.getTagElms(n.classNames.tagNotAllowed).forEach(function(n,i){var r=e.tagData(n),a=e.hasMaxTags(),o=e.validateTag(r);if(!0===o&&!a)return r=r.__preInvalidData?r.__preInvalidData:{value:r.value},e.replaceTag(n,r);n.title=a||o})},removeTags:function(e,n,i){var r,a=this;r=(e=e&&e instanceof HTMLElement?[e]:e instanceof Array?e:e?[e]:[this.getLastTag()]).reduce(function(e,n){return n&&"string"==typeof n&&(n=a.getTagElmByValue(n)),n&&a.tagData(n)&&e.push({node:n,idx:a.getTagIdx(a.tagData(n)),data:a.tagData(n,{__removed:!0})}),e},[]),i="number"==typeof i?i:this.CSSVars.tagHideTransition,"select"==this.settings.mode&&(i=0,this.input.set.call(this)),1==r.length&&r[0].node.classList.contains(this.settings.classNames.tagNotAllowed)&&(n=!0),r.length&&this.settings.hooks.beforeRemoveTag(r,{tagify:this}).then(function(){function e(e){e.node.parentNode&&(e.node.parentNode.removeChild(e.node),n?this.settings.keepInvalidTags&&this.trigger("remove",{tag:e.node,index:e.idx}):(this.trigger("remove",{tag:e.node,index:e.idx,data:e.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()))}i&&i>10&&1==r.length?(function(n){n.node.style.width=parseFloat(window.getComputedStyle(n.node).width)+"px",document.body.clientTop,n.node.classList.add(this.settings.classNames.tagHide),setTimeout(e.bind(this),i,n)}).call(a,r[0]):r.forEach(e.bind(a)),n||(a.removeTagsFromValue(r.map(function(e){return e.node})),a.update(),"select"==a.settings.mode&&a.DOM.input.setAttribute("contenteditable",!0))}).catch(function(e){})},removeTagsFromDOM:function(){[].slice.call(this.getTagElms()).forEach(function(e){return e.parentNode.removeChild(e)})},removeTagsFromValue:function(e){var n=this;(e=Array.isArray(e)?e:[e]).forEach(function(e){var i=n.tagData(e),r=n.getTagIdx(i);r>-1&&n.value.splice(r,1)})},removeAllTags:function(e){e=e||{},this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.position(),"select"==this.settings.mode&&this.input.set.call(this),this.update(e)},postUpdate:function(){var e=this.settings.classNames,n="mix"==this.settings.mode?this.settings.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value:this.value.length;this.toggleClass(e.hasMaxTags,this.value.length>=this.settings.maxTags),this.toggleClass(e.hasNoTags,!this.value.length),this.toggleClass(e.empty,!n)},update:function(e){var n=this.DOM.originalInput,i=this.getInputValue();this.settings.mixMode.integrated||(n.value=i,n.tagifyValue=n.value),this.postUpdate(),!(e||{}).withoutChangeEvent&&this.state.loadedOriginalValues&&this.triggerChangeEvent()},getInputValue:function(){var e=this.getCleanValue();return"mix"==this.settings.mode?this.getMixedTagsAsString(e):e.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(e):JSON.stringify(e):""},getCleanValue:function(e){var n,i;return n=e||this.value,i=this.dataProps,n&&Array.isArray(n)&&n.map(function(e){return r(e,i)})},getMixedTagsAsString:function(){var e="",n=this,i=this.settings.mixTagsInterpolator;return function a(o){o.childNodes.forEach(function(o){if(1==o.nodeType){var s=n.tagData(o);if("BR"==o.tagName&&(e+="\r\n"),"DIV"==o.tagName||"P"==o.tagName)e+="\r\n",a(o);else if(f.call(n,o)&&s){if(s.__removed)return;e+=i[0]+JSON.stringify(r(s,n.dataProps))+i[1]}}else e+=o.textContent})}(this.DOM.input),e}},w.prototype.removeTag=w.prototype.removeTags,w},e.exports=r()},38881:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){(0,o.default)(2,arguments);var i=(0,a.default)(e),s=(0,r.default)(n);return isNaN(s)?new Date(NaN):(s&&i.setDate(i.getDate()+s),i)};var r=s(i(92121)),a=s(i(33848)),o=s(i(92897));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=n.default},21332:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){(0,a.default)(2,arguments);var i=(0,r.default)(e),o=(0,r.default)(n);return i.getTime()-o.getTime()};var r=o(i(33848)),a=o(i(92897));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=n.default},89998:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){(0,a.default)(2,arguments);var i=(0,r.default)(e,n)/6e4;return i>0?Math.floor(i):Math.ceil(i)};var r=o(i(21332)),a=o(i(92897));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=n.default},55017:function(e,n,i){"use strict";i.d(n,{Z:function(){return s}});var r=i(7743),a=i(67488),o=i(41810);function s(e,n){(0,o.Z)(2,arguments);var i=(0,a.Z)(e),s=(0,a.Z)(n);return Math.round((i.getTime()-(0,r.Z)(i)-(s.getTime()-(0,r.Z)(s)))/864e5)}},33452:function(e,n,i){"use strict";i.d(n,{Z:function(){return o}});var r=i(35832),a=i(41810);function o(e){return(0,a.Z)(1,arguments),(0,r.Z)(e).getTime()<Date.now()}},30855:function(e,n,i){"use strict";i.d(n,{Z:function(){return s}});var r=i(35832),a=i(79654),o=i(41810);function s(e,n){if((0,o.Z)(2,arguments),"object"!=typeof n||null===n)throw RangeError("values parameter must be an object");var i=(0,r.Z)(e);return isNaN(i.getTime())?new Date(NaN):(null!=n.year&&i.setFullYear(n.year),null!=n.month&&(i=function(e,n){(0,o.Z)(2,arguments);var i=(0,r.Z)(e),s=(0,a.Z)(n),l=i.getFullYear(),c=i.getDate(),u=new Date(0);u.setFullYear(l,s,15),u.setHours(0,0,0,0);var d=function(e){(0,o.Z)(1,arguments);var n=(0,r.Z)(e),i=n.getFullYear(),a=n.getMonth(),s=new Date(0);return s.setFullYear(i,a+1,0),s.setHours(0,0,0,0),s.getDate()}(u);return i.setMonth(s,Math.min(c,d)),i}(i,n.month)),null!=n.date&&i.setDate((0,a.Z)(n.date)),null!=n.hours&&i.setHours((0,a.Z)(n.hours)),null!=n.minutes&&i.setMinutes((0,a.Z)(n.minutes)),null!=n.seconds&&i.setSeconds((0,a.Z)(n.seconds)),null!=n.milliseconds&&i.setMilliseconds((0,a.Z)(n.milliseconds)),i)}},34747:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,a.default)(1,arguments),(0,r.default)(e).getDay()};var r=o(i(33848)),a=o(i(92897));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=n.default},85179:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){(0,a.default)(2,arguments);var i=(0,r.default)(e),o=(0,r.default)(n);return i.getTime()<o.getTime()};var r=o(i(33848)),a=o(i(92897));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=n.default},8823:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,a.default)(1,arguments),(0,r.default)(e).getTime()<Date.now()};var r=o(i(33848)),a=o(i(92897));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=n.default},13675:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){(0,r.default)(2,arguments);var i=function(e){if(0===e)return c;var n=c.slice(-e),i=c.slice(0,c.length-e);return n.concat(i)}(n);return(0,o.default)((0,s.default)(e),i[(0,a.default)((0,s.default)(e))])};var r=l(i(92897)),a=l(i(34747)),o=l(i(38881)),s=l(i(33848));function l(e){return e&&e.__esModule?e:{default:e}}var c=[7,6,5,4,3,2,1];e.exports=n.default},74130:function(){},55162:function(e,n,i){"use strict";i.d(n,{u:function(){return W}});var r=i(67294),a=i(45697),o=i.n(a);function s(e,n,i,r){return new(i||(i=Promise))(function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?a(e.value):((n=e.value)instanceof i?n:new i(function(e){e(n)})).then(s,l)}c((r=r.apply(e,n||[])).next())})}function l(e,n){var i,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(i)throw TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(e,s)}catch(e){o=[6,e],r=0}finally{i=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var c=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function u(e,n){var i=function(e){var n=e.name;if(n&&-1!==n.lastIndexOf(".")&&!e.type){var i=n.split(".").pop().toLowerCase(),r=c.get(i);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof i.path){var r=e.webkitRelativePath;Object.defineProperty(i,"path",{value:"string"==typeof n?n:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return i}var d=[".DS_Store","Thumbs.db"];function p(e){return e.filter(function(e){return -1===d.indexOf(e.name)})}function h(e){for(var n=[],i=0;i<e.length;i++){var r=e[i];n.push(r)}return n}function g(e){if("function"!=typeof e.webkitGetAsEntry)return f(e);var n=e.webkitGetAsEntry();return n&&n.isDirectory?m(n):f(e)}function f(e){var n=e.getAsFile();return n?Promise.resolve(u(n)):Promise.reject(e+" is not a File")}function v(e){return s(this,void 0,void 0,function(){return l(this,function(n){return[2,e.isDirectory?m(e):function(e){return s(this,void 0,void 0,function(){return l(this,function(n){return[2,new Promise(function(n,i){e.file(function(i){n(u(i,e.fullPath))},function(e){i(e)})})]})})}(e)]})})}function m(e){var n=e.createReader();return new Promise(function(e,i){var r=[];!function a(){var o=this;n.readEntries(function(n){return s(o,void 0,void 0,function(){var o;return l(this,function(s){switch(s.label){case 0:if(n.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return e(s.sent()),[3,4];case 3:return i(s.sent()),[3,4];case 4:return[3,6];case 5:o=Promise.all(n.map(v)),r.push(o),a(),s.label=6;case 6:return[2]}})})},function(e){i(e)})}()})}var y=i(58363);function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(i.push(s.value),!n||i.length!==n);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return w(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return w(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,r=Array(n);i<n;i++)r[i]=e[i];return r}var T=function(e){var n=Array.isArray(e=Array.isArray(e)&&1===e.length?e[0]:e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(n)}},O=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},x=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},D={code:"too-many-files",message:"Too many files"};function C(e,n){var i="application/x-moz-file"===e.type||(0,y.Z)(e,n);return[i,i?null:T(n)]}function E(e,n,i){if(M(e.size)){if(M(n)&&M(i)){if(e.size>i)return[!1,O(i)];if(e.size<n)return[!1,x(n)]}else if(M(n)&&e.size<n)return[!1,x(n)];else if(M(i)&&e.size>i)return[!1,O(i)]}return[!0,null]}function M(e){return null!=e}function S(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function _(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function N(e){e.preventDefault()}function k(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(e){for(var i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return n.some(function(n){return!S(e)&&n&&n.apply(void 0,[e].concat(r)),S(e)})}}function I(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(i.push(s.value),!n||i.length!==n);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return i}}(e,n)||A(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,n){if(e){if("string"==typeof e)return L(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return L(e,n)}}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,r=Array(n);i<n;i++)r[i]=e[i];return r}function j(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function R(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?j(Object(i),!0).forEach(function(n){P(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function P(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function F(e,n){if(null==e)return{};var i,r,a=function(e,n){if(null==e)return{};var i,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||(a[i]=e[i]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var V=(0,r.forwardRef)(function(e,n){var i=e.children,a=W(F(e,["children"])),o=a.open,s=F(a,["open"]);return(0,r.useImperativeHandle)(n,function(){return{open:o}},[o]),r.createElement(r.Fragment,null,i(R(R({},s),{},{open:o})))});V.displayName="Dropzone";var B={disabled:!1,getFilesFromEvent:function(e){return s(this,void 0,void 0,function(){return l(this,function(n){return[2,e.dataTransfer&&e.dataTransfer?function(e,n){return s(this,void 0,void 0,function(){var i;return l(this,function(r){switch(r.label){case 0:if(!e.items)return[3,2];if(i=h(e.items).filter(function(e){return"file"===e.kind}),"drop"!==n)return[2,i];return[4,Promise.all(i.map(g))];case 1:return[2,p(function e(n){return n.reduce(function(n,i){return function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(function(e,n){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,a,o=i.call(e),s=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return s}(arguments[n]));return e}(n,Array.isArray(i)?e(i):[i])},[])}(r.sent()))];case 2:return[2,p(h(e.files).map(function(e){return u(e)}))]}})})}(e.dataTransfer,e.type):(null!==e.target&&e.target.files?h(e.target.files):[]).map(function(e){return u(e)})]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};V.defaultProps=B,V.propTypes={children:o().func,accept:o().oneOfType([o().string,o().arrayOf(o().string)]),multiple:o().bool,preventDropOnDocument:o().bool,noClick:o().bool,noKeyboard:o().bool,noDrag:o().bool,noDragEventsBubbling:o().bool,minSize:o().number,maxSize:o().number,maxFiles:o().number,disabled:o().bool,getFilesFromEvent:o().func,onFileDialogCancel:o().func,onDragEnter:o().func,onDragLeave:o().func,onDragOver:o().func,onDrop:o().func,onDropAccepted:o().func,onDropRejected:o().func,validator:o().func};var H={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function W(){var e,n,i,a,o,s,l,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=R(R({},B),c),d=u.accept,p=u.disabled,h=u.getFilesFromEvent,g=u.maxSize,f=u.minSize,v=u.multiple,m=u.maxFiles,y=u.onDragEnter,w=u.onDragLeave,T=u.onDragOver,O=u.onDrop,x=u.onDropAccepted,M=u.onDropRejected,j=u.onFileDialogCancel,V=u.preventDropOnDocument,W=u.noClick,K=u.noKeyboard,Z=u.noDrag,U=u.noDragEventsBubbling,X=u.validator,Y=(0,r.useRef)(null),q=(0,r.useRef)(null),G=I((0,r.useReducer)(z,H),2),J=G[0],$=G[1],Q=J.isFocused,tt=J.isFileDialogActive,te=J.draggedFiles,tn=(0,r.useCallback)(function(){q.current&&($({type:"openDialog"}),q.current.value=null,q.current.click())},[$]),ti=function(){tt&&setTimeout(function(){q.current&&!q.current.files.length&&($({type:"closeDialog"}),"function"==typeof j&&j())},300)};(0,r.useEffect)(function(){return window.addEventListener("focus",ti,!1),function(){window.removeEventListener("focus",ti,!1)}},[q,tt,j]);var tr=(0,r.useCallback)(function(e){Y.current&&Y.current.isEqualNode(e.target)&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),tn())},[Y,q]),ta=(0,r.useCallback)(function(){$({type:"focus"})},[]),to=(0,r.useCallback)(function(){$({type:"blur"})},[]),ts=(0,r.useCallback)(function(){W||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return -1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/")}()?setTimeout(tn,0):tn())},[q,W]),tl=(0,r.useRef)([]),tc=function(e){Y.current&&Y.current.contains(e.target)||(e.preventDefault(),tl.current=[])};(0,r.useEffect)(function(){return V&&(document.addEventListener("dragover",N,!1),document.addEventListener("drop",tc,!1)),function(){V&&(document.removeEventListener("dragover",N),document.removeEventListener("drop",tc))}},[Y,V]);var tu=(0,r.useCallback)(function(e){var n;e.preventDefault(),e.persist(),tm(e),tl.current=[].concat(function(e){if(Array.isArray(e))return L(e)}(n=tl.current)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||A(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.target]),_(e)&&Promise.resolve(h(e)).then(function(n){(!S(e)||U)&&($({draggedFiles:n,isDragActive:!0,type:"setDraggedFiles"}),y&&y(e))})},[h,y,U]),td=(0,r.useCallback)(function(e){e.preventDefault(),e.persist(),tm(e);var n=_(e);if(n&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return n&&T&&T(e),!1},[T,U]),tp=(0,r.useCallback)(function(e){e.preventDefault(),e.persist(),tm(e);var n=tl.current.filter(function(e){return Y.current&&Y.current.contains(e)}),i=n.indexOf(e.target);-1!==i&&n.splice(i,1),tl.current=n,!(n.length>0)&&($({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),_(e)&&w&&w(e))},[Y,w,U]),th=(0,r.useCallback)(function(e){e.preventDefault(),e.persist(),tm(e),tl.current=[],_(e)&&Promise.resolve(h(e)).then(function(n){if(!S(e)||U){var i=[],r=[];n.forEach(function(e){var n=I(C(e,d),2),a=n[0],o=n[1],s=I(E(e,f,g),2),l=s[0],c=s[1],u=X?X(e):null;if(a&&l&&!u)i.push(e);else{var p=[o,c];u&&(p=p.concat(u)),r.push({file:e,errors:p.filter(function(e){return e})})}}),(!v&&i.length>1||v&&m>=1&&i.length>m)&&(i.forEach(function(e){r.push({file:e,errors:[D]})}),i.splice(0)),$({acceptedFiles:i,fileRejections:r,type:"setFiles"}),O&&O(i,r,e),r.length>0&&M&&M(r,e),i.length>0&&x&&x(i,e)}}),$({type:"reset"})},[v,d,f,g,m,h,O,x,M,U,X]),tg=function(e){return p?null:e},tf=function(e){return K?null:tg(e)},tv=function(e){return Z?null:tg(e)},tm=function(e){U&&e.stopPropagation()},ty=(0,r.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,i=e.onKeyDown,r=e.onFocus,a=e.onBlur,o=e.onClick,s=e.onDragEnter,l=e.onDragOver,c=e.onDragLeave,u=e.onDrop,d=F(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return R(R(P({onKeyDown:tf(k(i,tr)),onFocus:tf(k(r,ta)),onBlur:tf(k(a,to)),onClick:tg(k(o,ts)),onDragEnter:tv(k(s,tu)),onDragOver:tv(k(l,td)),onDragLeave:tv(k(c,tp)),onDrop:tv(k(u,th))},void 0===n?"ref":n,Y),p||K?{}:{tabIndex:0}),d)}},[Y,tr,ta,to,ts,tu,td,tp,th,K,Z,p]),tb=(0,r.useCallback)(function(e){e.stopPropagation()},[]),tw=(0,r.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,i=e.onChange,r=e.onClick,a=F(e,["refKey","onChange","onClick"]);return R(R({},P({accept:d,multiple:v,type:"file",style:{display:"none"},onChange:tg(k(i,th)),onClick:tg(k(r,tb)),autoComplete:"off",tabIndex:-1},void 0===n?"ref":n,q)),a)}},[q,d,v,th,p]),tT=te.length,tO=tT>0&&(n=(e={files:te,accept:d,minSize:f,maxSize:g,multiple:v,maxFiles:m}).files,i=e.accept,a=e.minSize,o=e.maxSize,s=e.multiple,l=e.maxFiles,(!!s||!(n.length>1))&&(!s||!(l>=1)||!(n.length>l))&&n.every(function(e){var n=b(C(e,i),1)[0],r=b(E(e,a,o),1)[0];return n&&r}));return R(R({},J),{},{isDragAccept:tO,isDragReject:tT>0&&!tO,isFocused:Q&&!p,getRootProps:ty,getInputProps:tw,rootRef:Y,inputRef:q,open:tg(tn)})}function z(e,n){switch(n.type){case"focus":return R(R({},e),{},{isFocused:!0});case"blur":return R(R({},e),{},{isFocused:!1});case"openDialog":return R(R({},e),{},{isFileDialogActive:!0});case"closeDialog":return R(R({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var i=n.isDragActive,r=n.draggedFiles;return R(R({},e),{},{draggedFiles:r,isDragActive:i});case"setFiles":return R(R({},e),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections});case"reset":return R({},H);default:return e}}},96120:function(e,n,i){var r;r=function(e){return(()=>{var n={703:(e,n,i)=>{"use strict";var r=i(414);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,n,i,a,o,s){if(s!==r){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function n(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:a};return i.PropTypes=i,i}},697:(e,n,i)=>{e.exports=i(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},427:n=>{"use strict";n.exports=e}},i={};function r(e){var a=i[e];if(void 0!==a)return a.exports;var o=i[e]={exports:{}};return n[e](o,o.exports,r),o.exports}r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var i in n)r.o(n,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";r.r(a),r.d(a,{Component:()=>O,containCrop:()=>w,default:()=>O,makeAspectCrop:()=>m});var e=r(427),n=r.n(e),i=r(697),o=r.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){return(l=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function p(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?d(Object(i),!0).forEach(function(n){h(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function h(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function g(e,n,i){return Math.min(Math.max(e,n),i)}function f(e){return e&&!isNaN(e.width)&&!isNaN(e.height)}function v(e){return"n"===e?"s":"ne"===e?"sw":"e"===e?"w":"se"===e?"nw":"s"===e?"n":"sw"===e?"ne":"w"===e?"e":"nw"===e?"se":e}function m(e,n,i){if(isNaN(e.aspect))return console.warn("`crop.aspect` should be a number in order to make an aspect crop",e),e;var r=p({unit:"px",x:0,y:0},e);return e.width&&(r.height=r.width/e.aspect),e.height&&(r.width=r.height*e.aspect),r.y+r.height>i&&(r.height=i-r.y,r.width=r.height*e.aspect),r.x+r.width>n&&(r.width=n-r.x,r.height=r.width/e.aspect),r}function y(e,n,i){return"%"===e.unit?e:{unit:"%",aspect:e.aspect,x:e.x/n*100,y:e.y/i*100,width:e.width/n*100,height:e.height/i*100}}function b(e,n,i){return e.unit?"px"===e.unit?e:{unit:"px",aspect:e.aspect,x:e.x*n/100,y:e.y*i/100,width:e.width*n/100,height:e.height*i/100}:p(p({},e),{},{unit:"px"})}function w(e,n,i,r){var a=b(n,i,r),o=b(e,i,r),s=p({},a);if(!a.aspect)return a.x<0?(s.x=0,s.width+=a.x):a.x+a.width>i&&(s.width=i-a.x),a.y+a.height>r&&(s.height=r-a.y),s;var l=!1;a.x<0?(s.x=0,s.width+=a.x,s.height=s.width/a.aspect,l=!0):a.x+a.width>i&&(s.width=i-a.x,s.height=s.width/a.aspect,l=!0),l&&o.y>s.y&&(s.y=a.y+(a.height-s.height));var c=!1;return s.y+s.height>r&&(s.height=r-a.y,s.width=s.height*a.aspect,c=!0),c&&o.x>s.x&&(s.x=a.x+(a.width-s.width)),s}var T={capture:!0,passive:!1},O=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&l(e,n)}(o,e);var i,r,a=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(o);return e=r?Reflect.construct(n,arguments,u(this).constructor):n.apply(this,arguments),e&&("object"===s(e)||"function"==typeof e)?e:c(this)});function o(){var e;(function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")})(this,o);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return h(c(e=a.call.apply(a,[this].concat(i))),"window","undefined"!=typeof window?window:{}),h(c(e),"document","undefined"!=typeof document?document:{}),h(c(e),"state",{}),h(c(e),"keysDown",new Set),h(c(e),"onCropPointerDown",function(n){var i=e.props,r=i.crop,a=i.disabled,o=e.mediaDimensions,s=b(r,o.width,o.height);if(!a){n.cancelable&&n.preventDefault(),e.bindDocMove(),e.componentRef.focus({preventScroll:!0});var l=n.target.dataset.ord,c="nw"===l||"w"===l||"sw"===l,u="nw"===l||"n"===l||"ne"===l;e.evData={clientStartX:n.clientX,clientStartY:n.clientY,cropStartWidth:s.width,cropStartHeight:s.height,cropStartX:c?s.x+s.width:s.x,cropStartY:u?s.y+s.height:s.y,xInversed:c,yInversed:u,xCrossOver:c,yCrossOver:u,startXCrossOver:c,startYCrossOver:u,isResize:n.target.dataset.ord,ord:l},e.mouseDownOnCrop=!0,e.setState({cropIsActive:!0})}}),h(c(e),"onComponentPointerDown",function(n){var i=e.props,r=i.crop,a=i.disabled,o=i.locked,s=i.keepSelection,l=i.onChange,c=e.mediaWrapperRef.firstChild;if(n.target===c&&c.contains(n.target)&&!(a||o||s&&f(r))){n.cancelable&&n.preventDefault(),e.bindDocMove(),e.componentRef.focus({preventScroll:!0});var u=e.mediaWrapperRef.getBoundingClientRect(),d=n.clientX-u.left,p=n.clientY-u.top,h={unit:"px",aspect:r?r.aspect:void 0,x:d,y:p,width:0,height:0};e.evData={clientStartX:n.clientX,clientStartY:n.clientY,cropStartWidth:h.width,cropStartHeight:h.height,cropStartX:h.x,cropStartY:h.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,ord:"nw"},e.mouseDownOnCrop=!0;var g=e.mediaDimensions,v=g.width,m=g.height;l(b(h,v,m),y(h,v,m)),e.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}}),h(c(e),"onDocPointerMove",function(n){var i=e.props,r=i.crop,a=i.disabled,o=i.onChange,s=i.onDragStart;if(!a&&e.mouseDownOnCrop){n.cancelable&&n.preventDefault(),e.dragStarted||(e.dragStarted=!0,s(n));var l,u=c(e).evData;if(u.xDiff=n.clientX-u.clientStartX,u.yDiff=n.clientY-u.clientStartY,(l=u.isResize?e.resizeCrop():e.dragCrop())!==r){var d=e.mediaDimensions,p=d.width,h=d.height;o(b(l,p,h),y(l,p,h))}}}),h(c(e),"onComponentKeyDown",function(n){var i=e.props,r=i.crop,a=i.disabled,s=i.onChange,l=i.onComplete;if(!a){e.keysDown.add(n.key);var c=!1;if(f(r)){var u=e.makeNewCrop(),d=(navigator.platform.match("Mac")?n.metaKey:n.ctrlKey)?o.nudgeStepLarge:n.shiftKey?o.nudgeStepMedium:o.nudgeStep;if(e.keysDown.has("ArrowLeft")&&(u.x-=d,c=!0),e.keysDown.has("ArrowRight")&&(u.x+=d,c=!0),e.keysDown.has("ArrowUp")&&(u.y-=d,c=!0),e.keysDown.has("ArrowDown")&&(u.y+=d,c=!0),c){n.cancelable&&n.preventDefault();var p=e.mediaDimensions,h=p.width,v=p.height;u.x=g(u.x,0,h-u.width),u.y=g(u.y,0,v-u.height);var m=b(u,h,v),w=y(u,h,v);s(m,w),l(m,w)}}}}),h(c(e),"onComponentKeyUp",function(n){e.keysDown.delete(n.key)}),h(c(e),"onDocPointerDone",function(n){var i=e.props,r=i.crop,a=i.disabled,o=i.onComplete,s=i.onDragEnd;if(e.unbindDocMove(),!a&&e.mouseDownOnCrop){e.mouseDownOnCrop=!1,e.dragStarted=!1;var l=e.mediaDimensions,c=l.width,u=l.height;s(n),o(b(r,c,u),y(r,c,u)),e.setState({cropIsActive:!1,newCropIsBeingDrawn:!1})}}),h(c(e),"onMediaLoaded",function(){var n=e.props,i=n.onComplete,r=n.onChange,a=e.createNewCrop(),o=a.pixelCrop,s=a.percentCrop;r(o,s),i(o,s)}),h(c(e),"onImageLoad",function(n){var i=n.target,r=e.props,a=r.onComplete,o=r.onChange;if(!1!==(0,r.onImageLoaded)(i)){var s=e.createNewCrop(),l=s.pixelCrop,c=s.percentCrop;o(l,c),a(l,c)}}),h(c(e),"bindComponentRef",function(n){e.componentRef=n}),h(c(e),"bindMediaWrapperRef",function(n){e.mediaWrapperRef=n}),h(c(e),"bindImageRef",function(n){e.imageRef=n}),h(c(e),"bindCropSelectionRef",function(n){e.cropSelectRef=n}),e}return i=[{key:"componentDidMount",value:function(){this.componentRef.addEventListener&&this.componentRef.addEventListener("medialoaded",this.onMediaLoaded)}},{key:"componentWillUnmount",value:function(){this.componentRef.removeEventListener&&this.componentRef.removeEventListener("medialoaded",this.onMediaLoaded)}},{key:"componentDidUpdate",value:function(e){var n=this.props.crop;if(this.imageRef&&e.crop!==n&&n.aspect&&(n.width&&!n.height||!n.width&&n.height)){var i=this.imageRef,r=i.width,a=i.height,o=m(this.makeNewCrop(),r,a),s=b(o,r,a),l=y(o,r,a);this.props.onChange(s,l),this.props.onComplete(s,l)}}},{key:"bindDocMove",value:function(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,T),this.document.addEventListener("pointerup",this.onDocPointerDone,T),this.document.addEventListener("pointercancel",this.onDocPointerDone,T),this.docMoveBound=!0)}},{key:"unbindDocMove",value:function(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,T),this.document.removeEventListener("pointerup",this.onDocPointerDone,T),this.document.removeEventListener("pointercancel",this.onDocPointerDone,T),this.docMoveBound=!1)}},{key:"createNewCrop",value:function(){var e,n=this.mediaDimensions,i=n.width,r=n.height,a=!(e=this.makeNewCrop()).aspect||e.width&&e.height?e:m(e,i,r);return{pixelCrop:b(a,i,r),percentCrop:y(a,i,r)}}},{key:"mediaDimensions",get:function(){var e=this.mediaWrapperRef;return{width:e.clientWidth,height:e.clientHeight}}},{key:"getCropStyle",value:function(){var e=this.makeNewCrop(this.props.crop?this.props.crop.unit:"px");return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}},{key:"getNewSize",value:function(){var e,n=this.props,i=n.crop,r=n.minWidth,a=n.maxWidth,o=n.minHeight,s=n.maxHeight,l=this.evData,c=this.mediaDimensions,u=c.width,d=c.height,p=l.cropStartWidth+l.xDiff;return l.xCrossOver&&(p=Math.abs(p)),p=g(p,r,a||u),e=i.aspect?p/i.aspect:l.cropStartHeight+l.yDiff,l.yCrossOver&&(e=Math.min(Math.abs(e),l.cropStartY)),e=g(e,o,s||d),i.aspect&&(p=g(e*i.aspect,0,u)),{width:p,height:e}}},{key:"dragCrop",value:function(){var e=this.makeNewCrop(),n=this.evData,i=this.mediaDimensions,r=i.width,a=i.height;return e.x=g(n.cropStartX+n.xDiff,0,r-e.width),e.y=g(n.cropStartY+n.yDiff,0,a-e.height),e}},{key:"resizeCrop",value:function(){var e=this.evData,n=this.makeNewCrop(),i=e.ord;e.xInversed&&(e.xDiff-=2*e.cropStartWidth),e.yInversed&&(e.yDiff-=2*e.cropStartHeight);var r=this.getNewSize(),a=e.cropStartX,s=e.cropStartY;e.xCrossOver&&(a=n.x+(n.width-r.width)),e.yCrossOver&&(s=!1===e.lastYCrossover?n.y-r.height:n.y+(n.height-r.height));var l=this.mediaDimensions,c=l.width,u=l.height,d=w(this.props.crop,{unit:n.unit,x:a,y:s,width:r.width,height:r.height,aspect:n.aspect},c,u);return n.aspect||o.xyOrds.indexOf(i)>-1?(n.x=d.x,n.y=d.y,n.width=d.width,n.height=d.height):o.xOrds.indexOf(i)>-1?(n.x=d.x,n.width=d.width):o.yOrds.indexOf(i)>-1&&(n.y=d.y,n.height=d.height),e.lastYCrossover=e.yCrossOver,this.crossOverCheck(),n.width<this.props.minWidth||n.height<this.props.minHeight?this.props.crop:n}},{key:"createCropSelection",value:function(){var e=this.props,i=e.disabled,r=e.locked,a=e.renderSelectionAddon,o=e.ruleOfThirds,s=e.crop,l=this.getCropStyle();return n().createElement("div",{ref:this.bindCropSelectionRef,style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown},!i&&!r&&n().createElement("div",{className:"ReactCrop__drag-elements"},n().createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),n().createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),n().createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),n().createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),n().createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw"}),n().createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n"}),n().createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne"}),n().createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e"}),n().createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se"}),n().createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s"}),n().createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw"}),n().createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w"})),a&&f(s)&&n().createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:function(e){return e.stopPropagation()}},a(this.state)),o&&n().createElement(n().Fragment,null,n().createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),n().createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}},{key:"makeNewCrop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"px",n=p(p({},o.defaultCrop),this.props.crop||{}),i=this.mediaDimensions,r=i.width,a=i.height;return"px"===e?b(n,r,a):y(n,r,a)}},{key:"crossOverCheck",value:function(){var e=this.evData,n=this.props,i=n.minWidth,r=n.minHeight;!i&&(!e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiff>=0||e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiff<=0)&&(e.xCrossOver=!e.xCrossOver),!r&&(!e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiff>=0||e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiff<=0)&&(e.yCrossOver=!e.yCrossOver);var a=e.xCrossOver!==e.startXCrossOver,o=e.yCrossOver!==e.startYCrossOver;e.inversedXOrd=!!a&&v(e.ord),e.inversedYOrd=!!o&&v(e.ord)}},{key:"render",value:function(){var e=this.props,i=e.children,r=e.circularCrop,a=e.className,o=e.crossorigin,s=e.crop,l=e.disabled,c=e.locked,u=e.imageAlt,d=e.onImageError,p=e.renderComponent,h=e.src,g=e.style,v=e.imageStyle,m=e.ruleOfThirds,y=this.state,b=y.cropIsActive,w=y.newCropIsBeingDrawn,T=f(s)&&this.componentRef?this.createCropSelection():null,O=function(){for(var e,n,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(n=function e(n){var i,r,a="";if("string"==typeof n||"number"==typeof n)a+=n;else if("object"==typeof n){if(Array.isArray(n))for(i=0;i<n.length;i++)n[i]&&(r=e(n[i]))&&(a&&(a+=" "),a+=r);else for(i in n)n[i]&&(a&&(a+=" "),a+=i)}return a}(e))&&(r&&(r+=" "),r+=n);return r}("ReactCrop",a,{"ReactCrop--active":b,"ReactCrop--disabled":l,"ReactCrop--locked":c,"ReactCrop--new-crop":w,"ReactCrop--fixed-aspect":s&&s.aspect,"ReactCrop--circular-crop":s&&r,"ReactCrop--rule-of-thirds":s&&m,"ReactCrop--invisible-crop":!this.dragStarted&&s&&!s.width&&!s.height});return n().createElement("div",{ref:this.bindComponentRef,className:O,style:g,onPointerDown:this.onComponentPointerDown,tabIndex:0,onKeyDown:this.onComponentKeyDown,onKeyUp:this.onComponentKeyUp},n().createElement("div",{ref:this.bindMediaWrapperRef},p||n().createElement("img",{ref:this.bindImageRef,crossOrigin:o,className:"ReactCrop__image",style:v,src:h,onLoad:this.onImageLoad,onError:d,alt:u})),i,T)}}],function(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,i),o}(e.PureComponent);O.xOrds=["e","w"],O.yOrds=["n","s"],O.xyOrds=["nw","ne","se","sw"],O.nudgeStep=1,O.nudgeStepMedium=10,O.nudgeStepLarge=100,O.defaultCrop={x:0,y:0,width:0,height:0,unit:"px"},O.propTypes={className:o().string,children:o().oneOfType([o().arrayOf(o().node),o().node]),circularCrop:o().bool,crop:o().shape({aspect:o().number,x:o().number,y:o().number,width:o().number,height:o().number,unit:o().oneOf(["px","%"])}),crossorigin:o().string,disabled:o().bool,locked:o().bool,imageAlt:o().string,imageStyle:o().shape({}),keepSelection:o().bool,minWidth:o().number,minHeight:o().number,maxWidth:o().number,maxHeight:o().number,onChange:o().func.isRequired,onImageError:o().func,onComplete:o().func,onImageLoaded:o().func,onDragStart:o().func,onDragEnd:o().func,src:o().string.isRequired,style:o().shape({}),renderComponent:o().node,renderSelectionAddon:o().func,ruleOfThirds:o().bool},O.defaultProps={circularCrop:!1,className:void 0,crop:void 0,crossorigin:void 0,disabled:!1,locked:!1,imageAlt:"",maxWidth:void 0,maxHeight:void 0,minWidth:0,minHeight:0,keepSelection:!1,onComplete:function(){},onImageError:function(){},onImageLoaded:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0,style:void 0,renderComponent:void 0,imageStyle:void 0,renderSelectionAddon:void 0,ruleOfThirds:!1}})(),a})()},e.exports=r(i(67294))}}]);
//# sourceMappingURL=72926-b0577aeae6286be0.js.map