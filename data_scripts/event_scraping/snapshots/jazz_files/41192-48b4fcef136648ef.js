"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41192],{87319:function(e,t,n){n.d(t,{Z:function(){return C}});var r,a=n(4730),o=n(59499),i=n(86896),s=n(37812),l=n(32681),c=n(28632),u=n(60604),d=n(84786),p=n(37169),f=n(11752),y=n.n(f),g=n(99827),O=n(1929),b=n(62014),h=n(45778),m=n(85833),j=n(53561),w=n(32398),v=n(65705),Z=n(23963),P=n(71383),N=(0,n(50456).Ps)(r||(r=(0,P.Z)(["\n  query GET_INFINITE_SCROLL_NEWS(\n    $types: [NewsType!]\n    $pageSize: Int\n    $page: Int\n    $dateFrom: DateTime\n    $dateTo: DateTime\n    $areaId: ID\n  ) {\n    news(\n      limit: $pageSize\n      pageNumber: $page\n      types: $types\n      dateFrom: $dateFrom\n      dateTo: $dateTo\n      areaId: $areaId\n    ) {\n      id\n      live\n      headline\n      date\n      imageUrl\n      type\n      title\n      blurb\n      contentUrl\n    }\n  }\n"]))),x=n(85893),I=["data","skip","groupDataInterval"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=y()().publicRuntimeConfig.INFINITE_SCROLL_CONFIG,T=function(e){var t=e.data,n=e.skip,r=e.groupDataInterval,o=(0,a.Z)(e,I);return(0,x.jsx)(b.Z,S({newsItems:n?t.slice(n):t,groupDataInterval:r},o))};T.defaultProps={groupDataInterval:p.My.Intervals.DayAndFullDate};var C=function(e){var t=e.dateFrom,n=e.dateTo,r=e.skip,a=e.groupDataInterval,o=e.variant,p=void 0===o?"primary":o,f=e.newsTypes,y=void 0===f?[v.Z.festival,v.Z.raOnRa,v.Z.tech,v.Z.magazine,v.Z.local]:f,b=e.viewMoreHref,P=(0,i.Z)(),I=(0,Z.K)(),D=I.loading,C=I.area,F=(0,g.Z)(N,{variables:{types:y,pageSize:parseInt(E.INFINITE_SCROLL_PAGE_SIZE),page:1,dateFrom:t,dateTo:n,areaId:null==C?void 0:C.id},dataKey:"news",maxPages:parseInt(E.INFINITE_SCROLL_MAX_PAGES)});return(0,x.jsx)(s.Z,{title:P.formatMessage(j.Z.news),variant:p,children:(0,x.jsx)(O.Z,{children:(0,x.jsx)(l.Z,{variant:p,children:(0,x.jsx)(c.Z,{sCols:1,mCols:3,children:(0,x.jsxs)(u.Z,{mSpan:2,children:[(0,x.jsx)(w.Z,S(S({},F),{},{loading:F.loading||D,dataKey:"news",formatTypeUrl:function(e){return"news?category=".concat(e.toLowerCase())},markup:T,skip:r,variant:p,groupDataInterval:a})),(null==F?void 0:F.finishedPaginating)&&(0,x.jsx)(h.Z,{href:void 0===b?"/news":b,variant:d.Z.button.secondary,children:P.formatMessage(m.Z.viewMoreNews)})]})})})})})}},81211:function(e,t,n){n.d(t,{Z:function(){return ea}});var r,a,o,i=n(90116),s=n(59499),l=n(27361),c=n.n(l),u=n(38881),d=n.n(u),p=n(60661),f=n(15768),y=n.n(f),g=n(95652),O=n(23963),b=n(65705),h=n(50923),m=n(49815),j=n(71383),w=n(50456),v=(0,w.Ps)(r||(r=(0,j.Z)(["\n  fragment newsFields on News {\n    id\n    type\n    headline\n    imageUrl\n    date\n    title\n    blurb\n    contentUrl\n  }\n"]))),Z=(0,w.Ps)(a||(a=(0,j.Z)(["\n  query GET_LATEST_NEWS(\n    $latestNewsFilters: FilterInputDtoInput\n    $headlineNewsFilters: FilterInputDtoInput\n  ) {\n    latestNews: facetedSearch(\n      types: [NEWS]\n      filters: $latestNewsFilters\n      page: 1\n      pageSize: 9\n      sort: { date: { order: DESCENDING } }\n    ) {\n      totalResults\n      results {\n        id\n        data {\n          ... on News {\n            ...newsFields\n          }\n        }\n      }\n    }\n    headlineNews: facetedSearch(\n      types: [NEWS]\n      filters: $headlineNewsFilters\n      page: 1\n      pageSize: 1\n      sort: { date: { order: DESCENDING } }\n    ) {\n      totalResults\n      results {\n        id\n        data {\n          ... on News {\n            ...newsFields\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),v),P=(0,w.Ps)(o||(o=(0,j.Z)(["\n  query GET_POPULAR_NEWS($filters: FilterInputDtoInput) {\n    popularNews: facetedSearch(\n      types: [NEWS]\n      filters: $filters\n      page: 1\n      pageSize: 9\n      sort: { newsViews: { order: DESCENDING } }\n    ) {\n      totalResults\n      results {\n        id\n        data {\n          ... on News {\n            ...newsFields\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),v),N=n(45697),x=n.n(N),I=n(28632),D=n(60604),S=n(58207),E=n(86896),T=n(83618),C=n(97788),F=n(45778),L=n(51423),A=n(85833),R=n(46495),_=n(81191),M=n(44862),k=n(85893);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B=function(e){var t=e.headlineNews,n=e.latestNews,r=e.formatTypeUrl,a=(0,E.Z)(),o=y()(t)?t[0]:n[0],i=n.filter(function(e){return e.id!==o.id}).slice(0,3),s=(0,T.Z)(i).slice(0);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(C.Z,{children:a.formatMessage(A.Z.latestNews)}),(0,k.jsx)(S.Z,{pb:{s:3,m:4},"data-testid":M.Z.headlineNews,children:(0,k.jsx)(R.Z,U(U({},o),{},{formatTypeUrl:r,dateFormat:L.ZP.Formats.News}))}),s.map(function(e){return(0,k.jsx)(S.Z,{pb:3,"data-testid":M.Z.latestNews,children:(0,k.jsx)(_.Z,U(U({},e),{},{formatTypeUrl:r,dateFormat:L.ZP.Formats.News}))},e.id)}),(0,k.jsx)(F.Z,{href:"/news",children:a.formatMessage(A.Z.viewMoreNews)})]})},z=n(15139),G=n(15194),W=n(18710),q=function(e){return e===b.Z.mixOfTheDay?"mix-of-the-day":"news?category=".concat(e.toLowerCase())},K={Latest:"latest",Popular:"popular"},H={popularWrapBottom:{s:'\n      "latest"\n      "popular"\n    ',m:'\n      "latest latest popular"\n    '},standard:{s:'\n      "popular"\n      "latest"\n    ',m:'\n      "latest latest popular"\n    '}},X=function(e){var t=e.popularNews,n=e.latestNews,r=e.headlineNews,a=e.layout,o=e.AdComponent,i=(0,E.Z)();return(0,k.jsxs)(I.Z,{sCols:1,mCols:3,gridTemplateAreas:a,"data-pw-test-id":W.Z.newsSection,children:[(y()(r)||y()(n))&&(0,k.jsx)(D.Z,{area:K.Latest,children:(0,k.jsx)(B,{headlineNews:r,latestNews:n,formatTypeUrl:q})}),y()(t)&&(0,k.jsx)(D.Z,{area:K.Popular,children:(0,k.jsxs)(S.Z,{mb:4,children:[(0,k.jsx)(z.Z,{Card:G.Z,data:t,title:i.formatMessage(A.Z.popularNews)}),o]})})]})};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}x().arrayOf(x().shape({id:x().string.isRequired})),x().oneOf(Object.values(H)),x().element,X.defaultProps={popularNews:[],latestNews:[],headlineNews:[],layout:H.standard};var Q=[h.Xm.Regional,h.Xm.Countrywide],J=[b.D.RAOnRA,b.D.Tech,b.D.Magazine,b.D.Festival,b.D.Playlist,b.D.MixOfTheDay],ee=function(e){var t;return y()(e)?null==e||null===(t=e.filter(function(e){return e.data}))||void 0===t?void 0:t.map(function(e){return e.data}):[]},et=function(e){var t=e.layout,n=e.AdComponent,r=(0,O.K)(),a=r.loading,o=r.area,i={any:{all:{areas:{eq:parseInt(null==o?void 0:o.id,10)},newsType:{eq:b.D.Local},newsLocalityType:{any:Q}},newsType:{any:J}}},s=V(V({},i),{},{newsHeadline:{eq:!0}}),l="latestNews.results",u="headlineNews.results",d=(0,g.bA)(Z,{variables:{latestNewsFilters:i,headlineNewsFilters:s},dataKey:[l,u],skip:a}),p=d.data,f=d.loading;if(d.error)return null;if(a||f)return(0,k.jsx)(g.lZ,{});var y=ee(c()(p,u)),h=ee(c()(p,l));return(0,k.jsx)(en,{baseFilters:i,headlineNews:y,latestNews:h,layout:t,AdComponent:n})},en=function(e){var t=e.baseFilters,n=e.headlineNews,r=e.latestNews,a=e.layout,o=e.AdComponent,s=er(),l=[].concat((0,i.Z)(n.map(function(e){return e.id})),(0,i.Z)(r.map(function(e){return e.id}))),c=V(V({},t),{},{id:{none:l},date:{gte:s.dateFrom,lte:s.dateTo}}),u=(0,g.bA)(P,{variables:{filters:c},dataKey:"popularNews.results"}),d=u.data,p=u.loading;if(u.error)return null;if(p)return(0,k.jsx)(g.lZ,{});var f=ee(d);return(0,k.jsx)(X,{popularNews:f,latestNews:r,headlineNews:n,layout:a,AdComponent:o})},er=function(){var e=(0,m.w)();return{dateFrom:(0,p.Z)(d()(e,-7),"yyyy-MM-dd"),dateTo:(0,p.Z)(e,"yyyy-MM-dd")}};en.defaultProps={latestNews:[],headlineNews:[]},et.Layouts=H;var ea=et},29362:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(59499),a=n(93633),o=n(32681),i=n(86896),s=n(95652),l=n(27044),c=n(72330),u=n(94943),d=n(85833),p=n(45778),f=n(85893);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=function(e){var t=e.title,n=e.count,r=e.moreButton,o=e.excludeIds,i=(0,a.a)(u.Z,{variables:{orderBy:"LATEST",count:n,type:"STANDARD",excludeIds:o}});return(0,f.jsx)(s.ZP,g(g({},i),{},{dataKey:"features",title:t,markup:b,moreButton:r}))};O.defaultProps={count:6,moreButton:!0};var b=function(e){var t=e.data,n=e.title,r=e.moreButton,a=(0,i.Z)();return(0,f.jsx)(o.Z.Stacked,{title:n,children:(0,f.jsx)(l.Z,{Card:c.Z,mCols:3,lWrap:!0,Button:r&&(0,f.jsx)(p.Z,{href:"/features",children:a.formatMessage(d.Z.viewMoreFeatures)}),items:t})})},h=O},13391:function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(59499),a=n(4730),o=n(24890),i=n(28632),s=n(60604),l=n(61233),c=n(84786),u=n(9318),d=n.n(u),p=n(79828),f=n(27955),y=n.n(f),g=n(39839),O=n(48618),b=n(26805),h=n(94014),m=n(51423),j=n(85893),w=["Media","Card","Button","item"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=function(e){var t=e.Media,n=e.Card,r=e.Button,c=e.item,u=(0,a.Z)(e,w);return(0,j.jsxs)(o.Z,Z(Z({flexDirection:"column"},u),{},{children:[(0,j.jsxs)(i.Z,{lCols:3,mCols:1,sCols:1,mWrap:!0,sWrap:!0,children:[(0,j.jsx)(s.Z,{lSpan:2,children:(0,j.jsx)(l.ZP,{sizes:["s"],children:(0,j.jsx)(t,Z({},c))})}),(0,j.jsx)(s.Z,{children:(0,j.jsx)(n,Z(Z({isFeatured:!0},c),{},{imageUrl:""}))})]}),r]}))};P.defaultProps={Card:function(e){var t=e.imageUrl,n=e.contentUrl,r=e.date,a=e.title,i=e.blurb,s=e.isFeatured;return(0,j.jsxs)(o.Z,{flexDirection:"column",children:[t&&(0,j.jsx)(h.ZP,{href:n,noStyle:!0,children:(0,j.jsx)(O.ZP,{aspect:p.ZP["16:9"],url:t,alt:a,sizes:{m:"33vw"}})}),r&&(0,j.jsx)(m.ZP,{color:"secondary",format:d()((0,g.G)(r))?m.ZP.Formats.Time:m.ZP.Formats.FullDateAndTime,date:r,variant:c.Z.text.heading.s,mt:4}),(0,j.jsx)(h.ZP,{variant:s?c.Z.text.heading.l:c.Z.text.heading.m,mt:2,href:n,children:y()(a)}),(0,j.jsx)(b.Z,{color:"primary",mt:2,content:i})]})}};var N=P},32398:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(59499),a=n(4730),o=n(246),i=n.n(o),s=n(11752),l=n.n(s),c=n(58207),u=n(86896),d=n(11163),p=n(53561),f=n(45778),y=n(95652),g=n(85893),O=["fetchNextPage","finishedPaginating","fetchingNextPage","loading","nextPageHref","backgroundColor"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=l()().publicRuntimeConfig.INFINITE_SCROLL_CONFIG,j=function(e){var t=e.fetchNextPage,n=e.finishedPaginating,r=e.fetchingNextPage,o=e.loading,s=e.nextPageHref,l=e.backgroundColor,b=(0,a.Z)(e,O),j=(0,u.Z)(),w=(0,d.useRouter)().asPath;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i(),{loadMore:t,initialLoad:!1,hasMore:!n,threshold:parseInt(m.INFINITE_SCROLL_LOADMORE_THRESHOLD_PX,10),children:(0,g.jsx)(y.ZP,h(h({},b),{},{loading:o}))}),r&&(0,g.jsx)(y.lZ,{useDelay:!1,backgroundColor:l}),!r&&!n&&!o&&(0,g.jsx)(c.Z,{bg:l,pb:3,children:(0,g.jsx)(f.Z,{onClick:function(e){e.preventDefault(),e.stopPropagation(),t(!0)},href:s||w,children:j.formatMessage(p.Z.loadMore)})})]})}},74776:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(58207),a=n(24890),o=n(66236),i=n(84786),s=n(41686),l=n(85893),c=(0,s.default)(r.Z).withConfig({displayName:"UATBanner__Trapezium",componentId:"j209jn-0"})(["clip-path:polygon(15% 0,85% 0,100% 100%,0 100%);"]),u=function(){return(0,l.jsx)(r.Z,{bg:"#ff8c00",width:"100%",position:"fixed",bottom:0,zIndex:10,height:10,opacity:.85,children:(0,l.jsx)(a.Z,{justifyContent:"center",alignItems:"end",height:"100%",children:(0,l.jsx)(c,{bg:"#ff8c00",height:20,px:5,children:(0,l.jsx)(o.Z,{variant:i.Z.text.small,children:"Server Environment: UAT"})})})})}},45778:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(59499),a=n(4730),o=n(24890),i=n(84786),s=n(78518);n(94014);var l=n(85893),c=["href","children"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=function(e){var t=e.href,n=e.children,r=(0,a.Z)(e,c);return(0,l.jsx)(o.Z,{justifyContent:"center",pt:3,children:(0,l.jsx)(s.Z,d(d({variant:i.Z.button.secondary,href:t},r),{},{children:n}))})}},72423:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(41686),a=n(61364),o=n(79828),i=n(85893),s=r.default.iframe.withConfig({displayName:"YoutubePlayer__Player",componentId:"sc-17o43m1-0"})(["position:absolute;top:0;left:0;width:100%;height:100%;"]),l=function(e){var t=e.youtubeId;return(0,i.jsx)(a.Z,{aspect:o.ZP["16:9"],children:(0,i.jsx)(s,{title:"Youtube Embed",id:"ytplayer",type:"text/html",src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allowFullScreen:!0})})}},35583:function(e,t,n){var r=n(67294),a=n(41686),o=n(16442),i=n(85893),s=a.default.div.withConfig({displayName:"CookieConsentBanner__CookieWrapper",componentId:"yp2n2q-0"})(["",""],function(e){var t=e.theme;return(0,a.css)(["background-color:",";"],t.colors.black)});t.Z=function(){return(0,r.useEffect)(function(){var e=function(){var e=document.getElementById("cookie-script-wrapper"),t=document.getElementById("cookiescript_injected_wrapper");e&&t&&e.appendChild(t)};return(0,o.Z)()&&window&&window.addEventListener("CookieScriptLoaded",e),function(){(0,o.Z)()&&window&&window.removeEventListener("CookieScriptLoaded",e)}},[]),(0,i.jsx)(s,{"data-testid":"cookie-script-wrapper",id:"cookie-script-wrapper"})}},65705:function(e,t,n){n.d(t,{D:function(){return a}});var r,a=((r=a||{})[r.RAOnRA=1]="RAOnRA",r[r.RAPro=2]="RAPro",r[r.Local=4]="Local",r[r.International=8]="International",r[r.General=9]="General",r[r.Tech=10]="Tech",r[r.Magazine=11]="Magazine",r[r.Festival=12]="Festival",r[r.Playlist=13]="Playlist",r[r.MixOfTheDay=14]="MixOfTheDay",r);t.Z={festival:"FESTIVAL",general:"GENERAL",international:"INTERNATIONAL",local:"LOCAL",magazine:"MAGAZINE",mixOfTheDay:"MIXOFTHEDAY",playlist:"PLAYLIST",raOnRa:"RAONRA",raPro:"RAPRO",tech:"TECH"}},99827:function(e,t,n){n.d(t,{P:function(){return w},Z:function(){return Z}});var r,a=n(59499),o=n(90116),i=n(93633),s=n(67294),l=n(27361),c=n.n(l),u=n(36968),d=n.n(u),p=n(82492),f=n.n(p),y=n(28852),g=n(11752),O=n.n(g),b=n(53993);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j=O()().publicRuntimeConfig.INFINITE_SCROLL_CONFIG,w=((r=w||{}).Cancellable="cancellable",r.Uncancellable="uncancellable",r),v=function(e,t,n){var r;return Math.floor(((null===(r=c()(e,t))||void 0===r?void 0:r.length)||0)/n.pageSize)+(n.page||1)},Z=function(e,t){var n=t.variables,r=t.dataKey,a=t.maxPages,l=t.cancelInterval,u=void 0===l?parseInt(j.INFINITE_SCROLL_CANCEL_INTERVAL_IN_MILLISECONDS,10):l,p=t.onLoadNextPage,g=void 0===p?function(){return null}:p,O=t.paginationType,h=void 0===O?w.Cancellable:O,Z=t.fetchPolicy,P=t.secondaryDataKey,N=(0,s.useState)(null),x=N[0],I=N[1],D=(0,s.useState)(!1),S=D[0],E=D[1],T=(0,s.useState)(1),C=T[0],F=T[1],L=(0,s.useState)(!1),A=L[0],R=L[1],_=(0,s.useState)(!1),M=_[0],k=_[1],$=(0,i.a)(e,{variables:n,onCompleted:function(e){var t=c()(e,r),a=!t||t.length<n.pageSize;F(1),R(!a)},fetchPolicy:void 0===Z?null:Z}),U=a&&C>=a||!A;return m(m({},$),{},{fetchNextPage:function(e){var t=!0===e;if(!$.loading&&!M&&!U){if(S){if(!t)return;E(!1)}if(h===w.Cancellable&&u){var i=new Date;if(null!==x&&(0,y.Z)(i,x)<u&&!t){E(!0);return}I(i)}k(!0);var s=v($.data,r,n),l=!1;$.fetchMore({variables:{page:s},updateQuery:function(e,i){var s=i.fetchMoreResult;if(h===w.Cancellable&&!t&&1===C&&(0,b.R)())return l=!0,E(!0),k(!1),e;if(!s)return e;U=a&&C+1>=a,F(C+1),k(!1);var u=c()(s,r);if((!u||u.length<n.pageSize)&&(R(!1),U=!0,!(null!=u&&u.length)))return e;var p=d()({},r,[].concat((0,o.Z)(c()(e,r)),(0,o.Z)(u))),y=f()(p,e);if(P){var g=c()(s,P);if(g){var O=d()({},P,[].concat((0,o.Z)(c()(e,P)),(0,o.Z)(g)));y=f()(O,y)}}return y}}).then(function(){l||g(s,U)})}},fetchingNextPage:M,finishedPaginating:U})}},94943:function(e,t,n){var r,a=n(71383),o=(0,n(50456).Ps)(r||(r=(0,a.Z)(["\n  query GET_FEATURES(\n    $orderBy: OrderByType\n    $count: Int\n    $type: FeatureType\n    $dateFrom: DateTime\n    $dateTo: DateTime\n    $excludeIds: [ID]\n  ) {\n    features(\n      orderBy: $orderBy\n      limit: $count\n      type: $type\n      dateFrom: $dateFrom\n      dateTo: $dateTo\n      excludeIds: $excludeIds\n    ) {\n      id\n      title\n      blurb\n      date\n      images(type: MOBILE) {\n        imageUrl\n      }\n      imageListingUrl\n      contentUrl\n      author {\n        id\n        name\n        imageUrl\n        username\n        contributor\n      }\n      series {\n        id\n        seriesRef\n        title\n        contentUrl\n      }\n      featured\n      youtubeId\n    }\n  }\n"])));t.Z=o}}]);
//# sourceMappingURL=41192-48b4fcef136648ef.js.map