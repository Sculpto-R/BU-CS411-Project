(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29272],{38881:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),i=(0,n.default)(t);return isNaN(i)?new Date(NaN):(i&&r.setDate(r.getDate()+i),r)};var n=i(r(92121)),a=i(r(33848)),o=i(r(92897));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},97789:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),i=(0,n.default)(t);if(isNaN(i))return new Date(NaN);if(!i)return r;var u=r.getDate(),c=new Date(r.getTime());return(c.setMonth(r.getMonth()+i+1,0),u>=c.getDate())?c:(r.setFullYear(c.getFullYear(),c.getMonth(),u),r)};var n=i(r(92121)),a=i(r(33848)),o=i(r(92897));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},30646:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()===o.getTime()};var n=o(r(96931)),a=o(r(92897));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},96931:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return t.setHours(0,0,0,0),t};var n=o(r(33848)),a=o(r(92897));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},88240:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return er}});var n,a=r(59499),o=r(86896),i=r(97789),u=r.n(i),c=r(49815),s=r(85833),l=r(58678),f=r(76250),d=r(16018),p=r(20695),m=r(69358),b=r(54039),j=r(1929),g=r(81211),y=r(27834),O=r(29362),v=r(24890),E=r(84786),Z=r(32681),P=r(23564),h=r(45697),w=r(93633);function x(e){var t=e.children,r=e.query,n=(0,P._T)(e,["children","query"]),a=(0,w.a)(r,n);return a?t(a):null}x.propTypes={client:h.object,children:h.func.isRequired,fetchPolicy:h.string,notifyOnNetworkStatusChange:h.bool,onCompleted:h.func,onError:h.func,pollInterval:h.number,query:h.object.isRequired,variables:h.object,ssr:h.bool,partialRefetch:h.bool,returnPartialData:h.bool};var D=r(95652),T=r(72423),N=r(13391),R=r(26805),_=r(94014),A=r(45778),M=r(71383),C=(0,r(50456).Ps)(n||(n=(0,M.Z)(["\n  query GET_LATEST_VIDEO {\n    features(type: FILM, limit: 1) {\n      id\n      title\n      blurb\n      imageUrl\n      imageListingUrl\n      contentUrl\n      youtubeId\n    }\n  }\n"]))),I=r(85893);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var G=function(e){var t=e.contentUrl,r=e.title,n=e.blurb;return(0,I.jsxs)(v.Z,{flexDirection:"column",children:[(0,I.jsx)(_.ZP,{variant:E.Z.text.heading.l,mt:2,href:t,children:r}),(0,I.jsx)(R.Z,{color:"primary",mt:2,content:n})]})},U=function(e){var t=e.data,r=(0,o.Z)();return(0,I.jsx)(Z.Z.Stacked,{title:r.formatMessage(s.Z.latestFilm),children:(0,I.jsx)(N.Z,{Media:T.Z,Card:G,Button:(0,I.jsx)(A.Z,{href:"/films",children:r.formatMessage(s.Z.viewMoreFilms)}),item:t[0]})})},k=function(){return(0,I.jsx)(x,{query:C,children:function(e){return(0,I.jsx)(D.ZP,F(F({},e),{},{dataKey:"features",markup:U}))}})},L=r(29995),z=r(27044),V=r(66746),H=r(61297),W=r(75089);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var X=function(e){var t=e.data,r=(0,o.Z)();return(0,I.jsx)(Z.Z.Stacked,{title:r.formatMessage(W.Z.exchange),children:(0,I.jsx)(z.Z,{Card:function(e){return(0,I.jsx)(V.Z,q({musicType:"exchange",urlFormatter:L.j8},e))},mCols:3,lWrap:!0,Button:(0,I.jsx)(A.Z,{href:"/exchange",children:r.formatMessage(W.Z.viewMoreExchanges)}),items:t})})},$=function(){var e=(0,w.a)(H.Z,{variables:{count:6}});return(0,I.jsx)(D.ZP,q(q({},e),{},{dataKey:"exchanges",markup:X}))},B=r(87319),K=r(42401),J=r(57151);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var ee=[[f.Z.PAGE,"/magazine"],[f.Z.CATEGORY,"Magazine"],[f.Z.SECTION,"MagazineHome"]],et=function(){var e=(0,o.Z)(),t=(0,c.w)();(0,d.N)(ee);var r=(0,J.Z)({titleMessage:{message:l.Z.magazineHomeTitle},descriptionMessage:{message:l.Z.magazineHomeDescription}});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(K.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r)),(0,I.jsx)(m.ZP,{text:e.formatMessage(s.Z.magazine)}),(0,I.jsx)(b.Z,{summaryText:e.formatMessage(s.Z.magazineSummary)}),(0,I.jsxs)(j.f,{children:[(0,I.jsx)(g.Z,{AdComponent:(0,I.jsx)(p.ZP,{variant:p.ZP.variants.MPU_General_2,mt:{s:4,m:5}})}),(0,I.jsx)(O.default,{title:e.formatMessage(s.Z.latestFeatures)}),(0,I.jsx)(k,{}),(0,I.jsx)($,{})]}),(0,I.jsxs)(j.f,{bg:"grey.80",children:[(0,I.jsx)(y.Z,{type:"FILM"}),(0,I.jsx)(y.Z,{type:"STANDARD"})]}),(0,I.jsx)(B.Z,{dateFrom:u()(t,-6),dateTo:new Date(t),skip:4})]})},er=(0,r(12623).Z)(function(){return(0,I.jsx)(et,{})})},66746:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(59499),a=r(86896),o=r(24890),i=r(97788),u=r(58207),c=r(84786),s=r(27955),l=r.n(s),f=r(29995),d=r(75089),p=r(48618),m=r(26805),b=r(4949),j=r(59966),g=r(94014),y=r(1800),O=r(51423),v=r(18710),E=r(85893);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=function(e){var t=e.contentTitle,r=e.imageUrl,n=e.title,s=e.blurb,Z=e.author,h=e.labels,w=e.Button,x=e.musicType,D=e.translation,T=e.contentUrl,N=e.urlFormatter,R=e.lazyRootRef,_=e.recommended,A=e.date,M=(0,a.Z)(),C=[];return h&&h.forEach(function(e){var t=e.name;e.live?C.push(P({text:t},(0,f.zL)(e.contentUrl))):C.push({text:t})}),A&&C.push({date:A,dateFormat:O.ZP.Formats.Year}),_&&C.push({tag:!0,text:M.formatMessage(d.Z.recommends)}),(0,E.jsxs)(o.Z,{flexDirection:"column","data-pw-test-id":v.Z.musicCard,children:[t&&(0,E.jsx)(i.Z,{children:t}),(0,E.jsx)(u.Z,{mb:3,children:(0,E.jsx)(g.ZP,P(P({noStyle:!0},N(T)),{},{children:(0,E.jsx)(p.ZP,{url:r,alt:"Cover image for ".concat(n).concat(x?" ".concat(x):""),sizes:{m:"25vw"},lazyRootRef:R})}))}),(0,E.jsx)(y.Z,{items:C}),(0,E.jsx)(j.Z,{children:(0,E.jsx)(g.ZP,P(P({color:"primary",variant:c.Z.text.heading.m},N(T)),{},{children:l()(n)}))}),(s||(null==D?void 0:D.blurb))&&(0,E.jsx)(m.Z,{color:"primary",mt:2,content:s||(null==D?void 0:D.blurb)}),Z&&(0,E.jsx)(b.Z,{mt:2,name:Z.name,imageUrl:Z.imageUrl,username:Z.username,contributor:Z.contributor}),w]})}},50923:function(e,t,r){"use strict";r.d(t,{IA:function(){return p},Iv:function(){return l},Rj:function(){return c},Xm:function(){return m},ar:function(){return f},lx:function(){return s},mX:function(){return d},wD:function(){return u}});var n,a,o,i=r(59499),u={Event:"EVENT",Review:"REVIEW",Contributor:"CONTRIBUTOR",News:"NEWS"},c=(o={},(0,i.Z)(o,u.Event,["EVENT"]),(0,i.Z)(o,u.Review,["REVIEW"]),(0,i.Z)(o,u.Contributor,["FEATURE","NEWS","REVIEW"]),(0,i.Z)(o,u.News,["NEWS"]),o),s={Year:"YEAR",Country:"COUNTRY",Artist:"ARTIST",DateRange:"DATERANGE",Promoter:"PROMOTER",Club:"CLUB",Genre:"GENRE",ReviewType:"REVIEWTYPE",Language:"LANGUAGE",Recommended:"RECOMMENDED",Author:"AUTHOR",Index:"INDEX",EventType:"EVENTTYPE",Pick:"PICK",Area:"AREA"},l=((n=l||{}).Id="id",n.EventDate="eventDate",n.InterestedCount="interestedCount",n.EventDatePosted="eventDatePosted",n.Date="date",n.Area="area",n.Areas="areas",n.ListingDate="listingDate",n.Genre="genre",n.ListingPosition="listingPosition",n.IsPick="isPick",n.EventType="eventType",n.TitleKeyword="titleKeyword",n.Score="score",n.NewsLocalityType="newsLocalityType",n.NewsType="type",n.NewsHeadline="newsHeadline",n.NewsViews="newsViews",n.Location="location",n);Object.freeze(l);var f={Event:"event",Artist:"artist",Club:"club",Promoter:"promoter",Label:"label",Area:"area",News:"news",Review:"review",Feature:"feature"},d={Ascending:"ASCENDING",Descending:"DESCENDING"},p={Date:"DATE",EventDate:"EVENTDATE",ReviewDate:"REVIEWDATE"},m=((a=m||{})[a.Regional=0]="Regional",a[a.Countrywide=1]="Countrywide",a[a.Global=2]="Global",a)},16018:function(e,t,r){"use strict";r.d(t,{N:function(){return o}});var n=r(67294);r(76250);var a=r(56831),o=function(e){var t=(0,a.pA)().dispatch,r=(0,n.useRef)(e);(0,n.useEffect)(function(){t({type:a.Nw.SET_TARGETING,payload:r.current})},[t])}},61297:function(e,t,r){"use strict";var n,a=r(71383),o=(0,r(50456).Ps)(n||(n=(0,a.Z)(["\n  query GET_EXCHANGES($count: Int, $dateFrom: DateTime, $dateTo: DateTime) {\n    exchanges(limit: $count, dateFrom: $dateFrom, dateTo: $dateTo) {\n      blurb\n      id\n      imageUrl\n      contentUrl\n      title\n      date\n      isTheHour\n    }\n  }\n"])));t.Z=o},62551:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/magazine",function(){return r(88240)}])}},function(e){e.O(0,[97837,28333,92236,73866,51655,14351,242,73082,23846,60661,82798,99788,6335,96760,5290,72786,91680,23821,95257,21826,39413,8291,41192,49774,92888,40179],function(){return e(e.s=62551)}),_N_E=e.O()}]);
//# sourceMappingURL=magazine-2fb9ebb89377b0fc.js.map