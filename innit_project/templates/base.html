<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>EventsMap (London)</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/modern-normalize/modern-normalize.css">
    <style>
        body { font-family: sans-serif; max-width: 900px; margin: 1rem auto; padding: 1rem; }
        header { display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem; }
        nav a { margin-right: 0.5rem; }
        .flash { border:1px solid #ddd; padding:0.5rem; margin-bottom:1rem; background:#fdfdfd; }
        .container { padding: 1rem; border:1px solid #eee; border-radius:6px; background: #fff; }
        .avatar { width:80px; height:80px; border-radius:50%; object-fit:cover; }
    </style>
    </head>
    <body>
    <header>
        <h1><a href="{% url 'home' %}">EventsMap (London)</a></h1>
        <nav>
        {% if user.is_authenticated %}
            <span>Hello {{ user.profile.display_name|default:user.full_name|default:user.email }}</span>
            <a href="{% url 'accounts:profile' %}">Profile</a>
            <a href="{% url 'accounts:logout' %}">Logout</a>
        {% else %}
            <a href="{% url 'accounts:login' %}">Login</a>
            <a href="{% url 'accounts:register' %}">Register</a>
        {% endif %}
        </nav>
    </header>

    {% for msg in messages %}
        <div class="flash">{{ msg }}</div>
    {% endfor %}

    <main class="container">
        {% block content %}{% endblock %}
    </main>

    <footer style="margin-top:1rem; color:#666">
        <small>London-only events app â€” demo</small>
    </footer>
    </body>
    </html>
