{% extends "base.html" %}
{% block content %}
    <h2>Home — London events map (placeholder)</h2>
    {% if user.is_authenticated %}
        <p>Welcome, {{ user.profile.display_name|default:user.full_name|default:user.email }}.</p>
        <p>Your borough: <strong>{{ user.borough }}</strong></p>
        <p>Your preferences: 
        {% if preferences %}
            {{ preferences|join:", " }}
        {% else %}
            <em>No preferences set — go to your profile to set keywords.</em>
        {% endif %}
        </p>
        <div id="map-placeholder" style="height:400px; border:1px dashed #ccc; display:flex; align-items:center; justify-content:center;">
        <small>Map will be displayed here (events matching your keywords in London)</small>
        </div>
    {% else %}
        <p>Please <a href="{% url 'accounts:login' %}">log in</a> to see events tailored to you.</p>
    {% endif %}
{% endblock %}
